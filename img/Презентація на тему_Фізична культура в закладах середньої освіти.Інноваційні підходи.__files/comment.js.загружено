/*! For license information please see comment.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[6,94],{1:function(t,e,i){"use strict";(function(t){i.d(e,"g",(function(){return a})),i.d(e,"h",(function(){return r})),i.d(e,"i",(function(){return o})),i.d(e,"u",(function(){return c})),i.d(e,"f",(function(){return l})),i.d(e,"n",(function(){return u})),i.d(e,"r",(function(){return d})),i.d(e,"p",(function(){return p})),i.d(e,"k",(function(){return v})),i.d(e,"q",(function(){return f})),i.d(e,"o",(function(){return h})),i.d(e,"w",(function(){return _})),i.d(e,"y",(function(){return m})),i.d(e,"j",(function(){return g})),i.d(e,"a",(function(){return y})),i.d(e,"s",(function(){return b})),i.d(e,"t",(function(){return k})),i.d(e,"m",(function(){return x})),i.d(e,"v",(function(){return S})),i.d(e,"z",(function(){return j})),i.d(e,"c",(function(){return P})),i.d(e,"b",(function(){return I})),i.d(e,"d",(function(){return O})),i.d(e,"l",(function(){return T})),i.d(e,"x",(function(){return A})),i.d(e,"e",(function(){return $}));var n=i(2);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,i){return e&&(t=t.replace(/(\.\w+)$/,(function(t){return"-".concat(e,"x").concat(i||e).concat(t)}))),c(t)+"/"+t}function r(t){return c(t)+"/o/"+t}function o(t){return c(t)+"/s/"+t}function c(t){var e=t.slice(0,2);return vo.servers&&vo.servers[e]?vo.servers[e]:vo.url_cloud}function l(t){switch(t){case"rtf":case"doc":case"docx":case"txt":return"doc";case"ppsx":case"ppt":case"pptm":case"pptx":return"ppt";case"rar":case"zip":return"zip";case"avi":case"mp4":case"mpg":return"avi";case"bmp":case"gif":case"jpg":case"jpeg":case"png":return"img";case"mp3":return"mp3";case"pdf":return"pdf"}return"na"}function u(t){if(!t)return!0;for(var e in vo.servers)if(0===t.indexOf(vo.servers[e]))return!1;return!0}function d(t,e){var i=2,n=t%100;if(n<10||n>20){var s=t%10;1===s?i=0:s>0&&s<5&&(i=1)}return e[i]?e[i].replace(/{n}/,t):t}function p(t){return"1"===String(t)?"Олімпіада":"Конкурс"}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.location.search;t=t.split("+").join(" ");for(var e,i={},n=/[?&]?([^=]+)=([^&]*)/g;e=n.exec(t);)i[decodeURIComponent(e[1])]=decodeURIComponent(e[2]);return i}function f(t,e){for(var i={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=i.parser[i.strictMode?"strict":"loose"].exec(t),s={},a=14;a--;)s[i.key[a]]=n[a]||"";switch(e){case"PHP_URL_SCHEME":return s.protocol;case"PHP_URL_HOST":return s.host;case"PHP_URL_PORT":return s.port;case"PHP_URL_USER":return s.user;case"PHP_URL_PASS":return s.password;case"PHP_URL_PATH":return s.path;case"PHP_URL_QUERY":return s.query;case"PHP_URL_FRAGMENT":return s.anchor;default:var r={};return""!==s.protocol&&(r.scheme=s.protocol),""!==s.host&&(r.host=s.host),""!==s.port&&(r.port=s.port),""!==s.user&&(r.user=s.user),""!==s.password&&(r.pass=s.password),""!==s.path&&(r.path=s.path),""!==s.query&&(r.query=s.query),""!==s.anchor&&(r.fragment=s.anchor),r}}function h(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!!vo.user_id||(t&&vo.dlg.show('Будь ласка, <a href="/site/login">Увійдіть</a> або <a href="/site/registration">Зареєструйтесь</a></div>'),!1)}function _(t){var e=vo.popup;if(t.status>=300)try{var i=JSON.parse(t.responseText);void 0!==i.message?e.error(i.message):e.error(t.status+" "+t.statusText+"<hr />"+t.responseText)}catch(i){e.error(t.status+" "+t.statusText+"<hr />"+t.responseText)}0===t.status&&e.error("Перевірте з'єднання з Інтернетом.")}function m(e,i){var n=e.file,s=e.file_rule,a=e.file_name,r=e.is_protected,o=i.success,c=i.error,l=i.uploadProgress,u=new FormData;u.append("file",""),a?u.append("file",n,a):u.append("file",n),s&&u.append("file_rule",s),r&&u.append("is_protected",r),t("<form>",{attr:{enctype:"multipart/form-data"}}).ajaxSubmit({method:"POST",url:vo.url_cloud+"/ext/file/upload",xhrFields:{withCredentials:!0},formData:u,success:o,error:c,uploadProgress:l})}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d.m.Y H:i:s",i=new Date(1e3*t),n=function(t){return t<10?"0"+t:t},s=["січень","лютий","березень","квітень","травень","червень","липень","серпень","вересень","жовтень","листопад","грудень"],a=["січня","лютого","березня","квітня","травня","червня","липня","серпня","вересня","жовтня","листопада","грудня"],r={d:n(i.getDate()),m:n(i.getMonth()+1),Y:n(i.getFullYear()),F:s[i.getMonth()],F_:a[i.getMonth()],H:n(i.getHours()),i:n(i.getMinutes()),s:n(i.getSeconds()),"?":11===i.getHours()?"об":"о"};return String(e).replace(/\?|F_|F|d|m|Y|H|i|s/g,(function(t){return r[t]||""}))}function y(t,e,i){return t&&t.avatar?(e||(e=90),i||(i=e),a(t.avatar,e,i)):vo.user_no_avatar}function b(t){return t?"/user/id"+t.id_user:"#"}var w="[-A-Z0-9¡-퟿豈-﷏ﷰ-￯+&@#\\/%=~_|$?!:,.]",C=new RegExp("\\b".concat("(?:(?:https?|ftp|file):\\/\\/)","(").concat("[-a-zA-Z0-9@:%._+~#=]{2,256}\\.[a-z]{2,6}",")(?:&amp;|\\(").concat(w,"*\\)|").concat(w,")*(?:\\(").concat(w,"*\\)|").concat("[A-Z0-9¡-퟿豈-﷏ﷰ-￯+&@#\\/%=~_|$]",")"),"gi");function k(t){return t.replace(C,(function(t,e){var i=t=decodeURI(t.replace(/&amp;/g,"&")),n=location.hostname;return e===n||e.endsWith("."+n)||(i="/site/out?url="+encodeURIComponent(t)),'<a href="'.concat(i,'" target="_blank">').concat(t,"</a>")}))}function x(t,e){var i=e?1e3:1024;if(Math.abs(t)<i)return t+" B";var n=e?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],s=-1;do{t/=i,++s}while(Math.abs(t)>=i&&s<n.length-1);return t.toFixed(1)+" "+n[s]}function S(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=n.a.extend(t);vo.dlg.show("<div id='i-dialog-mount'></div>",i,(function(){a.$destroy()}));var a=new s(e).$mount("#i-dialog-mount");return a.$on("close",(function(){vo.dlg.hide()})),a}function j(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e.join("&")}function P(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=String(t||""),!e||"object"!==s(e))return t;var i=j(JSON.parse(JSON.stringify(e)));return i?(-1===t.indexOf("?")?t+="?"+i:t+="&"+i,t):t}function I(t){t=parseInt(t);var e={1:-1,2:1,4:2,8:3,16:4,32:5,64:6,128:7,256:8,512:9,1024:10,2048:11,4096:12,8192:13},i=[];for(var n in e)n&t&&i.push(e[n]);return i}function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" клас";return t>=1&&t<=12?t+e:-1==t?"дошкільнята (5-6 років)":-2==t?"дошкільнята (3-4 роки)":13==t?"дорослі":""}function T(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'<span style="color: #fff;background: #5ebcf7;">',n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"</span>";return e?String(t).replace(new RegExp($(String(e)),"gi"),i+"$&"+n):t}function A(t,e,i){if(null===t||null===e||void 0===t||void 0===e)return 0;var n,s,a,r,o=0,c=0,l=0,u=(t+="").length,d=(e+="").length;for(n=0;n<u;n++)for(s=0;s<d;s++){for(a=0;n+a<u&&s+a<d&&t.charAt(n+a)===e.charAt(s+a);a++);a>l&&(l=a,o=n,c=s)}return(r=l)&&(o&&c&&(r+=A(t.substr(0,o),e.substr(0,c))),o+l<u&&c+l<d&&(r+=A(t.substr(o+l,u-o-l),e.substr(c+l,d-c-l)))),i?200*r/(u+d):r}function $(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}).call(this,i(4))},100:function(t,e){function i(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(i(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&i(t.slice(0,0))}(t)||!!t._isBuffer)}},102:function(t,e,i){"use strict";var n=i(35);i.n(n).a},103:function(t,e,i){"use strict";i.r(e);i(97);var n=i(2),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"a-card-okno",class:{"cart-disable":t.is_update}},[t.defCartItemsAllCount?i("div",[i("div",{staticClass:"v-subject-select-title"},[t._v("Замовлення товарів і послуг")]),t._v(" "),i("div",{staticClass:"a-c-bloc"},t._l(t.defCartItemsAll,(function(t){return i("item",{key:t.id,attrs:{item:t}})})),1),t._v(" "),t.defCartItemsFreeCount?[i("div",{staticClass:"v-subject-select-title"},[t._v("Додатково Ви отримаєте")]),t._v(" "),i("div",{staticClass:"a-c-bloc"},t._l(t.defCartItemsFree,(function(t){return i("item-free",{key:t.id,attrs:{item:t}})})),1)]:t._e(),t._v(" "),i("div",{staticClass:"v-row a-c-info"},[t.defCart.cost!=t.defCart.cost_full?i("div",{staticClass:"a-c-non-znishka"},[t._v("Ціна без знижок: "+t._s(t.defCart.cost_full)+" грн")]):t._e(),t._v(" "),i("div",{staticClass:"v-col-6"},[i("button",{staticClass:"a-c-dalie",on:{click:t.close}},[t._v("Продовжити вибір"),i("br"),t._v("товарів і послуг ")])]),t._v(" "),i("div",{staticClass:"v-col-6 v-col-last"},[t.defCartItemsCount?i("div",[i("div",{staticClass:"a-c-znishka"},[t._v("До сплати: "),t.defCart.cost!=t.needPayReal?i("s",[t._v(t._s(t.defCart.cost)+" грн")]):t._e(),t._v(" "),i("b",[t._v(t._s(t.needPayReal)+" грн")]),t._v(" "),i("a",{staticClass:"a-c-cards",attrs:{href:t.urlCheckout}},[t._v("Перейти до оформлення")])]),t._v(" "),i("div",[i("small",[t._v("Кешбек: "+t._s(t.bonus)+" грн | Внутрішній рахунок: "+t._s(t.acc)+" грн")])])]):i("div",{staticClass:"v-row a-c-info"},[t._v("\n          У кошику відсутні товари для оформлення\n        ")])])]),t._v(" "),t._m(0),t._v(" "),t.defCartItemsCount?i("div",[t.defCart.is_delivery?i("p",{staticStyle:{color:"#b92928"}},[t._v("На сторінці оформлення замовлення Ви зможете додатково застосувати кешбек, обрати зручний спосіб оплати та вказати адресу доставки")]):i("p",{staticStyle:{color:"#b92928"}},[t._v("На сторінці оформлення замовлення Ви зможете додатково застосувати кешбек та обрати зручний спосіб оплати")])]):t._e()],2):i("div",[t.is_update?i("span",{staticClass:"v-bar"}):t._e(),t._v(" "),i("div",{staticClass:"v-subject-select-title"},[t._v("Ваш кошик порожній")]),t._v(" "),i("p",[t._v("Ви можете придбати товари та послуги в наступних розділах:")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3)])])};s._withStripped=!0;var a=i(3),r=i(33);function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u={name:"cart",components:{ItemFree:i(34).a,Item:r.a},computed:c(c(c({},Object(a.d)(["is_update","cart_default_id"])),Object(a.c)(["cart","cartItemsAll","cartItemsCount","cartItemsAllCount","cartItemsFree","cartItemsFreeCount","bonus","acc"])),{},{defCart:function(){return this.cart(this.cart_default_id)},defCartItemsAll:function(){return this.cartItemsAll(this.cart_default_id)},defCartItemsCount:function(){return this.cartItemsCount(this.cart_default_id)},defCartItemsAllCount:function(){return this.cartItemsAllCount(this.cart_default_id)},defCartItemsFree:function(){return this.cartItemsFree(this.cart_default_id)},defCartItemsFreeCount:function(){return this.cartItemsFreeCount(this.cart_default_id)},urlCheckout:function(){return this.defCart.id?"/cart/checkout?id="+this.defCart.id:"/cart"},needPayReal:function(){var t=this.defCart.cost-this.needPayCashback-this.needPayAcc;return Math.max(t,0)},needPayCashback:function(){var t=Math.max(Math.floor(this.defCart.cost_digital/2-this.defCart.pay_bonus),0);return Math.min(this.bonus,t)},needPayAcc:function(){var t=Math.max(this.defCart.cost-this.defCart.pay-this.needPayCashback,0);return Math.min(this.acc,t)}}),methods:{close:function(){vo.dlg.hide()}}},d=(i(102),i(0)),p=Object(d.a)(u,s,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n-baner-slider"},[i("a",{staticClass:"n-slider__item n-slide-1",attrs:{href:"/lp/saint-nicholas-2020"}}),t._v(" "),i("a",{staticClass:"n-slider__item n-slide-2",attrs:{href:"/market/chashka-znannia-moia-syla-808.html"}}),t._v(" "),i("a",{staticClass:"n-slider__item n-slide-3",attrs:{href:"/market/vseosvita"}}),t._v(" "),i("a",{staticClass:"n-slider__item n-slide-4",attrs:{href:"/market/vseosvita"}}),t._v(" "),i("a",{staticClass:"n-slider__item n-slide-5",attrs:{href:"/market/vseosvita"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n-shop-btn-cart"},[i("a",{attrs:{href:"/market/vseosvita"}},[i("span",{staticClass:"n-con-icon"},[i("i",{staticClass:"n-sn-icons n-sn-shop"})]),t._v(" "),i("span",[t._v("\n           Фірмовий магазин\n        ")])]),t._v(" "),i("a",{attrs:{href:"/webinar"}},[i("span",{staticClass:"n-con-icon"},[i("i",{staticClass:"n-sn-icons n-sn-vebinar"})]),t._v(" "),i("span",[t._v("\n           Вебінари\n        ")])]),t._v(" "),i("a",{attrs:{href:"/course"}},[i("span",{staticClass:"n-con-icon"},[i("i",{staticClass:"n-sn-icons n-sn-kourse"})]),t._v(" "),i("span",[t._v("\n           Курси\n        ")])]),t._v(" "),i("a",{attrs:{href:"/conference"}},[i("span",{staticClass:"n-con-icon"},[i("i",{staticClass:"n-sn-icons n-sn-konference"})]),t._v(" "),i("span",[t._v("\n            Конференція\n        ")])]),t._v(" "),i("a",{attrs:{href:"/olympiad/default/konkurs"}},[i("span",{staticClass:"n-con-icon"},[i("i",{staticClass:"n-sn-icons n-sn-konkurs"})]),t._v(" "),i("span",[t._v("\n             Конкурси\n        ")])]),t._v(" "),i("a",{attrs:{href:"/zno"}},[i("span",{staticClass:"n-con-icon"},[i("i",{staticClass:"n-sn-icons n-sn-zno"})]),t._v(" "),i("span",[t._v("\n            ЗНО\n        ")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n-baner-slider"},[i("a",{staticClass:"n-slider__item n-slide-1",attrs:{href:"/lp/saint-nicholas-2020"}}),t._v(" "),i("a",{staticClass:"n-slider__item n-slide-2",attrs:{href:"/market/chashka-znannia-moia-syla-808.html"}}),t._v(" "),i("a",{staticClass:"n-slider__item n-slide-3",attrs:{href:"/market/vseosvita"}}),t._v(" "),i("a",{staticClass:"n-slider__item n-slide-4",attrs:{href:"/market/vseosvita"}}),t._v(" "),i("a",{staticClass:"n-slider__item n-slide-5",attrs:{href:"/market/vseosvita"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",{staticStyle:{color:"#b92928"}},[t._v("На сторінці оформлення замовлення Ви зможете додатково застосувати кешбек, обрати зручний спосіб оплати та вказати адресу доставки")])])}],!1,null,"082dde0c",null);p.options.__file="js/modules/cart/components/cart.vue";var v=p.exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"a-card n-card-header",on:{click:t.cartShow}},[t.defCartItemsCount?i("div",{staticClass:"n-card-content"},[i("i",{staticClass:"a-card-ikon a-card-glav"},[i("span",{staticClass:"a-card-big",on:{click:t.cartShow}},[t._v(t._s(t.defCartItemsCount))])])]):i("div",[i("i",{staticClass:"a-card-ikon a-card-none"})])])};function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function _(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){m(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function m(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}f._withStripped=!0;var g={name:"info",computed:_(_(_({},Object(a.d)(["cart_default_id"])),Object(a.c)(["cartItemsCount"])),{},{defCartItemsCount:function(){return this.cartItemsCount(this.cart_default_id)}}),methods:{cartShow:function(t){vo.cartShow()}}},y=Object(d.a)(g,f,[],!1,null,"06208388",null);y.options.__file="js/modules/cart/components/info.vue";var b=y.exports,w=i(56),C=i(7),k=i(1);n.a.use(a.b),vo.cartCheckout=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;C.a.dispatch("init",t).then((function(e){void 0!==e.cart&&void 0!==e.cart.id&&e.cart.id&&e.cart.id!=t&&(location.href="/cart/checkout?id="+e.cart.id)})),new n.a({el:"#sys-cart-checkout",render:function(e){return e(w.a,{props:{id_cart:t}})},store:C.a})},vo.cartShow=function(){C.a.dispatch("init"),Object(k.v)(v,{store:C.a})},vo.cartAdd=function(t){C.a.dispatch("setItem",{obj_key:t,count:1}),Object(k.v)(v,{store:C.a})},C.a.dispatch("init"),new n.a({el:"#sys-cart-info",render:function(t){return t(b)},store:C.a})},120:function(t,e,i){"use strict";(function(t){function n(t){var e=this.defaults&&this.defaults(),i=t[this.idAttribute||"id"];this.map[i]?Object.assign(this.map[i],e,t):(t=Object.assign({},e,t),this.list.push(t),this.map[i]=t)}function s(t){var e=this.defaults&&this.defaults();this.map[t.id]?Object.assign(this.map[t.id],e,t):(t=Object.assign({},e,t),this.list.unshift(t),this.map[t.id]=t)}function a(t,e){e.reset&&(this.list.splice(0,this.list.length),this.map={}),t.forEach(this.add,this)}function r(){}function o(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;t.ajax({url:e,data:i,xhrFields:{withCredentials:!0},type:"POST",dataType:"json",error:function(t){s(t)},success:function(t){n(t)}})}function c(t){return this.map[t]}i.d(e,"a",(function(){return n})),i.d(e,"d",(function(){return s})),i.d(e,"e",(function(){return a})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return c}));vo.url_msg}).call(this,i(4))},127:function(t,e){},13:function(t,e,i){"use strict";function n(t,e){return(e?"Мої класи ":"Архів ")+t+"/"+(parseInt(t)+1)+" н.р."}function s(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t+" клас";return t>12?i="дорослі":-2==t?i="дошкільнята (3-4 роки)":t<0&&(i="дошкільнята (5-6 років)"),"".concat(e?"(":"")+i+"".concat(e?")":"")}i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return s}))},15:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"e",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"d",(function(){return r})),i.d(e,"b",(function(){return c}));var n=i(1);function s(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t?(t=parseInt(t))<0?i:Object(n.j)(t,e):i}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return s(t,"d.m.Y H:i:s",e)}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return s(t,"d.m.Y ? H:i",e)}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return s(t,"d F_ ? H:i",e)}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return s(t,"d.m.Y",e)}},150:function(t,e,i){"use strict";(function(t){var n=i(1),s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";e.a={name:"dialog-gallery",props:["images","startAt"],data:function(){return{index:0,width:0,height:0,url:s,isLoading:!0}},created:function(){this.index=this.startAt,this.updateSize()},mounted:function(){t("#i-dialog").css({minWidth:"auto",maxWidth:"none"})},destroyed:function(){},methods:{next:function(){this.index=(this.index+1)%this.images.length,this.updateSize()},updateSize:function(){var t,e,i,s,a=this.images[this.index],r=a.file_width,o=a.file_height,c=r/o,l=window.innerWidth,u=window.innerHeight;l<480?(t=Math.min(.9*l,r),e=Math.min(u/2,o)):(t=Math.min(l/2,r),e=Math.min(u-200,o)),i=t/e>c?e/o:t/r,this.width=Math.floor(r*i),this.height=Math.floor(o*i),s=i>=1?Object(n.g)(a.file):Object(n.g)(a.file,this.width,this.height),this.loadImage(s)},close:function(){this.$emit("close")},loadImage:function(t){var e=this,i=new Image;this.isLoading=!0,this.url=s,i.onload=function(){e.url=t,e.isLoading=!1},i.onerror=function(){e.isLoading=!1},i.src=t},fileUrl:n.g}}}).call(this,i(4))},16:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-group n-input-category",attrs:{id:t.iWidgetContainerId}},[!1!==t.label?i("label",{staticClass:"control-label",attrs:{for:t.iInputId}},[t._v(t._s(t.iLabel))]):t._e(),t._v(" "),i("div",{staticClass:"help-block"}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"input",staticClass:"form-control",attrs:{type:"text",autocomplete:"off",id:t.iInputId,placeholder:t.placeholder},domProps:{value:t.title},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.pressEnter(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.keyNavigation(1,e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.keyNavigation(-1,e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.showSelectToggle(e)}],input:[function(e){e.target.composing||(t.title=e.target.value)},function(e){return t.showSelect(e.target.value)}],click:function(e){return t.showSelectToggle(e)},blur:function(e){return t.createOnBlur(e)},mousedown:function(e){return t.checkLogin(e)}}}),t._v(" "),i("i",{staticClass:"n-category-input-delete",attrs:{id:t.iClearId},on:{mousedown:function(e){return e.stopPropagation(),t.setTitleFromList("")}}},[i("span",[t._v("+")])]),t._v(" "),i("ul",{ref:"autocomplete",staticClass:"js-autocomplete vr-filtered-list",attrs:{id:t.iSelectId}},[t.filteredList.length?i("li",{staticClass:"n-disabled-li-category",on:{mousedown:function(t){t.preventDefault(),t.stopPropagation()}}},[i("strong",[t._v("Знайдено "+t._s(t.filteredList.length)+" записів:")])]):t.maybeSearchingList.length?i("li",{staticClass:"n-disabled-li-category",on:{mousedown:function(t){t.preventDefault(),t.stopPropagation()}}},[i("strong",[t._v("Можливо Ви маєте на увазі:")])]):i("li",{staticClass:"n-disabled-li-category",on:{mousedown:function(t){t.preventDefault(),t.stopPropagation()}}},[t._v("Буде додано новий предмет: "),i("strong",[t._v(t._s(t.title))])]),t._v(" "),t._l(t.categoriesList,(function(e){return i("li",{staticClass:"rk-filtered-item",domProps:{innerHTML:t._s(t.isActiveId(e.id)?e.title:t.highlightString(e.title))},on:{mousedown:function(i){return t.selectClickedNode(i,e.title)}}})}))],2)])};n._withStripped=!0;var s=i(28).a,a=i(0),r=Object(a.a)(s,n,[],!1,null,"2da7b5e0",null);r.options.__file="js/modules/category/App.vue";e.a=r.exports},17:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-test-page-modal"},[i("form",{attrs:{id:t.formId()}},[i("input",{attrs:{type:"hidden",name:"id_test"},domProps:{value:t.id_test}}),t._v(" "),i("input",{attrs:{type:"hidden",name:"id"},domProps:{value:t.config.id}}),t._v(" "),i("input",{attrs:{type:"hidden",name:"TestExecutionConfig[start_mode]"},domProps:{value:t.start_mode}}),t._v(" "),i("input",{attrs:{type:"hidden",name:"TestExecutionConfig[optionBitArray]",value:"0"}}),t._v(" "),t._l(t.hiddenInputs,(function(t,e){return i("input",{attrs:{type:"hidden",name:e},domProps:{value:t}})})),t._v(" "),t.is_lesson||t.is_journal?t._e():i("div",[i("div",{staticClass:"n-top-subject-title"},[t._v("Створіть своє проходження")]),t._v(" "),i("div",{staticClass:"v-test-page-modal-name"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:t.id_widget+"-title"}},[t._v("Назва "+t._s(t.is_poll?"опитування":"тестування"))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:t.id_widget+"-title",name:"TestExecutionConfig[title]",placeholder:"Назва "+(t.is_poll?"опитування":"тестування"),autocomplete:"off-title","aria-required":"true"},domProps:{value:t.title},on:{input:[function(e){e.target.composing||(t.title=e.target.value)},function(e){return t.input(e,"title")}]}})]),t._v(" "),i("span",[t._v("як приклад Ви можете вказати назву класу")])])]),t._v(" "),t.is_lesson?t._e():i("div",{staticClass:"n-regime-test-wrap"},[i("div",{staticClass:"n-subject-title"},[t._v("Режими "+t._s(t.is_poll?"опитування":"тестування"))]),t._v(" "),i("div",{staticClass:"v-test-page-modal-types-buttons"},[i("div",{class:["vr-start-mode",0===t.start_mode?"active":""]},[i("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.setNewStartMode(0)}}},[t._v("\n                        Активний\n                    ")])]),t._v(" "),i("div",{class:["vr-start-mode",15===t.start_mode?"active":""]},[i("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.setNewStartMode(15)}}},[t._v("\n                        Запланований\n                    ")])]),t._v(" "),i("div",{class:["vr-start-mode",30===t.start_mode?"active":""]},[i("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.setNewStartMode(30)}}},[t._v("\n                        Керований\n                    ")])])]),t._v(" "),i("div",{staticClass:"v-test-page-modal-types-buttons-desc"},[i("span",{directives:[{name:"show",rawName:"v-show",value:0===t.start_mode,expression:"start_mode === 0"}],staticClass:"vr-start-mode-desc"},[t._v("Почати проходження можна відразу. Цей режим ідеально підходить для проведення самостійних або контрольних робіт.")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:15===t.start_mode,expression:"start_mode === 15"}],staticClass:"vr-start-mode-desc"},[t._v("Почати "+t._s(t.is_poll?"опитування":"тестування")+" можна лише в заданий час. Цей режим ідеально підходить для перевірки знань учнів вдома.")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:30===t.start_mode,expression:"start_mode === 30"}],staticClass:"vr-start-mode-desc"},[t._v("Почати проходження можна лише за вказівкою. Цей режим особливий тим, що вчитель сам визначає тривалість "+t._s(t.is_poll?"опитування":"тестування")+".")])]),t._v(" "),i("div",{staticClass:"n-triangle"})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:-1!==[0,15].indexOf(t.start_mode),expression:"[0, 15].indexOf(start_mode) !== -1"}],staticClass:"v-test-page-modal-info "},[i("div",{staticClass:"v-test-page-modal-info-title"},[t._v("\n                Обмеження\n            ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:-1!==[15].indexOf(t.start_mode),expression:"[15].indexOf(start_mode) !== -1"}],staticClass:"v-test-page-modal-dates vr-dates-block n-test-page-modal-dates-none-margin-bottom"},[i("div",{staticClass:"n-form-group-test"},[i("input",{staticClass:"form-control n-form-control-input",attrs:{type:"text",id:t.id_widget+"-start-at",required:"",name:"TestExecutionConfig[startAtStr]"},domProps:{value:t.startAtStr},on:{input:function(e){return t.input(e,"startAtStr")}}}),t._v(" "),t._m(0)]),t._v(" "),i("div",{staticClass:"v-test-page-modal-date-block"},[i("div",{staticClass:"n-form-group-test"},[i("input",{staticClass:"form-control n-form-control-input",attrs:{type:"text",id:t.id_widget+"-end-at",required:"",name:"TestExecutionConfig[endAtStr]"},domProps:{value:t.endAtStr},on:{input:function(e){return t.input(e,"endAtStr")}}}),t._v(" "),t._m(1)])])]),t._v(" "),i("div",{staticClass:"v-test-page-modal-dates n-test-page-modal-dates-none-margin-bottom"},[i("div",{staticClass:"v-test-page-modal-date-block"},[i("div",{staticClass:"n-form-group-test"},[i("input",{staticClass:"form-control n-form-control-input",attrs:{type:"text",id:t.id_widget+"-duration",required:"",name:"TestExecutionConfig[duration]"},domProps:{value:t.duration},on:{input:function(e){return t.input(e,"duration")}}}),t._v(" "),i("label",{staticClass:"n-form-control-label"},[i("span",[t._v("введіть час "+t._s(t.is_poll?"опитування":"тестування")+" (хв.)")])])])]),t._v(" "),t.is_poll?t._e():i("div",{staticClass:"v-test-page-modal-date-block"},[i("input",{attrs:{type:"hidden",name:"TestExecutionConfig[is_show_result]",value:"0"}}),t._v(" "),i("label",{staticClass:"n-label-type-checkbox"},[i("input",{attrs:{type:"checkbox",name:"TestExecutionConfig[is_show_result]",value:"1"},domProps:{checked:1===t.is_show_result},on:{change:function(e){return t.change(e,"is_show_result")}}}),t._v(" "),i("span",[t._v("Показати результати")])])]),t._v(" "),i("div",{staticClass:"v-test-page-modal-date-block"},[i("input",{attrs:{type:"hidden",name:"TestExecutionConfig[is_show_answer]",value:"0"}}),t._v(" "),i("label",{staticClass:"n-label-type-checkbox"},[i("input",{attrs:{type:"checkbox",name:"TestExecutionConfig[is_show_answer]",value:"1"},domProps:{checked:1===t.is_show_answer},on:{change:function(e){return t.change(e,"is_show_answer")}}}),t._v("\n                        Показати роботу над помилками")])])])]),t._v(" "),t.is_poll?t._e():i("div",{staticClass:"v-test-page-modal-info v-test-page-modal-evaluation"},[i("div",{staticClass:"v-test-page-modal-info-title"},[t._v("\n                Оцінювання\n            ")]),t._v(" "),t.is_lesson?t._e():i("div",{staticClass:"v-test-page-modal-dates n-column-test-page-modal-dates"},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label",attrs:{for:t.id_widget+"-mark_system"}},[t._v("Система оцінювання")]),t._v(" "),i("select",{staticClass:"form-control",attrs:{id:t.id_widget+"-mark_system",name:"TestExecutionConfig[mark_system]"},on:{change:function(e){return t.select(e,"mark_system")}}},[i("option",{attrs:{value:"0"},domProps:{selected:0===t.mark_system}},[t._v("[...]")]),t._v(" "),i("option",{attrs:{value:"1"},domProps:{selected:1===t.mark_system}},[t._v("Для учнів (12 балів)")]),t._v(" "),i("option",{attrs:{value:"2"},domProps:{selected:2===t.mark_system}},[t._v("Для дошкільнят (без оцінок)")]),t._v(" "),i("option",{attrs:{value:"3"},domProps:{selected:3===t.mark_system}},[t._v("Для студентів (100 балів, ECTS)")])])]),t._v(" "),i("div",{staticClass:"v-test-page-modal-dates"},[i("div",{staticClass:"v-test-page-modal-date-block"},[i("div",{staticClass:"n-form-group-test"},[i("input",{staticClass:"n-form-control-input",attrs:{type:"text",id:t.id_widget+"-max_mark",required:"",name:"TestExecutionConfig[max_mark]"},domProps:{value:t.mark_system?t.marks[t.mark_system].max_mark:t.max_mark},on:{input:function(e){return t.input(e,"max_mark")}}}),t._v(" "),t._m(2)])]),t._v(" "),i("div",{staticClass:"v-test-page-modal-date-block"},[i("div",{staticClass:"n-form-group-test"},[i("input",{staticClass:"n-form-control-input",attrs:{type:"text",pattern:"\\d+",id:t.id_widget+"-min_mark",required:"",name:"TestExecutionConfig[min_mark]"},domProps:{value:t.mark_system?t.marks[t.mark_system].min_mark:t.min_mark},on:{input:function(e){return t.input(e,"min_mark")}}}),t._v(" "),t._m(3)])])])]),t._v(" "),i("div",{staticClass:"v-test-page-modal-dates n-test-page-modal-dates-none-margin"},[i("div",{staticClass:"v-check-not-allow-check"},[i("div",{staticClass:"form-group"},[i("input",{attrs:{type:"hidden",name:"TestExecutionConfig[is_mark_parted]",value:"0"}}),t._v(" "),i("label",[i("input",{attrs:{type:"checkbox",id:t.id_widget+"-is_mark_parted",name:"TestExecutionConfig[is_mark_parted]",value:"1"},domProps:{checked:1===t.is_mark_parted},on:{change:function(e){return t.change(e,"is_mark_parted")}}}),t._v("\n                            Нараховувати бали за частково правильну відповідь")])])])]),t._v(" "),""!==t.marks[t.mark_system].desc?i("div",{staticClass:"v-test-page-modal-dates"},[i("div",{staticClass:"v-check-not-allow-check"},[i("div",{staticClass:"form-group"},[i("p",{staticClass:"a-inform-otsinka",domProps:{innerHTML:t._s(t.marks[t.mark_system].desc)}})])])]):t._e()]),t._v(" "),i("div",{staticClass:"v-test-page-modal-info v-test-page-modal-evaluation"},[i("div",{staticClass:"v-test-page-modal-info-title"},[t._v("\n                Додаткові опції\n            ")]),t._v(" "),i("div",{staticClass:"v-test-page-modal-dates"},[i("div",{staticClass:"v-check-not-allow-check"},[t.is_poll||t.is_lesson?t._e():i("div",{staticClass:"form-group"},[i("input",{attrs:{type:"hidden",name:"TestExecutionConfig[show_answer_mode]",value:"0"}}),i("label",[i("input",{attrs:{type:"checkbox",id:t.id_widget+"-show_answer_mode",name:"TestExecutionConfig[show_answer_mode]",value:"1"},domProps:{checked:1===t.show_answer_mode},on:{change:function(e){return t.change(e,"show_answer_mode")}}}),t._v("\n                        Показувати результат відповіді після кожного питання")])]),t._v(" "),i("div",{staticClass:"form-group"},[i("input",{attrs:{type:"hidden",name:"TestExecutionConfig[quest_order_mode]",value:"0"}}),i("label",[i("input",{attrs:{type:"checkbox",id:t.id_widget+"-quest_order_mode",name:"TestExecutionConfig[quest_order_mode]",value:"1"},domProps:{checked:1===t.quest_order_mode},on:{change:function(e){return t.change(e,"quest_order_mode")}}}),t._v(" Показувати варіанти відповіді у\n                        випадковому порядку")])]),t._v(" "),i("div",{staticClass:"form-group"},[i("input",{attrs:{type:"hidden",name:"TestExecutionConfig[is_quest_shuffle]",value:"0"}}),i("label",[i("input",{attrs:{type:"checkbox",id:t.id_widget+"-is_quest_shuffle",name:"TestExecutionConfig[is_quest_shuffle]",value:"1"},domProps:{checked:1===t.is_quest_shuffle},on:{change:function(e){return t.change(e,"is_quest_shuffle")}}}),t._v(" Показувати запитання у\n                        випадковому порядку")])]),t._v(" "),t.is_lesson?t._e():i("div",{staticClass:"form-group"},[i("input",{attrs:{type:"hidden",name:"TestExecutionConfig[is_session_fixed]",value:"0"}}),i("label",[i("input",{attrs:{type:"checkbox",id:t.id_widget+"-is_session_fixed",name:"TestExecutionConfig[is_session_fixed]",value:"1"},domProps:{checked:1===t.is_session_fixed},on:{change:function(e){return t.change(e,"is_session_fixed")}}}),t._v(" Заборонити проходити "+t._s(t.is_poll?"опитування":"тестування")+"\n                        з одного пристрою декільком учням")])]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",[i("input",{attrs:{type:"checkbox",id:t.id_widget+"-optionBitArray-1",name:"TestExecutionConfig[optionBitArray][]",value:"1"},domProps:{checked:t.optionBitArray.findIndex((function(t){return 1===parseInt(t)}))>=0},on:{change:function(e){return t.change(e,"optionBitArray")}}}),t._v(" Спрощений. Без переходу в повноекранний режим")])]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",[i("input",{attrs:{type:"checkbox",id:t.id_widget+"-optionBitArray-2",name:"TestExecutionConfig[optionBitArray][]",value:"2"},domProps:{checked:t.optionBitArray.findIndex((function(t){return 2===parseInt(t)}))>=0},on:{change:function(e){return t.change(e,"optionBitArray")}}}),t._v(" Видати сертифікат після проходження")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.optionBitArray.findIndex((function(t){return 2===parseInt(t)}))>=0,expression:"optionBitArray.findIndex(bit => parseInt(bit) === 2) >= 0"}],staticClass:"form-group"},[i("label",{staticClass:"control-label control-label-mb"},[t._v("\n                      Код шаблона сертифікату\n                    ")]),t._v(" "),i("input",{attrs:{type:"text",id:t.id_widget+"-id_cert_tpl",required:"",autocomplete:"off",name:"TestExecutionConfig[id_cert_tpl]"},domProps:{value:t.id_cert_tpl},on:{input:function(e){return t.input(e,"id_cert_tpl")}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label control-label-mb",attrs:{for:t.id_widget+"-view_mode"}},[t._v("Режим зовнішнього вигляду")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.view_mode,expression:"view_mode"}],staticClass:"form-control",attrs:{name:"TestExecutionConfig[view_mode]",id:t.id_widget+"-view_mode"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.view_mode=e.target.multiple?i:i[0]}}},[i("option",{domProps:{value:0}},[t._v("Стандартний")]),t._v(" "),i("option",{domProps:{value:1}},[t._v("Кахут")]),t._v(" "),i("option",{domProps:{value:2}},[t._v("Для слабозорих")])])])])])]),t._v(" "),t.is_lesson||t.is_journal?t._e():i("div",{staticClass:"n-test-wrap-btn-modal"},[i("a",{staticClass:"v-blue-button v-blue-button-big",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.save(e)}}},[t.config.id?i("span",[t._v("Зберегти зміни")]):i("span",[t._v("Створити "+t._s(t.is_poll?"опитування":"тестування"))])]),t._v(" "),i("a",{staticClass:"a-right a-red",attrs:{href:"javascript:void(0);",onclick:"vo.slideToggle('.vr-show-form-top', 'slow'); vo.scrollTo('#sys-test__start_buttons');"}},[t._v("Скасувати")])])],2)])};n._withStripped=!0;i(67);var s={name:"CreateTesting",mixins:[i(40).a],props:["id_widget","id_test","is_poll","config","is_lesson","is_journal","hiddenInputs"],data:function(){return{start_mode:0,title:"",duration:0,is_show_result:0,is_show_answer:0,max_mark:0,min_mark:0,mark_system:0,is_mark_parted:0,show_answer_mode:0,quest_order_mode:0,is_quest_shuffle:0,is_session_fixed:0,optionBitArray:[],startAtStr:"",endAtStr:"",id_cert_tpl:"",view_mode:0}},methods:{formId:function(){return"form-"+this.id_widget},change:function(t,e){if("optionBitArray"===e){var i=parseInt(t.target.value),n=this.optionBitArray.indexOf(i);t.target.checked&&-1===n?this[e].push(i):!t.target.checked&&n>=0&&this[e].splice(n,1)}else this[e]=t.target.checked?1:0},select:function(t,e){this[e]=parseInt(t.target.value),"mark_system"===e&&(this.max_mark=this.marks[this.mark_system].max_mark,this.min_mark=this.marks[this.mark_system].min_mark)},input:function(t,e){this[e]=t.target.value,["min_mark","max_mark"].indexOf(e)>=0&&(this.marks[0][e]=this[e]),["max_mark"].indexOf(e)>=0&&(this.mark_system=0)},setNewStartMode:function(t){this.start_mode=t},save:function(t){var e=this;new Promise((function(i){vo.ajax(t,e.config.id?"/ext/test/testing-update":"/ext/test/testing-create","#"+e.formId(),(function(t){i()}))}))}},created:function(){var t=this;for(var e in this.config)this.$data.hasOwnProperty(e)&&(this[e]=this.config[e]);this.config&&this.config.id||vo.ajax(event,"/ext/test/testing-template",{},(function(e){for(var i in e.config)t.$data.hasOwnProperty(i)&&(t[i]=e.config[i])}))},mounted:function(){window.init_inputmask(this.id_widget+"-start-at",{mask:"99-99-9999 99:99"}),window.init_inputmask(this.id_widget+"-end-at",{mask:"99-99-9999 99:99"})}},a=i(0),r=Object(a.a)(s,n,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"n-form-control-label"},[i("span",[t._v("введіть дату початку")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"n-form-control-label"},[i("span",[t._v("введіть дату закінчення")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"n-form-control-label"},[i("span",[t._v("\n                                      Максимальний бал за тест\n                                    ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{staticClass:"n-form-control-label"},[i("span",[t._v("\n                                      Мінімальний бал зарахування\n                                    ")])])}],!1,null,null,null);r.options.__file="js/modules/test-designer/create-testing/components/index.vue";e.a=r.exports},175:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("a",{staticClass:"st-achievement-img-close",on:{click:t.close}},[t._v("✖")]),t._v(" "),i("img",{class:{"achievement-img":t.isLoading},style:{width:t.width+"px",height:t.height+"px"},attrs:{src:t.url},on:{click:function(e){return t.next()}}})])};n._withStripped=!0;var s=i(150).a,a=i(0),r=Object(a.a)(s,n,[],!1,null,null,null);r.options.__file="js/components/dialog-gallery.vue";e.a=r.exports},181:function(t,e,i){"use strict";(function(t){var n=i(37),s=i(355),a=i(41),r=i(1);e.a={name:"comment-item-wrapper",components:{CommentItem:s.a,EditorMsg:a.a},props:["message","user","obj_id","obj_type","obj_sub_id","highlight","ids_pay","is_pin"],data:function(){return{comments:[],isResponding:!1,isDisabled:!1,showResponses:!0,isLoadingPrevResponses:!1}},methods:{respondStart:function(){var t=this;Object(r.o)()&&(this.isResponding=!0,this.$nextTick((function(){t.scrollToResponseEditor()})))},respondCancel:function(){this.isResponding=!1},respondSubmit:function(){var t=this;if(!this.isDisabled){var e=this.$refs.editor.getData();null!==e&&(this.isDisabled=!0,n.a.comments.send({id_parent:this.message.id,comment:e.text,attachment:e.files},{success:function(e){return t.respondSave(e)},error:function(){return t.isDisabled=!1}}),this.$refs.editor.clear(),this.$emit("edit-submit",this.message))}},respondSave:function(){this.isResponding=!1,this.isDisabled=!1},userFor:function(t){return n.a.users.get(t.id_user)},canRespondTo:function(){return!0},scrollToResponseEditor:function(){if(this.$el){var e=t(this.$el),i=e.offset();if(!i)return;var n=i.top+e.height(),s=t(window),a=n-s.height();a>s.scrollTop()&&t("body,html").stop(!0).animate({scrollTop:a},"slow")}},loadPrevResponses:function(){var t=this;if(!this.isLoadingPrevResponses){var e=this.comments[0].id;this.isLoadingPrevResponses=!0,n.a.comments.fetch({data:{obj_id:n.a.obj_id,obj_type:n.a.obj_type,obj_sub_id:n.a.obj_sub_id,id_comment:e,prev:6},prepend:!0,original:this.message,success:function(){t.isLoadingPrevResponses=!1}})}}},computed:{canRespond:function(){return!0},hasResponses:function(){return this.comments.length>0},hasResponsesNotLoaded:function(){return this.message.hasResponsesNotLoaded}},created:function(){this.comments=n.a.comments.getResponseThread(this.message.id)}}}).call(this,i(4))},182:function(t,e,i){"use strict";(function(t){var n=i(2),s=i(41),a=i(175),r=i(37),o=i(1);e.a=n.a.component("comment-item",{components:{EditorMsg:s.a},props:["message","user","ids_pay","is_pin"],data:function(){return{isEditing:!1,isDisabled:!1}},mounted:function(){if(+this.message.id===this.highlight&&this.$refs.highlightElement){var e=t(this.$refs.highlightElement),i=e.offset();if(i){var n=i.top+e.height()/2-window.innerHeight/2;t([document.documentElement,document.body]).animate({scrollTop:n}).queue((function(t){e.addClass("i-highlight-msg"),r.a.comments.highlightedCommentId=null,t()}))}}},computed:{isOwner:function(){var t=this;return this.user&&r.a.comments.owner_ids&&r.a.comments.owner_ids.find((function(e){return e===parseInt(t.user.id_user)}))},isAdmin:function(){return this.user&&parseInt(this.user.type)>0},isPay:function(){var t=this;return this.user&&this.ids_pay&&this.ids_pay.find((function(e){return e===t.user.id_user}))},isFlatView:function(){return r.a.comments.isFlat},highlight:function(){return r.a.comments.highlightedCommentId},userName:function(){return this.user?this.user.full_name:""},sentAt:function(){var t=parseInt(this.message.created_at),e=new Date(1e3*t);return"".concat(e.toLocaleDateString()," ").concat(e.toLocaleTimeString())},avatarUrl:function(){return Object(o.a)(this.user)},profileUrl:function(){return Object(o.s)(this.user)},messageHtml:function(){return Object(o.t)(this.message.msg||"")},canEdit:function(){return vo.is_admin_msg||+vo.user_id==+this.user.id_user},isUpdated:function(){return this.message.created_at!==this.message.updated_at},updatedAt:function(){var t=parseInt(this.message.updated_at),e=new Date(1e3*t);return"".concat(e.toLocaleDateString()," ").concat(e.toLocaleTimeString())},attachments:function(){var t=[],e=[],i=[];for(var n in this.message.attachments){if(!this.message.attachments.hasOwnProperty(n))return;var s=this.message.attachments[n];s.file_width?e.push(s):t.push(s),i.push(s)}return{files:t,images:e,all:i}}},methods:{gotoDiscussion:function(){r.a.comments.highlightedCommentId=+this.message.id,r.a.comments.onGotoDiscussion&&r.a.comments.onGotoDiscussion(+this.message.id)},formatSize:function(t){return Object(o.m)(t,!0)},fileUrl:o.g,viewImage:function(t){var e=this.attachments.images;Object(o.v)(a.a,{propsData:{images:e,startAt:e.indexOf(t)}})},editStart:function(){this.isDisabled||(this.isEditing=!0,this.$emit("edit-start",this.message))},editSubmit:function(){var t=this;if(!this.isDisabled){var e=this.$refs.editor.getData();null!==e&&(this.isDisabled=!0,r.a.comments.update({id:this.message.id,comment:e.text,attachment:e.files},{success:function(e){return t.editSave(e)},error:function(){return t.isDisabled=!1}}),this.$refs.editor.clear(),this.$emit("edit-submit",this.message))}},editCancel:function(){this.isDisabled||(this.isEditing=!1,this.$emit("edit-cancel",this.message))},editSave:function(t){this.isEditing=!1,this.isDisabled=!1,Object.assign(this.message,t),this.$emit("edit-save",this.message)},destroy:function(){var t=this;this.isDisabled||(this.isDisabled=!0,r.a.comments.destroy({id:this.message.id},{success:function(){return t.isDisabled=!1},error:function(){return t.isDisabled=!1}}))},pinMsg:function(){}}})}).call(this,i(4))},183:function(t,e,i){},20:function(t,e,i){"use strict";e.a={methods:{plural:function(t,e,i,n){var s=Math.abs(t);return(s%=100)>=5&&s<=20?n:1===(s%=10)?e:s>=2&&s<=4?i:n}}}},22:function(t,e,i){"use strict";var n=i(1);e.a={strict:!1,namespaced:!0,state:function(){return{is_initialized:!1,list:[]}},getters:{list:function(t){return t.list},filteredList:function(t){return function(e){if(!(e=String(e).toLowerCase().trim()))return t.list;var i=new RegExp(Object(n.e)(e),"i");return t.list.filter((function(t){return t.title.match(i)}))}},maybeSearching:function(t){return function(e){if(!(e=String(e).toLowerCase().trim()))return t.list;var i,s=[];for(var a in t.list)(i=Object(n.x)(e,t.list[a].title.trim().toLowerCase(),!0))<40||s.push({percent:i,id:t.list[a].id});var r,o,c={q:"й",w:"ц",e:"у",r:"к",t:"е",y:"н",u:"г",i:"ш",o:"щ",p:"з","[":"х","]":"ї",a:"ф",s:"і",d:"в",f:"а",g:"п",h:"р",j:"о",k:"л",l:"д",";":"ж","'":"є",z:"я",x:"ч",c:"с",v:"м",b:"и",n:"т",m:"ь",",":"б",".":"ю","ы":"і"},l=e,u=l.split("");for(r=0;r<u.length;r++)u[r]=c[u[r]]||u[r];if((l=u.join(""))!==e){var d=function(e){if((i=Object(n.x)(l,t.list[e].title.trim().toLowerCase(),!0))<40)return"continue";(o=s.findIndex((function(i){return i.id==t.list[e].id})))<0?s.push({percent:i,id:t.list[e].id}):s[o].percent<i&&s.splice(o,1,{percent:i,id:t.list[e].id})};for(var p in t.list)d(p)}s.sort((function(t,e){return e.percent-t.percent})),s.slice(0,8);var v,f=[],h=function(e){(v=t.list.find((function(t){return t.id==s[e].id})))&&f.push(v)};for(var _ in s)h(_);return f}},oneByTitle:function(t){return function(e){return t.list.find((function(t){return t.title.toLowerCase().trim()===e.toLowerCase().trim()}))}},oneById:function(t){return function(e){return t.list.find((function(t){return t.id==e}))}}},mutations:{init:function(t,e){t.list=e.models},initialize:function(t){t.is_initialized=!0},save:function(t,e){var i=e.model,n=t.list.find((function(t){return t.id==i.id}));n>=0?t.list.splice(n,1,i):t.list.push(i)}},actions:{init:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.state.is_initialized?new Promise((function(t){t()})):(t.commit("initialize"),new Promise((function(i,n){vo.ajax(null,"/ext/category/list",e,(function(e){if(e&&"models"in e)return t.commit("init",e),i();n(e)}))})))},save:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i,n){vo.ajax(null,"/ext/category/save",e,(function(e){if(e&&"model"in e)return t.commit("save",e),i(e);n(e)}))}))}}}},23:function(t,e,i){"use strict";(function(t){var n=i(2),s=i(41);e.a=n.a.component("message-send",{data:function(){return{id_user_to:0,sending:!1,error:null}},components:{EditorMsg:s.a},methods:{send:function(){var e=this;if(!this.sending){var i=this.$refs.editor.getData();null!==i&&vo.user_id&&vo.user_id!=this.id_user_to&&(this.sending=!0,t.ajax({url:vo.url_msg+"/ext/dialog/send",data:{id_user_to:this.id_user_to,msg:i.text,attachment:i.files},xhrFields:{withCredentials:!0},type:"POST",dataType:"json",error:function(t){e.sending=!1,0===t.readyState?e.error="Не вдалося надіслати повідомлення - перевірте з'єднання з інтернетом":t.responseJSON?e.error=t.responseJSON.message:e.error=t.responseText},success:function(){e.$refs.editor.clear(),e.sending=!1,e.error=null,e.$emit("sent",!0)}}))}}}})}).call(this,i(4))},24:function(t,e,i){"use strict";(function(t){var n=i(6),s=i(10),a=i(38),r=i(1);e.a={components:{EditorMenuBar:n.d,EditorContent:n.c},props:{content:String,initialAttachments:{default:function(){return[]}},autoFocus:!1},data:function(){var t=this;return{vueObj:null,attachments:[],isUploading:!1,uploadProgress:0,editor:new n.b({autoFocus:this.autoFocus,onPaste:function(e,i){var n=i.clipboardData;n&&n.files&&n.files.length&&t.uploadFile(n.files[0])},onDrop:function(e,i,n,s){i.preventDefault();var a=i.dataTransfer;a&&a.files&&t.uploadFiles(a.files)},extensions:[new a.a({selfData:this}),new s.b,new s.h,new s.l,new s.r,new s.f,new s.k({emptyNodeText:"Текст коментаря..."})]})}},methods:{getData:function(){if(!Object(r.o)())return null;var e,i=this.editor.getHTML();return t(i).text().trim().length?(this.attachments.length&&(e=this.attachments.map((function(t){return t.file})).join(",")),{text:i,files:e}):(vo.popup("Текст повідомлення порожній"),null)},clear:function(){this.editor.clearContent(),this.attachments.splice(0,this.attachments.length)},attachFile:function(){var t=this;if(!this.isUploading){var e=document.createElement("input");e.type="file",e.multiple=!0,e.onchange=function(){t.uploadFiles(e.files)},e.click()}},removeAttachment:function(t){var e=this.attachments.indexOf(t);e>=0&&this.attachments.splice(e,1)},uploadFile:function(t){var e=this;return new Promise((function(i,n){Object(r.o)()&&(e.isUploading=!0,Object(r.y)({file:t},{success:function(t){var n=t.data;e.isUploading=!1,e.attachments.push(n),i(n)},error:function(t){e.isUploading=!1,n(t)},uploadProgress:function(t,i,n,s){e.uploadProgress=s}}))}))},uploadFiles:function(t){for(var e=this,i=Array.prototype.slice.apply(t),n=Promise.resolve(),s=function(t){n=n.then((function(){return e.uploadFile(i[t])}))},a=0;a<i.length;++a)s(a);n.catch((function(t){return Object(r.w)(t)}))}},created:function(){this.content&&this.editor.setContent(this.content),this.vueObj=this,this.attachments=this.initialAttachments.slice()},beforeDestroy:function(){this.editor.destroy()}}}).call(this,i(4))},25:function(t,e,i){},26:function(t,e,i){"use strict";(function(t){var n=i(2),s=[];e.a=n.a.component("registration-form",{data:function(){return{classes:[],group:0,allClasses:[],selectedClass:null,pupilsByClass:{},classTitle:"",isEmpty:!1,selectedPupils:[],pupils:[],canSelect:!0,showPupils:!0,olympicUrl:"",olympic_type:0,noPupils:!1,url_a:""}},computed:{sortedClasses:function(){return 0==this.group?this.classes:1==this.group?this.classes.filter((function(t){return parseInt(t.class)<=4})):2==this.group?this.classes.filter((function(t){return parseInt(t.class)>=5})):void(this.pupils[0]=!1)}},mounted:function(){var e=this;this.allClasses=this.classes;var i=parseInt(t("#olpdrawmaterial-class option:selected").val());i||(e.group=0),i>=5&&(e.group=2,e.selectedPupils=e.selectedPupils.filter((function(t){return parseInt(t.pupil_class_title)>=5}))),i<=4&&(e.group=1,e.selectedPupils=e.selectedPupils.filter((function(t){return parseInt(t.pupil_class_title)<=4}))),e.selectedClass=e.allClasses.filter((function(t){return parseInt(t.class)==i}))[0],setInterval((function(){t(".v-add-pupils-wrap-filter>ul").find("li").length?e.canSelect=!0:e.canSelect=!1}),300),t("#olpdrawmaterial-class").change((function(i){var n=parseInt(t("#olpdrawmaterial-class option:selected").val());e.selectedClass=e.allClasses.filter((function(t){return parseInt(t.class)==n}))[0],n||(e.group=0),n>=5&&(e.group=2,e.selectedPupils=e.selectedPupils.filter((function(t){return parseInt(t.pupil_class_title)>=5}))),n<=4&&(e.group=1,e.selectedPupils=e.selectedPupils.filter((function(t){return parseInt(t.pupil_class_title)<=4})))}))},methods:{selectPupil:function(t){if(this.selectedPupils.indexOf(t)<0){this.selectedPupils.push(t);var e=this.selectedClass;e&&!this.hasPupils(e)&&(this.selectedClass||(this.showPupils=!1))}},isSelected:function(t){return this.selectedPupils.indexOf(t)>=0},deselectPupil:function(t){this.showPupils=!0,this.noPupils=!1;var e=this.selectedPupils.indexOf(t);e>=0&&this.selectedPupils.splice(e,1),this.selectedClass},selectClass:function(t){this.selectedClass=t},addOnePupil:function(t){var e=t.id_pupil_class,i=this.pupilsByClass[e];i||(i=this.pupilsByClass[e]=[]),i.push(t),this.selectedPupil=!1},loadPupils:function(){var e=this;vo.ajax(null,this.url_a,{id_globe_class:this.idClass},(function(i){var n=i.data;if(n){var a=t.map(n.pupilCanAdd,(function(t){return t})),r=t.map(n.pupilAdd,(function(t){return t}));(s=s.concat(a).concat(r)).forEach((function(t){return e.addOnePupil(t)})),r.forEach((function(t){return e.selectPupil(t)})),e.selectedClass?e.reloadDisplayedPupilList():e.openFirstClass(),e.selectedPupilsAccesses&&e.selectedPupilsAccesses.forEach((function(t){var i=s.find((function(e){return+e.access==+t}));i&&e.selectPupil(i)})),a.length||(e.noPupils=!0,e.showPupils=!1)}}))},loadClasses:function(){var e=this;vo.ajax(null,"/ext/pupil-class/all",{},(function(i){var n=e;e.classes=i.data,e.allClasses=i.data;var s=parseInt(t("#olpdrawmaterial-class option:selected").val());e.classes.forEach((function(t){parseInt(t.class)==s?n.selectedClass=t:n.selectedClass=n.classes[0]})),e.openFirstClass()}))},reloadDisplayedPupilList:function(){var t=this.selectedClass;this.selectedClass=null,this.selectedClass=t},openFirstClass:function(){var t=this;this.classes.length&&(this.selectedClass=this.classes.find((function(e){return t.hasPupils(e)})))},hasPupils:function(t){var e=this.pupilsByClass[t.id],i=this.selectedPupils,n=!1;return e&&(n=e.filter((function(t){return i.indexOf(t)<0})).length),n},canDelete:function(t){return!(t.cnt_material>0)}},watch:{selectedClass:function(){var t=this.selectedClass;t&&(this.pupils=this.pupilsByClass[t.id])}},created:function(){this.idClass=t("#id_globe_class").val(),this.loadClasses(),this.loadPupils()}})}).call(this,i(4))},27:function(t,e,i){"use strict";(function(t){var n=i(3),s=i(45),a=i(51);function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){c(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function c(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e.a={name:"Main",props:["code"],data:function(){return{is_finish:!1,is_load:!0,is_error:!1,is_right_answer:!1,is_show_answer_result:!1,is_start:!1}},computed:o(o({},Object(n.c)(["config","testQuests","userAnswers"])),{},{myConfig:function(){return this.config(this.code)},myTestQuests:function(){return this.testQuests(this.myConfig.id_test)},myUserAnswers:function(){return this.userAnswers(this.myConfig.id)},currentQuestNum:function(){return this.myUserAnswers.length},currentQuest:function(){var t=this.myUserAnswers.map((function(t){return t.id_quest})),e=this.myTestQuests.reduce((function(e,i,n){return-1===t.indexOf(i.id)&&e.push(n),e}),[]);if(this.myConfig.is_quest_shuffle)for(var i,n,s=e.length;0!==s;)n=Math.floor(Math.random()*s),i=e[s-=1],e[s]=e[n],e[n]=i;return 0===e.length?(this.is_finish=!0,null):this.myTestQuests[e[0]]}}),components:{GreetingScreen:a.a,BaseQuest:s.a},methods:{saveUserAnswer:function(t){var e=this;if(this.$refs.baseQuest.isUserSetAnswer()){var i={event:t.hasOwnProperty("event")?t.event:null,code:this.code,id_execution:this.code,id_quest:this.currentQuest.id,answers:c({},this.currentQuest.id,this.$refs.baseQuest.getUserAnswer())};this.$store.dispatch("saveUserAnswer",i).then((function(t){var i=t.usersAnswers.find((function(t){return t.id_quest==e.currentQuest.id}));e.is_right_answer=!!i&&i.curr_mark==i.max_mark,e.showAnswerResult().then((function(){return e.$store.commit("saveUserAnswer",t)})),vo.scrollTo("#"+e.$refs.root.id)}))}else vo.popup("Необхідно вказати відповідь")},showAnswerResult:function(){var e=this;if(1!==this.myConfig.show_answer_mode||this.myConfig.is_poll||!this.$refs.baseQuest.isUserSetAnswer())return new Promise((function(t,e){t()}));var i=t("header.v-main-header"),n=i.css("position");return i.css("position","inherit"),t("body").css("overflow","hidden"),vo.is_scroll()&&t("body, .v-main-header-scroll").css("padding-right",vo.dlg.scroll_width+"px"),this.is_show_answer_result=!0,new Promise((function(s,a){setTimeout((function(){i.css("position",n),t("body, .v-main-header-scroll").css({overflow:"",paddingRight:""}),e.is_show_answer_result=!1,s()}),3400)}))},startNew:function(){this.$store.commit("reset",this.myConfig.id),this.is_finish=!1,this.is_start=!1},start:function(){this.is_start=!0}},created:function(){var t=this;this.$store.dispatch("init",this.code).then((function(){t.is_load=!1,t.currentQuestNum>0&&(t.is_start=!0)}),(function(){t.is_load=!1,t.is_error=!0}))}}}).call(this,i(4))},28:function(t,e,i){"use strict";(function(t){var n=i(2),s=i(39),a=i(1);e.a={name:"App",props:["widgetId","hiddenInputId","label","valueId","isSearchMode"],components:{MaybeProposition:s.a},data:function(){return{categories:[],is_initialized:!1,is_key_up_down_mode:!1,is_popup_stay:!1,_title:"",search:"",block_focus_save:!1,last_triggered_category:null}},computed:{title:{get:function(){return this.$data._title},set:function(t){this.$data._title=t,this.block_focus_save&&(this.block_focus_save=!1)}},searchInput:function(){return this.$refs.input},dropDownNodes:function(){return this.$refs.autocomplete.childNodes},iWidgetId:function(){return this.widgetId||this.randomString},iLabel:function(){return this.label||"Предмет"},iWidgetContainerId:function(){return this.iWidgetId+"__widget"},iInputId:function(){return this.iWidgetId+"__input"},iSelectId:function(){return this.iWidgetId+"__autocomplete"},iClearId:function(){return this.iWidgetId+"__clear"},placeholder:function(){return"Введіть назву предмета..."},randomString:function(){return"r"+Math.random().toString(36).substring(7)},categoriesList:function(){return this.filteredList.length?this.filteredList:this.maybeSearchingList},filteredList:function(){return this.mFilteredList(this.search)},maybeSearchingList:function(){return this.mMaybeSearching(this.search)},activeCategory:function(){var t=this;return this.categories.find((function(e){return e.title.toLowerCase().trim()===t.title.toLowerCase().trim()}))},oneById:function(){var t=this;return function(e){return t.categories.find((function(t){return t.id==e}))}}},methods:{mFilteredList:function(t){var e=this.categories;if(!e)return[];if(!(t=String(t).toLowerCase().trim()))return e;var i=new RegExp(Object(a.e)(t),"i");return e.filter((function(t){return t.title.match(i)}))},mMaybeSearching:function(t){var e=this.categories;if(!e)return[];if(!(t=String(t).toLowerCase().trim()))return e;var i,n=[];for(var s in e)(i=Object(a.x)(t,e[s].title.trim().toLowerCase(),!0))<40||n.push({percent:i,id:e[s].id});var r,o,c={q:"й",w:"ц",e:"у",r:"к",t:"е",y:"н",u:"г",i:"ш",o:"щ",p:"з","[":"х","]":"ї",a:"ф",s:"і",d:"в",f:"а",g:"п",h:"р",j:"о",k:"л",l:"д",";":"ж","'":"є",z:"я",x:"ч",c:"с",v:"м",b:"и",n:"т",m:"ь",",":"б",".":"ю","ы":"і"},l=t,u=l.split("");for(r=0;r<u.length;r++)u[r]=c[u[r]]||u[r];if((l=u.join(""))!==t){var d=function(t){if((i=Object(a.x)(l,e[t].title.trim().toLowerCase(),!0))<40)return"continue";(o=n.findIndex((function(i){return i.id==e[t].id})))<0?n.push({percent:i,id:e[t].id}):n[o].percent<i&&n.splice(o,1,{percent:i,id:e[t].id})};for(var p in e)d(p)}n.sort((function(t,e){return e.percent-t.percent})),n.slice(0,8);var v,f=[],h=function(t){(v=e.find((function(e){return e.id==n[t].id})))&&f.push(v)};for(var _ in n)h(_);return f},checkLogin:function(t){return!!Object(a.o)()||(t.preventDefault(),t.stopPropagation(),!1)},isActiveId:function(t){return this.activeCategory&&this.activeCategory.id==t},isActiveTitle:function(t){return this.activeCategory&&this.activeCategory.title.toLowerCase().trim()==t.toLowerCase().trim()},createOnBlur:function(t){this.block_focus_save||this.createNewCategory(t)},createNewCategory:function(e){var i=this,a=String(this.title).trim();if(this.activeCategory||!a)return this.triggerSelectCategory(),void this.hideSelect(!1);if(this.isSearchMode)return this.setTitleFromList("");var r=this.mFilteredList(a);if(r.length||(r=this.mMaybeSearching(a)),!r.length)return this.hideSelect(!1),this.saveNew(a);if(e&&(e.preventDefault(),e.stopPropagation()),!this.is_popup_stay){this.is_popup_stay=!0,this.searchInput.disabled=!0,this.hideSelect(!1),vo.popup("<div id='vr-vue-popup'></div>",!0);var o=function e(n){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c.$destroy(),t("#i-dialog").off("click",".a-delete",e),i.searchInput.disabled=!1,i.is_popup_stay=!1,s||i.searchInput.focus()},c=new(n.a.extend(s.a))({el:"#vr-vue-popup",propsData:{categories:JSON.parse(JSON.stringify(r)),title:JSON.parse(JSON.stringify(a))}});c.$on("create-new",(function(t){i.saveNew(t).then((function(t){vo.popup.hide(),o(e,!0)}))})),c.$on("select-from-list",(function(e){i.setTitleFromList(e),t("#i-popup").find("span.a-delete").trigger("click")})),c.$on("close",(function(t){vo.popup.hide(),o(t)})),t("#i-popup").on("click",".a-delete",o)}},saveNew:function(t){var e=this;return this.block_focus_save=!0,new Promise((function(i,n){vo.ajax(null,"/ext/category/save",{title:t},(function(t){if(t&&"model"in t){var s=t.model,a=e.categories.find((function(t){return t.id==s.id}));return a>=0?e.categories.splice(a,1,s):e.categories.push(s),i(t)}n(t)}))})).then((function(t){return e.title=t.model.title,e.triggerSelectCategory(),e.block_focus_save=!1,t}))},triggerSelectCategory:function(){var t=this.activeCategory?this.activeCategory.id:"";if(this.last_triggered_category!=t){this.last_triggered_category=t;var e=document.getElementById(this.hiddenInputId);if(e)if(e.value=t,"createEvent"in document){var i=document.createEvent("HTMLEvents");i.initEvent("change",!1,!0),e.dispatchEvent(i)}else e.fireEvent("onchange");this.$emit("select-category",t)}},setTitleFromList:function(t){this.title=String(t).trim(),this.triggerSelectCategory()},showSelectToggle:function(t){if(this.checkLogin(t))return this.$refs.autocomplete&&"block"===this.$refs.autocomplete.style.display?this.hideSelect():void this.showSelect("")},showSelect:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.search=t;var e;this.filteredList.length,this.$refs.autocomplete&&(this.$refs.autocomplete.style.display="block");for(var i=0;i<this.dropDownNodes.length;i++)"LI"===(e=this.dropDownNodes.item(i)).nodeName&&e.classList.contains("rk-filtered-item")&&(e.classList.remove("active"),this.isActiveTitle(e.textContent)&&e.classList.add("active"))},hideSelect:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.is_key_up_down_mode=!1,this.search="",this.$refs.autocomplete&&(this.$refs.autocomplete.style.display=""),t&&this.searchInput.focus()},selectClickedNode:function(t,e){t.preventDefault(),t.stopPropagation(),this.setTitleFromList(e),this.hideSelect()},pressEnter:function(t){t.preventDefault(),t.stopPropagation();var e=this.dropDownNodes.length;if(this.$refs.autocomplete&&"block"===this.$refs.autocomplete.style.display)for(var i,n=0;n<e;n++)if("LI"===(i=this.dropDownNodes.item(n)).nodeName&&i.classList.contains("rk-filtered-item")&&i.classList.contains("active"))return this.hideSelect(),void this.setTitleFromList(i.textContent);this.createNewCategory(t),this.hideSelect()},keyNavigation:function(t,e){var i=this.dropDownNodes.length;if(!(i<1)){for(var n,s,a=-1,r=-1,o=0;o<i;o++)if("LI"===(n=this.dropDownNodes.item(o)).nodeName&&n.classList.contains("rk-filtered-item")&&(-1===a&&(a=o),n.classList.contains("active"))){r=o,n.classList.remove("active");break}s=r+t,null!==(n=this.dropDownNodes.item(s))&&"LI"===n.nodeName&&n.classList.contains("rk-filtered-item")||(s=t>0?a:i-1),null!==(n=this.dropDownNodes.item(s))&&"LI"===n.nodeName&&n.classList.contains("rk-filtered-item")&&(e.preventDefault(),this.is_key_up_down_mode=!0,n.classList.add("active"),n.scrollIntoView({behavior:"auto",block:"nearest"}))}},highlightString:function(t){return Object(a.l)(t,this.title)},baseListener:function(t){var e=t.target;!this.searchInput||e.closest("#"+this.iInputId)||e.closest("#"+this.iSelectId)||e.closest("#i-popup")||e.closest("#"+this.iClearId)||this.createNewCategory(t)},addBaseListeners:function(){document.addEventListener("click",this.baseListener),document.addEventListener("mousedown",this.baseListener),document.addEventListener("keydown",this.baseListener)},removeBaseListeners:function(){document.removeEventListener("click",this.baseListener),document.removeEventListener("mousedown",this.baseListener),document.removeEventListener("keydown",this.baseListener)},init:function(){if(this.valueId){var t=this.oneById(JSON.parse(JSON.stringify(this.valueId)));t&&this.setTitleFromList(t.title)}}},created:function(){var t=this;this.is_initialized?this.init():vo.ajax(null,"/ext/category/list",null,(function(e){t.categories=e.models,t.init(),t.is_initialized=!0}))},mounted:function(){var t=this;this.$nextTick((function(){t.addBaseListeners()}))},destroyed:function(){this.removeBaseListeners()},watch:{valueId:function(t,e){if(!this.activeCategory||this.activeCategory.id!=t)if(t){var i=this.oneById(JSON.parse(JSON.stringify(this.valueId)));i&&this.setTitleFromList(i.title)}else this.setTitleFromList("")}}}}).call(this,i(4))},29:function(t,e,i){},30:function(t,e,i){},31:function(t,e,i){"use strict";function n(t){this.schoolsUrl="/ext/institutions/school",this.streetsUrl="/ext/address/street",this.housesUrl="/ext/address/house",this.postIndexesUrl="/ext/address/post-code",this.options=t,this.userLocationInput=document.querySelector(t.userLocationInput),this.userSchoolInput=document.querySelector(t.userSchoolInput),this.userSchoolList=document.querySelector(t.userSchoolList),this.userStreetList=document.querySelector(t.userStreetList),this.userHousesList=document.querySelector(t.userHousesList),this.userIndexesList=document.querySelector(t.userIndexesList),this.searchBySchoolInput=document.querySelector(t.searchBySchoolInput),this.searchByStreetInput=document.querySelector(t.searchByStreetInput),this.searchByHouseInput=document.querySelector(t.searchByHouseInput),this.searchByIndexInput=document.querySelector(t.searchByIndexInput),this.userFlatInput=document.querySelector(t.userFlatInput),this.userPositionInput=document.querySelector(t.userPositionInput),this.currentList={schools:{},streets:{},houses:{},indexes:{}}}i.d(e,"a",(function(){return n})),n.prototype.insertOptionsByArr=function(t,e){var i=e.children.length;if(i>0)for(;i>0;i--)e.removeChild(e.lastChild);var n=document.createDocumentFragment();for(var s in t){var a=document.createElement("li");a.classList.add("rk-filtered-item"),a.innerHTML=t[s],a.setAttribute("data-filtered-code",s),n.appendChild(a)}e.appendChild(n)},n.prototype.filterResults=function(t,e,i){var n={};t.match(/\./)&&(t=t.replace(/\./,"\\."));var s=new RegExp(t,"i");for(var a in e)if(e[a].match(s)){var r=e[a].replace(s,'<span style="color: #fff;background: #5ebcf7;">$&</span>');n[a]=r}this.insertOptionsByArr(n,i)},n.prototype.fetchData=function(t,e,i){var n,s,a={code:e||t.target.value},r=this;switch(i){case"schools":n=r.schoolsUrl,s=r.userSchoolList;break;case"streets":n=r.streetsUrl,s=r.userStreetList;break;case"houses":n=r.housesUrl,s=r.userHousesList,a.street=e,a.code=r.userLocationInput.value;break;case"indexes":n=r.postIndexesUrl,s=r.userIndexesList,a.street=e,a.code=r.userLocationInput.value}if(!a.code)return r.userSchoolList&&document.querySelector(".v-reg-after-form-block__step2-id_educ_int").classList.add("active"),r.currentList[i]={},void r.insertOptionsByArr({},s);vo.ajax(null,n,a,(function(t){r.userSchoolList&&document.querySelector(".v-reg-after-form-block__step2-id_educ_int").classList.add("active"),r.currentList[i]=t,r.insertOptionsByArr(t,s)}))},n.prototype.focusSearchInput=function(t,e){"block"!==t.style.display&&(t.style.display="block")},n.prototype.initAfterCity=function(t){var e=this;document.addEventListener(t||"select-city-initialized",(function(){e.init(!0)}))},n.prototype.init=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this;if(t?e.userLocationInput.value&&(e.userSchoolList&&(document.querySelector(".v-reg-after-form-block__step2-id_educ_int").classList.add("active"),e.fetchData(null,e.userLocationInput.value,"schools")),e.userStreetList&&e.fetchData(null,e.userLocationInput.value,"streets")):window.addEventListener("load",(function(){e.userLocationInput.value&&(e.userSchoolList&&(document.querySelector(".v-reg-after-form-block__step2-id_educ_int").classList.add("active"),e.fetchData(null,e.userLocationInput.value,"schools")),e.userStreetList&&e.fetchData(null,e.userLocationInput.value,"streets"))})),e.userLocationInput.addEventListener("select_location",(function(t){e.userSchoolList&&(e.setNewValue(e.searchBySchoolInput,""),e.setNewValue(e.userSchoolInput,""),e.fetchData(t,null,"schools")),e.userStreetList&&(e.setNewValue(e.searchByStreetInput,""),e.setNewValue(e.searchByHouseInput,""),e.setNewValue(e.searchByIndexInput,""),e.userFlatInput&&e.setNewValue(e.userFlatInput,""),e.fetchData(t,null,"streets"))})),e.searchBySchoolInput&&(e.userSchoolList.addEventListener("click",(function(t){var i=e.getTrueParent(t);if(i){var n=i.getAttribute("data-filtered-code");e.setNewValue(e.searchBySchoolInput,e.currentList.schools[n]),e.setNewValue(e.userSchoolInput,n),e.userPositionInput&&e.userPositionInput.focus(),this.style.display=""}})),e.searchBySchoolInput.addEventListener("input",(function(t){var i=t.target.value;e.filterResults(i,e.currentList.schools,e.userSchoolList)})),e.searchBySchoolInput.addEventListener("focus",(function(t){e.focusSearchInput(e.userSchoolList,t)})),e.searchBySchoolInput.addEventListener("keydown",(function(t){13===t.keyCode&&t.preventDefault()}))),document.addEventListener("click",(function(t){var i=t.target;e.userSchoolList&&(i.closest(e.options.userSchoolList)||i.closest(e.options.searchBySchoolInput)||(e.searchBySchoolInput.setAttribute("placeholder","Оберіть зі списку"),e.userSchoolList.style.display="")),e.userStreetList&&(i.closest(e.options.searchByStreetInput)||(e.searchByStreetInput.setAttribute("placeholder","Оберіть зі списку"),e.userStreetList.style.display=""),i.closest(e.options.searchByHouseInput)||(e.searchByHouseInput.setAttribute("placeholder","Оберіть зі списку"),e.userHousesList.style.display=""),i.closest(e.options.searchByIndexInput)||(e.searchByIndexInput.setAttribute("placeholder","Оберіть зі списку"),e.userIndexesList.style.display=""))})),e.searchByStreetInput){e.userStreetList.addEventListener("click",(function(t){var i=e.getTrueParent(t);if(i){var n=i.getAttribute("data-filtered-code");e.setNewValue(e.searchByStreetInput,e.currentList.streets[n]),this.style.display="",e.fetchData(null,e.currentList.streets[n],"houses"),e.fetchData(null,e.currentList.streets[n],"indexes")}})),e.userHousesList.addEventListener("click",(function(t){var i=e.getTrueParent(t);if(i){var n=i.getAttribute("data-filtered-code");e.setNewValue(e.searchByHouseInput,e.currentList.houses[n]),this.style.display=""}})),e.userIndexesList.addEventListener("click",(function(t){var i=e.getTrueParent(t);if(i){var n=i.getAttribute("data-filtered-code");e.setNewValue(e.searchByIndexInput,e.currentList.indexes[n]),this.style.display=""}})),e.searchByStreetInput.addEventListener("focus",(function(t){e.focusSearchInput(e.userStreetList,t)})),e.searchByHouseInput.addEventListener("focus",(function(t){e.focusSearchInput(e.userHousesList,t)})),e.searchByIndexInput.addEventListener("focus",(function(t){e.focusSearchInput(e.userIndexesList,t)}));var i=[e.searchByStreetInput,e.searchByHouseInput,e.searchByIndexInput];i.forEach((function(t){t.addEventListener("keydown",(function(t){13===t.keyCode&&t.preventDefault()}))})),e.searchByStreetInput.addEventListener("input",(function(t){var i=t.target.value;e.filterResults(i,e.currentList.streets,e.userStreetList)})),e.searchByHouseInput.addEventListener("input",(function(t){var i=t.target.value;e.filterResults(i,e.currentList.houses,e.userHousesList)})),e.searchByIndexInput.addEventListener("input",(function(t){var i=t.target.value;e.filterResults(i,e.currentList.indexes,e.userIndexesList)}))}},n.prototype.setNewValue=function(t,e){if(t)if(t.value=e,t.title=e,"createEvent"in document){var i=document.createEvent("HTMLEvents");i.initEvent("change",!1,!0),t.dispatchEvent(i)}else t.fireEvent("onchange")},n.prototype.getTrueParent=function(t){return t?t.target.classList.contains("rk-filtered-item")?t.target:t.target.parentNode.classList.contains("rk-filtered-item")?t.target.parentNode:null:null},Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector)},32:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-group n-input-category",attrs:{id:t.iWidgetContainerId},on:{click:function(t){t.preventDefault(),t.stopPropagation()}}},[!1!==t.inputLabel?i("label",{staticClass:"control-label",attrs:{for:t.iInputId}},[t._v(t._s(t.iLabel))]):t._e(),t._v(" "),i("div",{staticClass:"help-block"}),t._v(" "),i("div",{staticClass:"n-input-city-wrap"},[i("input",{staticClass:"rk-user-location__input",attrs:{type:"hidden",id:t.inputId,name:t.inputName}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.search_query,expression:"search_query"}],ref:"input",staticClass:"form-control",attrs:{type:"text",autocomplete:"off",id:t.iInputId,placeholder:t.placeholder,maxlength:255},domProps:{value:t.search_query},on:{click:function(e){return t.onInputClick(e)},input:function(e){e.target.composing||(t.search_query=e.target.value)}}}),t._v(" "),t.search_query?i("i",{staticClass:"n-category-input-delete",attrs:{id:t.iClearId},on:{click:function(e){return t.clearSearchInput()}}},[i("span",[t._v("+")])]):t._e(),t._v(" "),i("span",{class:["n-arrow-input-category","a-pointer-class",t.show_select?"active":""],on:{click:function(e){return t.toggleSelect()}}},[i("i")])]),t._v(" "),i("ul",{ref:"autocomplete",staticClass:"js-autocomplete vr-filtered-list",attrs:{id:t.iSelectId}},[t._e(),t._v(" "),t.cities.length?t._e():i("li",{staticClass:"n-disabled-li-category",on:{mousedown:function(t){t.preventDefault(),t.stopPropagation()}}},[t._v("Місто "),i("strong",[t._v(t._s(t.search_query))]),t._v(" не знайдено...")]),t._v(" "),t._l(t.cities,(function(e){return i("li",{class:["rk-filtered-item",t.id==e.id?"active":""],attrs:{"data-id":e.id},domProps:{innerHTML:t._s(t.id==e.id?e.full_address:t.highlightString(e.full_address))},on:{click:function(i){return t.selectCity(e.id,e.full_address)}}})}))],2)])};n._withStripped=!0;var s=i(1),a={name:"SelectCityNew",filters:{plural:s.r},props:["widgetId","inputId","inputName","inputValue","inputLabel"],data:function(){return{is_initialized:!1,is_disabled_ajax:!1,break_loop:!1,show_select:!1,id:"",full_address:"",search_query:"",last_search_query:"",cache:{}}},computed:{iWidgetId:function(){return this.widgetId||this.randomString},iLabel:function(){return this.inputLabel||"Населений пункт"},iWidgetContainerId:function(){return this.iWidgetId+"__widget"},iInputId:function(){return this.iWidgetId+"__input"},iSelectId:function(){return this.iWidgetId+"__autocomplete"},iClearId:function(){return this.iWidgetId+"__clear"},placeholder:function(){return"Введіть назву населеного пункту..."},randomString:function(){return"c"+Math.random().toString(36).substring(7)},cities:function(){return this.cache[this.last_search_query]||[]}},methods:{triggerId:function(t,e){if(this.is_disabled_ajax&&(this.break_loop=!0),this.id!=t){this.id=t,this.full_address=e;var i=document.getElementById(this.inputId);if(i)if(i.value=t,"createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent("change",!1,!0),i.dispatchEvent(n),i.dispatchEvent(new CustomEvent("select_location"))}else i.fireEvent("onchange"),i.fireEvent("select_location");this.$emit("select-city-selected",t,e)}},onInputClick:function(t){t.target.setSelectionRange(0,t.target.value.length),this.showSelect()},showSelect:function(){this.show_select=!0,this.$refs.autocomplete.style.display="block"},toggleSelect:function(){this.show_select?this.skipToDefault():this.showSelect()},highlightString:function(t){return Object(s.l)(t,this.search_query)},clearSearchInput:function(){this.search_query="",this.last_search_query="",this.$refs.input.focus(),this.triggerId("",""),this.showSelect()},selectCity:function(t,e){this.show_select=!1,this.$refs.autocomplete.style.display="",this.search_query=e,this.$refs.input.blur(),this.triggerId(t,e)},fetchData:function(t){var e=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(this.cache[t])return this.last_search_query=t,this.selectCityFromData(this.cache[t],n),void(this.break_loop?this.break_loop=!1:i&&this.showSelect());this.is_disabled_ajax||(this.is_disabled_ajax=!0,setTimeout((function(){e.is_disabled_ajax=!1,e.break_loop?e.break_loop=!1:e.search_query!=t&&e.fetchData(e.search_query)}),1500),vo.ajax(null,"/ext/address/search-city",{query:t,id:n},(function(s){e.$set(e.$data.cache,t,s),e.selectCityFromData(s,n),e.break_loop||(e.last_search_query=t,i&&e.showSelect())})))},selectCityFromData:function(t,e){if(e){var i=t.find((function(t){return t.id==e}));i&&this.selectCity(i.id,i.full_address)}this.is_initialized||this.triggerSelectInitialized()},skipToDefault:function(){var t="",e="";this.search_query&&this.full_address&&this.id?(t=this.full_address,e=this.id):this.last_search_query=t,this.selectCity(e,t)},addBaseListeners:function(){document.addEventListener("click",this.baseListener)},removeBaseListeners:function(){document.removeEventListener("click",this.baseListener)},baseListener:function(t){!!t.target.closest("#"+this.iWidgetContainerId)||this.skipToDefault()},triggerSelectInitialized:function(){this.is_initialized=!0;var t,e="select-city-initialized";this.inputId&&(t=e+":"+this.inputId),this.$emit(e),"dispatchEvent"in document?(document.dispatchEvent(new CustomEvent(e)),t&&document.dispatchEvent(new CustomEvent(t))):"fireEvent"in document&&(document.fireEvent(e),t&&document.fireEvent(t))}},created:function(){var t="LocationWidgetNew_default";t in window&&window[t].length&&this.$set(this.$data.cache,"",window[t])},mounted:function(){var t=this;this.$nextTick((function(){t.fetchData("",!1,t.inputValue),t.addBaseListeners()}))},destroyed:function(){this.removeBaseListeners()},watch:{search_query:function(t,e){t!==e&&t!==this.full_address&&this.fetchData(t)}}},r=i(0),o=Object(r.a)(a,n,[],!1,null,"b4460d44",null);o.options.__file="js/modules/address/SelectCityNew.vue";e.a=o.exports},33:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"a-c-div",class:{inactive:!!t.item.is_inactive,discount:t.item.cost!=t.item.cost_full,"pre-order":t.isPreOrder}},[t.isPreOrder?i("div",{staticClass:"v-row"},[t._v("\n      Передзамовлення. Доставка з "+t._s(t.item.stock_availability_at)+"\n    ")]):t._e(),t._v(" "),i("div",{staticClass:"v-row"},[i("div",{staticClass:"v-col-3"},[t.isEdit?i("span",{staticClass:"a-c-exit",on:{click:t.del}},[t._v("+")]):t._e(),t._v(" "),i("a",{staticClass:"a-c-img",attrs:{href:t.item.url,target:"_blank"}},[i("img",{attrs:{src:t.imageUrl,alt:""}})])]),t._v(" "),i("div",{staticClass:"v-col-6"},[t.item.is_inactive?i("span",{staticClass:"a-c-sklad"},[t._v(t._s(t.item.is_inactive_str))]):t._e(),t._v(" "),i("a",{staticClass:"a-c-atext",attrs:{href:t.item.url,target:"_blank"}},[i("span",[i("b",[t._v(t._s(t.item.obj_title)+":")]),t._v(" "+t._s(t.item.title))])]),t._v(" "),t.item.description&&!t.is_view_description?i("a",{staticClass:"a-c-meni-info",on:{click:function(e){t.is_view_description=!t.is_view_description}}},[t._v("Детальніше...")]):t._e(),t._v(" "),500==t.myCart.status_pay&&t.item.instruction&&!t.is_view_instruction?i("a",{staticClass:"a-c-meni-info",on:{click:function(e){t.is_view_instruction=!t.is_view_instruction}}},[t._v("Інструкція...")]):t._e()]),t._v(" "),i("div",{staticClass:"v-col-3 v-col-last"},[t.item.cost!=t.item.cost_full?i("span",{staticClass:"a-c-chek",on:{click:function(e){t.is_view_discount=!t.is_view_discount}}},[i("s",[t._v(t._s(t.item.cost_full)+" грн")]),t._v(" "+t._s(t.item.cost)+" грн")]):i("span",{staticClass:"a-c-chek"},[t._v(t._s(t.item.cost)+" грн")]),t._v(" "),t.isEdit&&!t.item.is_one_sell?i("div",{staticClass:"a-c-dodaty-tovar"},[i("button",{staticClass:"a-c-left",attrs:{"aria-label":"Видалити товар"},on:{click:function(e){t.cnt_item--}}},[t._v("—")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.cnt_item,expression:"cnt_item",modifiers:{lazy:!0}}],domProps:{value:t.cnt_item},on:{change:function(e){t.cnt_item=e.target.value}}}),t._v(" "),i("button",{staticClass:"a-c-right",attrs:{"aria-label":"Додати товар"},on:{click:function(e){t.cnt_item++}}},[t._v("+")])]):t._e()])])]),t._v(" "),t.is_view_discount&&t.isDiscount?i("div",{staticClass:"v-row"},[i("div",{staticClass:"a-c-poysnena"},[i("div",{staticClass:"v-col-11"},[t.item.cnt_item>1?i("div",[t._v("Ціна без знижок за "+t._s(t.strCount)+" по "+t._s(t.item.cost_full_one)+" грн = "),i("b",[t._v(t._s(t.item.cost_full)+" грн")])]):i("div",[t._v("Ціна без знижок за одиницю "),i("b",[t._v(t._s(t.item.cost_full)+" грн")])]),t._v(" "),null!==t.item.discounts.action?i("div",[t._v(t._s(t.item.discounts.action.title)+", знижка "+t._s(t.item.discounts.action.percent)+"% від "+t._s(t.item.discounts.action.cost_full)+" грн = "),i("b",[t._v(t._s(t.item.discounts.action.cost)+" грн")]),i("b",[t._v(" (вигода "+t._s(t.item.discounts.action.benefit)+" грн) ")])]):t._e(),t._v(" "),null!==t.item.discounts.discount?i("div",[t._v(t._s(t.item.discounts.discount.title)+", знижка "+t._s(t.item.discounts.discount.percent)+"% від "+t._s(t.item.discounts.discount.cost_full)+" грн = "),i("b",[t._v(t._s(t.item.discounts.discount.cost)+" грн")]),t._v(" "),i("b",[t._v("(вигода "+t._s(t.item.discounts.discount.benefit)+" грн)")])]):t._e(),t._v(" "),null!==t.item.discounts.club?i("div",[t._v(t._s(t.item.discounts.club.title)+", знижка "+t._s(t.item.discounts.club.percent)+"% від "+t._s(t.item.discounts.club.cost_full)+" грн = "),i("b",[t._v(t._s(t.item.discounts.club.cost)+" грн")]),t._v(" "),i("b",[t._v("(вигода "+t._s(t.item.discounts.club.benefit)+" грн) ")])]):t._e(),t._v(" "),null!==t.item.discounts.credit?i("div",[t._v(t._s(t.item.discounts.credit.title)+", знижка "+t._s(t.item.discounts.credit.percent)+"% від "+t._s(t.item.discounts.credit.cost_full)+" грн = "),i("b",[t._v(t._s(t.item.discounts.credit.cost)+" грн")]),t._v(" "),i("b",[t._v(" (вигода "+t._s(t.item.discounts.credit.benefit)+" грн)")])]):t._e()]),t._v(" "),i("div",{staticClass:"v-col-1 v-col-last"},[i("div",{staticClass:"a-c-exid",on:{click:function(e){t.is_view_discount=!1}}},[t._v(" < ")])]),t._v(" "),i("div",{staticClass:"clear"})])]):t._e(),t._v(" "),500==t.myCart.status_pay&&t.item.instruction&&t.is_view_instruction?i("div",{staticClass:"v-row a-c-poysnena"},[i("div",{staticClass:"v-col-11 a-c-bloc-big-info",domProps:{innerHTML:t._s(t.item.instruction)}}),t._v(" "),i("div",{staticClass:"v-col-1 v-col-last"},[i("div",{staticClass:"a-c-exid",on:{click:function(e){t.is_view_instruction=!1}}},[t._v(" < ")])]),t._v(" "),i("div",{staticClass:"clear"})]):t._e(),t._v(" "),t.item.description&&t.is_view_description?i("div",{staticClass:"v-row a-c-poysnena"},[i("div",{staticClass:"v-col-11 a-c-bloc-big-info",domProps:{innerHTML:t._s(t.item.description)}}),t._v(" "),i("div",{staticClass:"v-col-1 v-col-last"},[i("div",{staticClass:"a-c-exid",on:{click:function(e){t.is_view_description=!1}}},[t._v(" < ")])]),t._v(" "),i("div",{staticClass:"clear"})]):t._e()])};n._withStripped=!0;var s=i(1),a=i(7),r=i(3);function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u={name:"item",props:["item"],data:function(){return{is_view_discount:!0,is_view_description:!0,is_view_instruction:!0,_cnt_item_reset:null}},computed:c(c({},Object(r.c)(["cart"])),{},{myCart:function(){return this.cart(this.item.id_cart)},imageUrl:function(){return Object(s.g)(this.item.image,78,44)},strCount:function(){return Object(s.r)(this.item.cnt_item,["{n} одиницю","{n} одиниці","{n} одиниць"])},isEdit:function(){return!this.cart(this.item.id_cart).status_pay},isDiscount:function(){return null!==this.item.discounts.action||null!==this.item.discounts.discount||null!==this.item.discounts.club||null!==this.item.discounts.credit},isPreOrder:function(){return this.myCart.sale_status<=110&&this.item.stock_availability_at},cnt_item:{get:function(){return this.$data._cnt_item_reset=null,this.$data._cnt_item_reset,this.item.cnt_item},set:function(t){t=parseInt(t,10),isNaN(t)&&(t=0),console.log(t),t<1&&(vo.popup("Дозволено тільки цифри"),t=this.item.cnt_item,this.$data._cnt_item_reset=!0);var e=this.item.id_cart,i=this.item.id;a.a.dispatch("setItem",{obj_key:i,count:t,id_cart:e})}}}),methods:{del:function(){var t=this.item.id_cart,e=this.item.id;a.a.dispatch("setItem",{obj_key:e,count:0,id_cart:t})}}},d=i(0),p=Object(d.a)(u,n,[],!1,null,"41b4df6d",null);p.options.__file="js/modules/cart/components/item.vue";e.a=p.exports},34:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"a-c-div",class:{discount:t.item.cost!=t.item.cost_full}},[i("div",{staticClass:"v-row"},[i("div",{staticClass:"v-col-3"},[i("a",{staticClass:"a-c-img",attrs:{href:t.item.url,target:"_blank"}},[i("img",{attrs:{src:t.imageUrl,alt:""}})])]),t._v(" "),i("div",{staticClass:"v-col-6"},[i("a",{staticClass:"a-c-atext",attrs:{href:t.item.url,target:"_blank"}},[i("span",[i("b",[t._v(t._s(t.item.obj_title)+":")]),t._v(" "+t._s(t.item.title))])]),t._v(" "),t.item.description&&!t.is_view_description?i("a",{staticClass:"a-c-meni-info",on:{click:function(e){t.is_view_description=!t.is_view_description}}},[t._v("Детальніше...")]):t._e(),t._v(" "),500==t.myCart.status_pay&&t.item.instruction&&!t.is_view_instruction?i("a",{staticClass:"a-c-meni-info",on:{click:function(e){t.is_view_instruction=!t.is_view_instruction}}},[t._v("Інструкція...")]):t._e()]),t._v(" "),i("div",{staticClass:"v-col-3 v-col-last"},[t.item.cost!=t.item.cost_full?i("span",{staticClass:"a-c-chek",on:{click:function(e){t.is_view_discount=!t.is_view_discount}}},[i("s",[t._v(t._s(t.item.cost_full)+" грн")]),t._v(" "+t._s(t.item.cost)+" грн")]):i("span",{staticClass:"a-c-chek"},[t._v(t._s(t.item.cost)+" грн")])])])]),t._v(" "),t.is_view_discount?i("div",{staticClass:"v-row"},[i("div",{staticClass:"a-c-poysnena"},[i("div",{staticClass:"v-col-11"},[t.item.cnt_item>1?i("div",[t._v("Ціна без знижок за "+t._s(t.strCount)+" по "+t._s(t.item.cost_full_one)+" грн = "),i("b",[t._v(t._s(t.item.cost_full)+" грн")])]):i("div",[t._v("Ціна без знижок за одиницю "),i("b",[t._v(t._s(t.item.cost_full)+" грн")])]),t._v(" "),i("div",[t._v("Подарунок від Всеосвіти, Ви отримаєте цей товар безкоштовно!")])]),t._v(" "),i("div",{staticClass:"v-col-1 v-col-last"},[i("div",{staticClass:"a-c-exid",on:{click:function(e){t.is_view_discount=!1}}},[t._v(" < ")])]),t._v(" "),i("div",{staticClass:"clear"})])]):t._e(),t._v(" "),500==t.myCart.status_pay&&t.item.instruction&&t.is_view_instruction?i("div",{staticClass:"v-row a-c-poysnena"},[i("div",{staticClass:"v-col-11 a-c-bloc-big-info",domProps:{innerHTML:t._s(t.item.instruction)}}),t._v(" "),i("div",{staticClass:"v-col-1 v-col-last"},[i("div",{staticClass:"a-c-exid",on:{click:function(e){t.is_view_instruction=!1}}},[t._v(" < ")])]),t._v(" "),i("div",{staticClass:"clear"})]):t._e(),t._v(" "),t.item.description&&t.is_view_description?i("div",{staticClass:"v-row a-c-poysnena"},[i("div",{staticClass:"v-col-11 a-c-bloc-big-info",domProps:{innerHTML:t._s(t.item.description)}}),t._v(" "),i("div",{staticClass:"v-col-1 v-col-last"},[i("div",{staticClass:"a-c-exid",on:{click:function(e){t.is_view_description=!1}}},[t._v(" < ")])]),t._v(" "),i("div",{staticClass:"clear"})]):t._e()])};n._withStripped=!0;var s=i(1),a=(i(7),i(3));function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){c(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function c(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var l={name:"item-free",props:["item"],data:function(){return{is_view_discount:!0,is_view_description:!0,is_view_instruction:!0}},computed:o(o({},Object(a.c)(["cart"])),{},{myCart:function(){return this.cart(this.item.id_cart)},imageUrl:function(){return Object(s.g)(this.item.image,78,44)},strCount:function(){return Object(s.r)(this.item.cnt_item,["{n} одиницю","{n} одиниці","{n} одиниць"])}}),methods:{}},u=i(0),d=Object(u.a)(l,n,[],!1,null,"461ac67c",null);d.options.__file="js/modules/cart/components/item-free.vue";e.a=d.exports},35:function(t,e,i){},353:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"root",staticClass:"v-library-comment-block"},[i("div",{staticClass:"v-library-comment-block-title"},[t._v("Залишити свій коментар:")]),t._v(" "),i("div",{staticClass:"messages"},[i("editor-msg",{ref:"editor",on:{submit:t.send}}),t._v(" "),i("div",{staticClass:"v-row"},[i("button",{staticClass:"v-blue-button pull-left",class:{"a-load-button":t.isSending},on:{click:t.send}},[t._v("Опублікувати коментар\n      ")]),t._v(" "),i("div",{staticClass:"pull-right"},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"v-show-grey",on:{click:function(e){t.isFlattened=!t.isFlattened}}},[t._v(t._s(t.isFlattened?"Сховати всі останні дії":"Показати всі останні дії"))]),t._v(" "),i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"v-unsubscribe",on:{click:t.unsubscribe}},[i("i",{staticClass:"v-action-delete"}),t._v("Не отримувати повідомлення")])])]),t._v(" "),t.isLoadingNewer?i("div",{staticStyle:{height:"140px",position:"relative"}},[i("div",{staticClass:"v-preloader"})]):t._e(),t._v(" "),t.hasNewerComments?i("div",{staticClass:"v-btn-center"},[i("button",{staticClass:"v-blue-button",on:{click:t.fetchNewerComments}},[t._v("Відкрити новіші коментарі")])]):t._e(),t._v(" "),i("comment-list",{attrs:{comments:t.comments,ids_pay:t.ids_pay,msgPin:t.msgPin}},[t.isLoadingOlder?i("div",{ref:"loader",staticStyle:{height:"140px",position:"relative"}},[i("div",{staticClass:"v-preloader"})]):t._e(),t._v(" "),t.hasOlderComments?i("div",{staticClass:"v-btn-center"},[i("button",{staticClass:"v-blue-button",on:{click:t.fetchOlderComments}},[t._v("Відкрити наступні коментарі")])]):t._e()])],1)])};n._withStripped=!0;var s=i(2),a=i(37),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"i-comments-list"},[t._e(),t._v(" "),t._l(t.comments,(function(e){return i("message-item",{key:e.id,attrs:{message:e,user:t.userFor(e),ids_pay:t.ids_pay}})})),t._v(" "),t._t("default")],2)};r._withStripped=!0;var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("comment-item",{attrs:{message:t.message,user:t.user,ids_pay:t.ids_pay,is_pin:t.is_pin}},[t.canRespond?i("template",{slot:"buttons"},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"v-edit-comments-l3",class:{"a-load-button":t.isDisabled},on:{click:t.respondStart}},[i("i",{staticClass:"v-icon v-icon-mail-small"}),t._v("Відповісти")])]):t._e()],2),t._v(" "),i("div",{staticClass:"responses"},[t.hasResponsesNotLoaded?i("div",{staticClass:"st-btn-center"},[i("button",{staticClass:"v-blue-button v-blue-button-small",class:{"a-load-button":t.isLoadingPrevResponses},on:{click:t.loadPrevResponses}},[t._v("Показати попередні\n            ")])]):t._e(),t._v(" "),t.hasResponses&&t.showResponses?i("div",[i("div",{staticClass:"i-comments-list"},t._l(t.comments,(function(e){return i("comment-item",{key:e.id,attrs:{message:e,user:t.userFor(e)}},[t.canRespondTo(e)?i("template",{slot:"buttons"},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"v-edit-comments-l3",class:{"a-load-button":t.isDisabled},on:{click:t.respondStart}},[i("i",{staticClass:"v-icon v-icon-mail-small"}),t._v("Відповісти")])]):t._e()],2)})),1)]):t._e(),t._v(" "),t.isResponding?i("div",{staticClass:"editor"},[i("editor-msg",{ref:"editor",attrs:{autoFocus:!0},on:{submit:t.respondSubmit}}),t._v(" "),i("button",{staticClass:"v-blue-button",class:{"a-load-button":t.isDisabled},on:{click:t.respondSubmit}},[t._v("Зберегти\n            ")]),t._v(" "),i("button",{staticClass:"v-blue-button v-button-light-red",class:{"a-load-button":t.isDisabled},on:{click:t.respondCancel}},[t._v("Скасувати\n            ")])],1):t._e()])],1)};o._withStripped=!0;var c=i(181).a,l=i(0),u=Object(l.a)(c,o,[],!1,null,null,null);u.options.__file="js/modules/comments/components/comment-item-wrapper.vue";var d={name:"comment-list",props:["comments","ids_pay","msgPin"],components:{MessageItem:u.exports},methods:{userFor:function(t){return a.a.users.get(t.id_user)}}},p=Object(l.a)(d,r,[],!1,null,null,null);p.options.__file="js/modules/comments/components/comment-list.vue";var v=p.exports,f=i(41),h=i(1);var _=s.a.component("comment-main",{data:function(){return{comments:[],obj_id:1,obj_type:2,obj_sub_id:0,debug:!1,is_check_pay:!1,hasMore:!0,isLoadingMore:!1,loadOnScroll:!1,pageSize:50,isSending:!1,hasNewerComments:!1,isLoadingNewer:!1,hasOlderComments:!1,isLoadingOlder:!1,highlightedComment:null,isFlattened:!1,ids_pay:[],msgPin:null}},components:{EditorMsg:f.a,CommentList:v},created:function(){var t=this;a.a.obj_id=this.obj_id,a.a.obj_type=this.obj_type,a.a.obj_sub_id=this.obj_sub_id,a.a.is_check_pay=this.is_check_pay;var e=a.a.comments.uid({obj_id:this.obj_id,obj_type:this.obj_type,obj_sub_id:this.obj_sub_id});this.comments=a.a.comments.getRoom(e),this.msgPin=a.a.comments.msgPin,this.is_check_pay&&vo.ajax(null,"/ext/user/check-order",{obj_type:this.obj_type,obj_id:this.obj_id,obj_sub_id:this.obj_sub_id},(function(e){e.ids&&(t.ids_pay=e.ids),console.log(e)}))},mounted:function(){var t=this;a.a.comments.objectId=this.obj_id,a.a.comments.objectType=this.obj_type,a.a.comments.objectSubId=this.obj_sub_id;var e=window.location.hash.slice(1).split("/");if("comments"===e[0]){var i=parseInt(e[1]);a.a.comments.highlightedCommentId=i,isNaN(i)?(this.fetchInitial(),vo.scrollTo(this.$refs.root)):this.fetchCommentsAround(i)}else this.fetchInitial();this.createPersonalUser(),vo.socket&&this.subscribeToSocket(vo.socket),vo.notifications&&vo.notifications.openRoom&&vo.notifications.openRoom(this.obj_type,this.obj_id,this.obj_sub_id),a.a.comments.onGotoDiscussion=function(e){t.isFlattened=!1,t.fetchCommentsAround(e)}},methods:{unsubscribe:function(){Object(h.o)()&&vo.ajax(null,vo.url_msg+"/ext/comment/unsubscribe",{obj_type:this.obj_type,obj_id:this.obj_id,obj_sub_id:this.obj_sub_id},(function(t){t.status&&vo.popup("Ви не будете отримувати повідомлення з цього чату")}))},createPersonalUser:function(){var t=vo.user_avatar.split("/").slice(-1)[0];a.a.users.add({full_name:vo.user_full_name,id_user:vo.user_id,type:vo.user_type,avatar:t})},send:function(){var t=this,e=this.$refs.editor.getData();null!==e&&(this.isSending=!0,a.a.comments.send({comment:e.text,attachment:e.files},{success:function(){t.isSending=!1,t.isFlattened=!1},error:function(e){t.isSending=!1,Object(h.w)(e)}}),this.$refs.editor.clear())},fetchInitial:function(){this.obj_id&&this.obj_type&&this.fetchOlderComments(!0)},tryLoadingMore:function(){var t,e;this.loadOnScroll&&(this.hasOlderComments&&!this.isLoadingOlder&&(!this.$refs.loader||(t=this.$refs.loader,(e=t.getBoundingClientRect()).bottom>=0&&e.right>=0&&e.top<=(window.innerHeight||document.documentElement.clientHeight)&&e.left<=(window.innerWidth||document.documentElement.clientWidth)))&&this.fetchOlderComments())},fetchNewerComments:function(){var t=this;this.isLoadingNewer=!0;var e=this.pageSize,i=this.comments[0].id;a.a.comments.fetch({data:{obj_id:this.obj_id,obj_type:this.obj_type,obj_sub_id:this.obj_sub_id,id_comment:i,next:e,last:this.isFlattened||void 0},reset:!1,success:function(i){t.isLoadingNewer=!1,t.hasNewerComments=i.length>=e}})},fetchOlderComments:function(){var t=this;this.isLoadingOlder=!0;var e,i=this.pageSize;this.comments.length&&(e=this.comments[this.comments.length-1].id);a.a.comments.fetch({data:{obj_id:this.obj_id,obj_type:this.obj_type,obj_sub_id:this.obj_sub_id,id_comment:e,prev:i,last:this.isFlattened||void 0},reset:!1,success:function(e){t.isLoadingOlder=!1,t.hasOlderComments=e.length>=i}})},fetchCommentsAround:function(t){var e=this;this.isLoadingOlder=!0;var i=this.pageSize,n=this.pageSize,s=t;a.a.comments.fetch({data:{obj_id:this.obj_id,obj_type:this.obj_type,obj_sub_id:this.obj_sub_id,id_comment:s,next:i,prev:n,last:this.isFlattened||void 0},reset:!1,success:function(s){var a=function(e){return+e.id==+t},r=s.findIndex((function(t){return a(t)||t.msgs&&t.msgs.find(a)}));e.isLoadingOlder=!1,e.hasNewerComments=r>=i;var o=s.length-r;e.hasOlderComments=o>=n,e.highlightedComment=+t}})},subscribeToSocket:function(t){t.join(this.obj_type,this.obj_id,this.obj_sub_id),t.events.on("comment",(function(t,e){var i=e.dataMsg,n=e.dataUser;for(var s in n)n.hasOwnProperty(s)&&a.a.users.add(n[s]);a.a.comments.add(i)})),t.events.on("msg-edit",(function(t,e){var i=e.dataMsg;a.a.comments.updateCommentInRoom(i)})),t.events.on("msg-delete",(function(t,e){var i=e.dataMsg;a.a.comments.remove(i)}))}},computed:{showEditor:function(){return vo.user_id>0}},watch:{isFlattened:function(t){this.hasNewerComments=!1,this.comments.splice(0,this.comments.length),a.a.comments.map={},a.a.comments.responses={},a.a.comments.isFlat=t,this.fetchOlderComments(),this.$nextTick((function(){vo.fixSidebar&&vo.fixSidebar()}))}}}),m=Object(l.a)(_,n,[],!1,null,null,null);m.options.__file="js/modules/comments/components/comment-main.vue";e.a=m.exports},355:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap"},[i("div",{ref:"highlightElement",staticClass:"v-row v-comment-block"},[i("div",{staticClass:"a-4t",attrs:{"data-id":t.message.id}},[i("div",{staticClass:"v-col-2"},[i("img",{staticClass:"v-comment-img",attrs:{src:t.avatarUrl,alt:"user image"}})]),t._v(" "),i("div",{staticClass:"v-col-10 v-col-last"},[i("div",{staticClass:"a-ccom"},[i("div",{staticClass:"v-icon-comm"},[i("i",{staticClass:"v-icon v-icon-user"}),t._v(" "),i("h3",{class:{"i-pay":t.isPay}},[t.isPay?i("span",[t._v("*")]):t._e(),t._v(" "),t.isAdmin?i("span",{attrs:{title:"Адміністратор"}},[i("i",{staticClass:"a-admin-web"})]):t.isOwner?i("span",{attrs:{title:"Автор"}},[i("i",{staticClass:"a-autor-web"})]):t._e(),t._v(" "),i("a",{class:{"i-pay":t.isPay},attrs:{href:t.profileUrl}},[t._v(t._s(t.userName))])])]),t._v(" "),i("span",{staticClass:"kr-icon--inline"},[i("i",{staticClass:"v-icon v-icon-date"}),t._v(" "),i("span",[t._v(t._s(t.sentAt))]),t._v(" "),t.isUpdated?i("i",{staticClass:"v-icon-updated",attrs:{title:"відредаговано "+t.updatedAt}}):t._e()]),t._v(" "),i("div",{staticClass:"v-comment-msg-wrapper"},[t.isEditing?t._e():i("p",{staticClass:"v-comment-msg",domProps:{innerHTML:t._s(t.messageHtml)}}),t._v(" "),t.message.attachments&&!t.isEditing?i("div",{staticClass:"st-file-upload-block"},[t._l(t.attachments.files,(function(e){return i("div",{staticClass:"v-file-upload-block"},[i("a",{attrs:{href:t.fileUrl("o/"+e.file),target:"_blank"}},[t._v(t._s(e.file_src))]),t._v("\n                                "+t._s(t.formatSize(e.file_size))+"\n                            ")])})),t._v(" "),t._l(t.attachments.images,(function(e){return i("div",{staticClass:"st-file-upload-img"},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(i){return t.viewImage(e)}}},[i("img",{attrs:{src:t.fileUrl(e.file,90,90),alt:e.file_src}})])])}))],2):t._e(),t._v(" "),t.isFlatView?i("div",{staticClass:"v-edit-comments-block"},[i("a",{staticClass:"v-edit-comments-icons v-edit-comments-l1",attrs:{href:"#comments/"+t.message.id},on:{click:function(e){return e.preventDefault(),t.gotoDiscussion(e)}}},[t._v("Перейти до обговорення")])]):i("div",{staticClass:"v-edit-comments-block"},[t._t("buttons"),t._v(" "),t.canEdit&&!t.isEditing?i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"v-edit-comments-icons v-edit-comments-l1",class:{"a-load-button":t.isDisabled},on:{click:t.editStart}},[i("i",{staticClass:"v-edit"}),t._v("Редагувати")]):t._e(),t._v(" "),t._e(),t._v(" "),t.canEdit&&!t.isEditing?i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"v-edit-comments-icons v-edit-comments-l2",class:{"a-load-button":t.isDisabled},on:{click:t.destroy}},[i("i",{staticClass:"v-action-delete"}),t._v("Видалити")]):t._e()],2),t._v(" "),t.isEditing?i("p",{staticStyle:{"margin-top":"10px"}},[i("editor-msg",{ref:"editor",staticClass:"st-file-upload-edit",attrs:{content:t.message.msg,initialAttachments:t.attachments.all,autoFocus:!0},on:{submit:t.editSubmit}}),t._v(" "),i("button",{staticClass:"v-blue-button",class:{"a-load-button":t.isDisabled},on:{click:t.editSubmit}},[t._v("Зберегти\n                            ")]),t._v(" "),i("button",{staticClass:"v-blue-button v-button-light-red",class:{"a-load-button":t.isDisabled},on:{click:t.editCancel}},[t._v("Скасувати\n                            ")])],1):t._e()])])])])])])};n._withStripped=!0;var s=i(182).a,a=(i(441),i(0)),r=Object(a.a)(s,n,[],!1,null,null,null);r.options.__file="js/modules/comments/components/comment-item.vue";e.a=r.exports},37:function(t,e,i){"use strict";var n=i(120),s={idAttribute:"id_user",list:[],map:{},get:n.c,add:n.a,success:n.e,addAll:function(t){this.success(t,{})}},a={list:[],map:{},get base(){return vo.url_msg+"/ext/comment/"},objects:{},responses:{},highlightedCommentId:null,isFlat:!1,objectId:null,objectType:null,objectSubId:null,msgPin:null,owner_ids:[],uid:function(t){return"".concat(t.obj_id,"-").concat(t.obj_type,"-").concat(t.obj_sub_id)},getRoom:function(t){return this.objects[t]||(this.objects[t]=[]),this.objects[t]},getResponseThread:function(t){return this.responses[t]||(this.responses[t]=[]),this.responses[t]},parse:function(t){var e=t.msg.split("<attachment />");if(t.msg=e[0],e[1])try{t.attachments=JSON.parse(e[1])}catch(t){console.error(t)}else t.attachments=null;return t},add:function(t){var e=this;if(this.parse(t),!this.map[t.id])if(t.msgs&&t.msgs.length>=6&&t.msgs[0]&&+t.msgs[0].id!==this.highlightedCommentId&&(t.hasResponsesNotLoaded=!0,t.msgs=t.msgs.slice(1)),t.id_parent&&!this.isFlat){if(this.map[t.id_parent])this.getResponseThread(t.id_parent).push(t)}else{var i=this.uid(t);this.getRoom(i).unshift(t)}this.prepend(t),t.msgs&&t.msgs.length&&t.msgs.forEach((function(t){return e.add(t)}))},append:n.a,prepend:n.d,success:n.e,send:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=(e.obj_type,e.obj_id,e.obj_sub_id),s=e.id_parent,a=e.comment,r=e.attachment,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=(o.event,o.success),l=o.error,u=Date.now(),d={obj_type:this.objectType,obj_id:this.objectId,obj_sub_id:this.objectSubId,id_user:vo.user_id,id:u,created_at:Math.floor(u/1e3),msg:a,id_parent:s},p={obj_sub_id:i,comment:a,attachment:r};s?p.id_parent=s:(p.obj_type=this.objectType,p.obj_id=this.objectId,p.obj_sub_id=this.objectSubId),Object(n.b)(this.base+"send",p,(function(e){if(t.parse(e),t.add(d),delete t.map[u],t.map[e.id])if(t.list.splice(t.list.indexOf(d),1),e.id_parent&&!t.isFlat){if(t.map[e.id_parent]){var i=t.getResponseThread(e.id_parent);i.splice(i.indexOf(d),1)}}else{var n=t.getRoom(t.uid(d));n.splice(n.indexOf(d),1)}else Object.assign(d,e),t.map[d.id]=d;c&&c(e)}),l)},fetch:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.data,a=e.reset,r=e.success,o=e.prepend,c=e.original;Object(n.b)(this.base+"by-obj",i,(function(e){var n=e.data.map((function(t){return Object.assign(t,i)}));if(r&&r(n),o?(n.length<i.prev?c&&(c.hasResponsesNotLoaded=!1):n=n.slice(0,n.length-1),n.reverse(),n.forEach((function(e){t.map[e.id]||!e.id_parent||t.isFlat||t.map[e.id_parent]&&(t.parse(e),t.getResponseThread(e.id_parent).unshift(e))}))):t.success(n,{reset:a}),t.getRoom(t.uid(i)).sort((function(t,e){return e.id-t.id})),e.users){var l=Object.keys(e.users).map((function(t){return e.users[t]}));s.addAll(l)}e.msgPin&&(t.msgPin=e.msgPin),e.owner_ids&&e.owner_ids.length&&(t.owner_ids=e.owner_ids)}),(function(){var e=[];r&&r(e),t.success(e,{reset:a})}))},update:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n.b)(this.base+"edit",t,(function(t){t.id&&(e.updateCommentInRoom(t),i.success&&i.success(t))}),(function(t){i.error&&i.error(t)}))},updateComment:function(t){var e=this.map[t.id];e&&Object.assign(e,t)},updateCommentInRoom:function(t){var e;if(this.parse(t),t.id_parent&&!this.isFlat)this.map[t.id_parent]&&(e=this.getResponseThread(t.id_parent));else{var i=this.uid(t);e=this.getRoom(i)}var n=e.find((function(e){return+e.id==+t.id}));n&&Object.assign(n,t)},destroy:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(n.b)(this.base+"delete",t,(function(n){e.remove(t),i.success&&i.success(n)}),(function(t){i.error&&i.error(t)}))},remove:function(t){var e=this.map[t.id];if(e){var i;if(e.id_parent&&!this.isFlat)this.map[e.id_parent]&&(i=this.getResponseThread(e.id_parent));else{var n=this.uid(e);i=this.getRoom(n)}if(i){e=i.find((function(t){return+t.id==+e.id}));var s=i.indexOf(e);s>=0&&i.splice(s,1)}}}},r=window.store||{};r.chat=r.chat||{comments:a,users:s},window.store=r;e.a=r.chat},38:function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var n=i(6),s=i(5),a=i(55),r=i(36);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=v(t);if(e){var s=v(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return p(this,i)}}function p(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(v,t);var e,i,o,p=d(v);function v(){return c(this,v),p.apply(this,arguments)}return e=v,(i=[{key:"name",get:function(){return"editor_nl"}},{key:"defaultOptions",get:function(){return{selfData:null}}},{key:"plugins",get:function(){var t=this;return[Object(a.b)({"Mod-Enter":Object(s.a)(s.i,s.b,s.e,s.q),"Shift-Enter":Object(s.a)(s.i,s.b,s.e,s.q),"Ctrl-Enter":Object(s.a)(s.i,s.b,s.e,s.q),"Mod-я":r.d,"Shift-Mod-я":r.b}),new n.h({props:{handleKeyDown:function(e,i){return"Enter"===i.key&&(t.options.selfData.vueObj.$emit("submit",i),!0)}}})]}}])&&l(e.prototype,i),o&&l(e,o),v}(n.e)},39:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n-modal-category"},[t._v('\n    Можливо Ви мали на увазі не "'),i("strong",[t._v(t._s(t.title))]),t._v('", а:\n    '),i("hr"),t._v(" "),i("ul",t._l(t.categories,(function(e){return i("li",{on:{click:function(i){return t.$emit("select-from-list",e.title)}}},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}]},[t._v(t._s(e.title))])])})),0),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"n-modal-cat-btn-wrap"},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"v-blue-button n-green",on:{click:function(e){return t.$emit("create-new",t.title)}}},[t._v("Я вказав(ла) правильну назву")]),t._v(" "),i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"v-blue-button",on:{click:function(e){return t.$emit("close",e)}}},[t._v("Змінити назву")])])])};n._withStripped=!0;var s={name:"maybe-proposition",props:["categories","title"]},a=i(0),r=Object(a.a)(s,n,[],!1,null,"519b8490",null);r.options.__file="js/modules/category/maybe-proposition.vue";e.a=r.exports},40:function(t,e,i){"use strict";e.a={data:function(){return{marks:{0:{min_mark:"",max_mark:"",desc:"",mark_desc:[]},1:{min_mark:3,max_mark:12,desc:"",mark_desc:[]},2:{min_mark:0,max_mark:12,desc:'* учням в кінці буде показано текстову оцінку "Ти можеш краще!", "Ти йдеш до успіху!", "Це тріумф!"',mark_desc:[{min:0,max:5,text:"Ти можеш краще!"},{min:5,max:10,text:"Ти йдеш до успіху!"},{min:10,max:12,text:"Це тріумф!"}]},3:{min_mark:60,max_mark:100,desc:"* учням в кінці буде показано кількість набраних балів та оцінку ECTS",mark_desc:[{min:0,max:35,text:"F"},{min:35,max:60,text:"FX"},{min:60,max:64,text:"E"},{min:64,max:74,text:"D"},{min:74,max:82,text:"C"},{min:82,max:90,text:"B"},{min:90,max:100,text:"A"}]}}}},methods:{getMarkDesc:function(t,e){if(t=parseInt(t),e=parseFloat(e),!this.marks[t])return"";for(var i=0,n="",s=this.marks[t].mark_desc,a=0;a<s.length;a++)if(i=0,void 0!==s[a+1]&&(i=s[a+1].min),e>=s[a].min&&(e<s[a].max||!i)){n=s[a].text;break}return n}}}},41:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"i-editor"},[i("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.commands,s=e.isActive;return[i("div",{staticClass:"v-library-comment-edit"},[i("a",{class:{"is-active":s.bold()},staticStyle:{cursor:"pointer"},on:{click:n.bold}},[i("i",{staticClass:"v-icon-editor v-bold"})]),t._v(" "),i("a",{class:{"is-active":s.italic()},staticStyle:{cursor:"pointer"},on:{click:n.italic}},[i("i",{staticClass:"v-icon-editor v-italic"})]),t._v(" "),i("a",{class:{"is-active":s.strike()},staticStyle:{cursor:"pointer"},on:{click:n.strike}},[i("i",{staticClass:"v-icon-editor v-strike"})]),t._v(" "),i("a",{class:{"is-active":s.underline()},staticStyle:{cursor:"pointer"},on:{click:n.underline}},[i("i",{staticClass:"v-icon-editor v-underline"})]),t._v(" "),i("a",{staticStyle:{cursor:"pointer"},on:{click:n.undo}},[i("i",{staticClass:"v-icon-editor v-undo"})]),t._v(" "),i("a",{staticStyle:{cursor:"pointer"},on:{click:n.redo}},[i("i",{staticClass:"v-icon-editor v-redo"})]),t._v(" "),i("a",{staticStyle:{cursor:"pointer"},on:{click:t.attachFile}},[i("i",{staticClass:"v-icon-editor",class:[t.isUploading?"st-loading":"st-attach"]})])])]}}])}),t._v(" "),t.attachments.length?i("div",t._l(t.attachments,(function(e){return i("div",{staticClass:"v-file-upload-block"},[i("i",{staticClass:"v-success-icon"},[t._v("✔")]),t._v("Файл, "+t._s(e.file_src)+"\n            "),i("a",{staticClass:"v-delete-btn",on:{click:function(i){return t.removeAttachment(e)}}},[t._v("x")])])})),0):t._e(),t._v(" "),i("editor-content",{staticClass:"i-editor-text i-textarea",attrs:{editor:t.editor}})],1)};n._withStripped=!0;var s=i(24).a,a=(i(75),i(0)),r=Object(a.a)(s,n,[],!1,null,null,null);r.options.__file="js/components/editor-msg/editor-msg.vue";e.a=r.exports},42:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n-wraper-modal"},[i("div",{staticClass:"n-modal-lessons-wrap-header"},[i("div",{class:["n-modal-filter",t.show_filter?"active":""]},[i("div",{staticClass:"n-modal-filter-top-wrap"},[i("div",{staticClass:"n-modal-item-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.title,expression:"filter.title"}],attrs:{type:"text",autocomplete:"off",placeholder:"Введіть назву..."},domProps:{value:t.filter.title},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetchTestsNew()},input:function(e){e.target.composing||t.$set(t.filter,"title",e.target.value)}}}),t._v(" "),i("button",{on:{click:function(e){return t.fetchTestsNew()}}},[i("i")])]),t._v(" "),i("div",{staticClass:"n-modal-item-btn"},[t.show_filter?i("a",{staticClass:"n-closed-span",on:{click:function(e){t.show_filter=!1}}},[t._v("Закрити фільтр "),i("i")]):i("a",{staticClass:"n-open-span",on:{click:function(e){t.show_filter=!0}}},[t._v("Відкрити фільтр "),i("i")])])]),t._v(" "),i("div",{staticClass:"n-modal-filter-bottom-wrap"},[i("div",{staticClass:"n-modal-filter-checkbox"},[i("div",{staticClass:"n-checkbox-item"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchShowMode,expression:"searchShowMode"}],attrs:{type:"radio"},domProps:{value:"",checked:t._q(t.searchShowMode,"")},on:{change:function(e){t.searchShowMode=""}}}),t._v("\n              Пошук серед усіх тестів\n            ")])]),t._v(" "),i("div",{staticClass:"n-checkbox-item"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchShowMode,expression:"searchShowMode"}],attrs:{type:"radio"},domProps:{value:"my",checked:t._q(t.searchShowMode,"my")},on:{change:function(e){t.searchShowMode="my"}}}),t._v("\n              Пошук серед моїх тестів\n            ")])])]),t._v(" "),i("div",{staticClass:"n-modal-select-wrap"},[i("div",{staticClass:"n-modal-select-item"},[i("i",{staticClass:"n-arrow-modal-select"}),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.searchClassInt,expression:"searchClassInt"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.searchClassInt=e.target.multiple?i:i[0]}}},[i("option",{domProps:{value:""}},[t._v("Обрати клас")]),t._v(" "),t._l([-2,-1,1,2,3,4,5,6,7,8,9,10,11,12,13],(function(e){return i("option",{domProps:{value:e}},[t._v("\n                "+t._s(t._f("classIntTitle")(e)))])}))],2)]),t._v(" "),i("div",{staticClass:"n-modal-select-item"},[i("SetCategory",{attrs:{label:!1,"is-search-mode":!0,"value-id":t.searchIdCategory},on:{"select-category":function(e){t.searchIdCategory=e}}})],1)]),t._v(" "),t.isSearch?i("div",{staticClass:"n-modal-clear-filter-wrap"},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:t.clearSearch}},[t._v("Очистити фільтр "),i("i",[t._v("+")])])]):t._e()])]),t._v(" "),i("div",{staticClass:"n-triangle"})]),t._v(" "),t.dataProvider?i("div",{staticClass:"v-info-library n-info-library"},[i("div",{staticClass:"v-achievements-wrap v-achievements-wrap-modal "},[t.countTest?i("div",{staticClass:"n-test-title-modal"},[t._v("\n                Доступно "+t._s(t._f("plural")(t.countTest,["{n} тест","{n} тести","{n} тестів"]))+"\n            ")]):t._e(),t._v(" "),t._l(t.dataProvider.models,(function(e){return i("div",{class:["v-row","v-row-lib","a-bor-b-test","n-bor-b-test",t.isMy(e.id_user)?"vr-test-my":""],on:{click:function(i){return t.$emit("select-test",e)}}},[i("div",{staticClass:"v-col-12"},[i("div",{staticClass:"v-library-block v-test-new-block"},[i("div",{staticClass:"v-library-block-info v-library-block-info-space"},[i("div",{staticClass:"v-col-12"},[i("span",{staticClass:"v-library-block-title n-library-block-title"},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-j-test-add-test-btn"},[t._v("Обрати цей тест +")]),t._v(" "),i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-j-title-test",on:{click:function(i){return i.stopPropagation(),t.openTest(e)}}},[t._v(t._s(e.title))])]),t._v(" "),i("div",{staticClass:"v-library-block-info-subject"},[i("i",{staticClass:"v-icon v-icon-category"}),t._v(t._s(e._meta.category?e._meta.category.title:"-")+"\n                                ")]),t._v(" "),i("div",{staticClass:"v-library-block-info-subject"},[i("i",{staticClass:"v-icon v-icon-class"}),t._v(" "),i("b",[t._v(t._s(e.count_quest))]),t._v(" питань\n                                ")]),t._v(" "),i("div",{staticClass:"v-library-block-info-subject"},[i("i",{staticClass:"v-icon v-icon-number"}),t._v(" "),i("b",[t._v(t._s(e.count_execution))]),t._v(" проходжень\n                                ")]),t._v(" "),i("div",{staticClass:"v-library-block-info-subject v-library-block-info-date"},[i("i",{staticClass:"v-icon v-icon-date"}),t._v(t._s(e._meta.test.date)+"\n                                ")]),t._v(" "),i("div",{staticClass:"v-library-block-info-subject v-library-block-info-views"},[i("i",{staticClass:"v-icon v-icon-views"}),t._v(t._s(e.cnt_view)+"\n                                ")]),t._v(" "),i("div",{staticClass:"v-library-block-info-subject v-library-block-info-comments"},[i("a",{attrs:{href:"javascript:void(0)"}},[i("i",{staticClass:"v-icon v-icon-comment"}),t._v(t._s(e.cnt_comment))])]),t._v(" "),i("div",{staticClass:"v-library-block-info-subject v-library-block-info-downloads"},[i("i",{staticClass:"v-icon v-icon-downloads"}),t._v(t._s(e.cnt_download)+"\n                                ")]),t._v(" "),i("div",{staticClass:"v-library-block-info-subject v-library-block-info-all-likes"},[i("span",{staticClass:"v-library-block-info-all-like"},[i("i"),t._v(t._s(e.cnt_like))]),t._v(" "),i("span",{staticClass:"v-library-block-info-all-dislike"},[i("i"),t._v(t._s(e.cnt_dislike))])])])])])])])})),t._v(" "),t.dataProvider.models.length?t._e():i("div",{staticClass:"v-row v-row-lib a-bor-b-test n-bor-b-test n-bor-b-test-none"},[t._m(0)]),t._v(" "),t.dataProvider.pagination.page<t.dataProvider.pagination.pageCount-1?i("div",{staticClass:"n-modal-wrap-h-w-btn"},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-modal-blue-btn",on:{click:function(e){return t.showMode("page")}}},[t._v("Показати ще")])]):t._e()],2)]):t._e()])};n._withStripped=!0;var s=i(8),a=i(48),r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"v-info-library-total"},[t._v("\n    "+t._s(t.firstText)+" "+t._s(t.totalCount)+" "+t._s(t._f("plural")(t.totalCount,[t.one,t.two,t.five]))+"\n")])};r._withStripped=!0;var o=i(1),c={name:"v-summary",filters:{plural:o.r},props:{firstText:String,totalCount:{type:[Number,String],default:0},one:{type:String,default:"завдання"},two:{type:String,default:"завдання"},five:{type:String,default:"завдань"}}},l=i(0),u=Object(l.a)(c,r,[],!1,null,"6741a57e",null);u.options.__file="js/components/v-summary.vue";var d=u.exports,p=i(16),v={name:"v-select-test",props:["id_category","class_bit","class_int"],components:{Preloader:s.a,vPager:a.a,vSummary:d,SetCategory:p.a},filters:{classIntTitle:o.d,plural:o.r},data:function(){return{uniqueId:null,is_init:!1,dataProvider:null,filter:{title:"",id_category:"",class_int:"",show_mode:""},page:1,show_filter:!1}},computed:{countTest:function(){var t=0;return this.is_init?t+=this.dataProvider.totalCount:t},searchIdCategory:{get:function(){return this.filter.id_category},set:function(t){this.filter.id_category!=t&&(this.filter.id_category=t,this.fetchTestsNew())}},searchClassInt:{get:function(){return this.filter.class_int},set:function(t){this.filter.class_int=t,this.fetchTestsNew()}},searchShowMode:{get:function(){return this.filter.show_mode},set:function(t){this.filter.show_mode=t,this.fetchTestsNew()}},isSearch:function(){var t=!1;for(var e in this.filter)if(this.filter[e]){t=!0;break}return t},isMy:function(){return function(t){return t&&t==vo.user_id}}},methods:{fetchTestsNew:function(){this.page=1,this.fetchTests()},fetchTests:function(){var t=this;this.is_init=!1,vo.ajax(null,"/ext/test/test-list?page="+this.page,JSON.parse(JSON.stringify(this.filter)),(function(e){e.dataProvider.pagination.page>0?(t.$set(t.$data.dataProvider.pagination,"page",e.dataProvider.pagination.page),t.$set(t.$data.dataProvider,"models",t.dataProvider.models.concat(e.dataProvider.models)),t.page=e.dataProvider.pagination.page+1):(t.dataProvider=e.dataProvider,t.page=1),t.is_init=!0}))},showMode:function(t){this[t]+=1,this.fetchTests()},clearSearch:function(){for(var t in this.filter)"show_mode"!==t&&(this.filter[t]="");this.fetchTestsNew()},openTest:function(t){t&&window.open(t._meta.test.url,"_blank").focus()}},created:function(){if(this.uniqueId="sr"+Math.random().toString(36).substring(7),this.id_category&&(this.filter.id_category=parseInt(this.id_category)),this.class_bit){var t=Object(o.b)(this.class_bit);this.filter.class_int=t.length>0?t[0]:""}this.class_int&&(this.filter.class_int=parseInt(this.class_int)),this.show_filter=this.isSearch,this.fetchTestsNew()}},f=Object(l.a)(v,n,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-col-12"},[i("div",{staticClass:"v-library-block v-test-new-block"},[i("div",{staticClass:"v-library-block-info v-library-block-info-space"},[i("div",{staticClass:"v-col-12"},[i("span",{staticClass:"v-library-block-title n-library-block-title"},[t._v("\n                                    Тестів по заданим фільтрам не знайдено.\n                                ")]),t._v(" "),i("a",{staticClass:"n-modal-blue-btn",attrs:{href:"/test/create"}},[t._v("Створити новий тест")])])])])])}],!1,null,"de9cc70c",null);f.options.__file="js/modules/lesson-designer/go-designer/components/designer/block-editor-components/v-select-test.vue";e.a=f.exports},440:function(t,e,i){"use strict";(function(t,e){var n=i(353);vo.docComments=function(i,s,a,r){t((function(){e("#app-comments").each((function(){new n.a({data:{obj_id:i,obj_type:s,obj_sub_id:a,is_check_pay:r},el:this})}))}))}}).call(this,i(4),i(4))},441:function(t,e,i){"use strict";var n=i(183);i.n(n).a},45:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"quest-container",staticClass:"v-test-go-bg"},[i("div",{staticClass:"v-test-go-body v-z-index"},[i("div",{staticClass:"v-test-question",attrs:{id:t.app_id+"-i-test-question"}},[i("div",{staticClass:"v-test-questions-block"},[i("div",{staticClass:"v-test-questions-title"},[i("span",{staticClass:"v-number"},[t._v("Питання: "+t._s(t.quest_num+1)+"/"+t._s(t.quest_count))]),i("br"),t._v(" "),6===t.quest.quest_type||7===t.quest.quest_type?i("FillTheGap",{ref:"activeQuestBlock",attrs:{quest:t.quest,app_id:t.app_id,shuffle:t.shuffle,user_answer:t.user_answer}}):i("div",{domProps:{innerHTML:t._s(t.quest.quest_desc)}})],1),t._v(" "),i("div",[1===t.quest.quest_type?i("RadioBlock",{ref:"activeQuestBlock",attrs:{quest:t.quest,app_id:t.app_id,shuffle:t.shuffle,user_answer:t.user_answer}}):2===t.quest.quest_type?i("CheckboxBlock",{ref:"activeQuestBlock",attrs:{quest:t.quest,app_id:t.app_id,shuffle:t.shuffle,user_answer:t.user_answer}}):3===t.quest.quest_type?i("AnswerText",{ref:"activeQuestBlock",attrs:{quest:t.quest,app_id:t.app_id,shuffle:t.shuffle,user_answer:t.user_answer},on:{"internal-send-answer":t.internalSendAnswerHandler}}):4===t.quest.quest_type?i("AnswerCross",{ref:"activeQuestBlock",attrs:{quest:t.quest,app_id:t.app_id,shuffle:t.shuffle,user_answer:t.user_answer}}):8===t.quest.quest_type?i("Queue",{ref:"activeQuestBlock",attrs:{quest:t.quest,app_id:t.app_id,shuffle:t.shuffle,user_answer:t.user_answer}}):t._e(),t._v(" "),9===t.quest.quest_type?i("ImageArea",{ref:"activeQuestBlock",attrs:{quest:t.quest,app_id:t.app_id,shuffle:t.shuffle,user_answer:t.user_answer}}):t._e()],1)])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.warning_message,expression:"warning_message"}],staticStyle:{color:"#ff0e0e"},domProps:{innerHTML:t._s(t.warning_message)}}),t._v(" "),t.show_control_buttons?i("div",{staticClass:"v-test-go-body-test-button"},[i("div",{staticClass:"n-go-body-btn-col"},[i("a",{staticClass:"a-pointer-class",on:{click:function(e){return t.$emit("set-show-quest-id",t.prev_quest_id)}}},[t._v("Назад")]),t._v(" "),i("a",{staticClass:"a-pointer-class",on:{click:function(e){return t.$emit("set-show-quest-id",t.next_quest_id)}}},[t._v("Пропустити")])]),t._v(" "),i("div",{staticClass:"n-go-body-btn-col"},[i("button",{class:["v-blue-button-test",(t.show_control_buttons,"")],attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.userSetAnswer(e)}}},[t._v("\n              Зберегти і перейти далі\n            ")])])]):i("div",{staticClass:"v-test-go-body-test-button"},[i("div",{staticClass:"n-go-body-btn-col n-go-body-btn-col-flex-end"},[i("button",{class:["v-blue-button-test",(t.show_control_buttons,"")],attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.userSetAnswer(e)}}},[t._v("\n              Зберегти і перейти далі\n            ")])])])])])};n._withStripped=!0;var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"v-block-answers-cross-wrapper v-row"},[i("div",{staticClass:"v-col-6"},[t.numbersTitle?i("div",{staticClass:"v-cross-group-title"},[t._v(t._s(t.numbersTitle))]):t._e(),t._v(" "),t._l(this.$data.__numbersColumn,(function(e,n){return t.isCheckedPair(e.index,e.type)?t._e():i("div",{staticClass:"v-block-answers-cross-block",class:["selected"===e.status?"n-checked":"","inactive"===e.status?"n-none-checked":"",t.isLetterColumnChecked?"n-all-checked":""],on:{click:function(i){return t.selectItem(e.index,e.type)}}},[i("div",{staticClass:"rk-cross__item v-block-answers-table-numb",class:e.status},[i("i",[t._v(t._s(t.getNumByIndex(n)))])]),t._v(" "),i("div",{staticClass:"n-kahoot-p",domProps:{innerHTML:t._s(e.value)}})])}))],2),t._v(" "),i("div",{staticClass:"v-col-6 n-last-col-kahoot v-col-last"},[t.lettersTitle?i("div",{staticClass:"v-cross-group-title"},[t._v(t._s(t.lettersTitle))]):t._e(),t._v(" "),t._l(this.$data.__lettersColumn,(function(e,n){return t.isCheckedPair(e.index,e.type)?t._e():i("div",{staticClass:"v-block-answers-cross-block",class:["selected"===e.status?"n-checked":"","inactive"===e.status?"n-none-checked":"",t.isNumberColumnChecked?"n-all-checked":""],on:{click:function(i){return t.selectItem(e.index,e.type)}}},[i("div",{staticClass:"rk-cross__item v-block-answers-table-numb",class:e.status},[i("i",[t._v(t._s(t.getLetterByIndex(n)))])]),t._v(" "),i("div",{staticClass:"n-kahoot-p",domProps:{innerHTML:t._s(e.value)}})])}))],2)]),t._v(" "),this.$data.__numbersColumn.length>0&&this.$data.__lettersColumn.length>0?i("div",{staticClass:"rk-cross__wrap v-cross-wrap n-cross-wrap-kahhot"},[i("div",{staticClass:"v-row"},[i("div",{staticClass:"v-col-12 v-col-last"},[i("h4",[t._v("Обрані варіанти:")]),t._v(" "),Object.keys(t.userAnswer).length>0?i("ul",{staticClass:"rk-cross__selected"},t._l(t.userAnswer,(function(e,n){return i("li",{staticClass:"rk-selected__pair"},[i("div",{staticClass:"rk-pair__remove",on:{click:function(e){return t.removePair(n)}}},[t._v("✖\n                        ")]),t._v(" "),i("div",{staticClass:"rk-cross__item v-block-answers-table-numb"},[i("i",[t._v(t._s(t.getNumByIndex(t.getColumnKeyByIndex(n,"number"))))])]),t._v(" "),i("div",{staticClass:"rk-cross__item v-block-answers-table-numb"},[i("i",[t._v(t._s(t.getLetterByIndex(t.getColumnKeyByIndex(e,"letter"))))])])])})),0):i("div",{staticClass:"rk-cross__selected"},[t._v("Ви ще не обрали жодної відповідності")])])])]):t._e()])};function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}s._withStripped=!0;var r={name:"AnswerCross",props:["quest","app_id","shuffle","user_answer"],data:function(){return{__numbersColumn:[],__lettersColumn:[],userAnswer:{}}},computed:{isLetterColumnChecked:function(){return this.$data.__lettersColumn.some((function(t){return"selected"===t.status}))},isNumberColumnChecked:function(){return this.$data.__numbersColumn.some((function(t){return"selected"===t.status}))},numbers:function(){var t=[];return void 0!==this.quest.answer_arr.group&&void 0!==this.quest.answer_arr.group[0]&&(t=this.quest.answer_arr.group[0]),t},letters:function(){var t=[];return void 0!==this.quest.answer_arr.group&&void 0!==this.quest.answer_arr.group[1]&&(t=this.quest.answer_arr.group[1]),t},numbersTitle:function(){var t="";return void 0!==this.quest.answer_arr.group_name&&void 0!==this.quest.answer_arr.group_name[0]&&(t=this.quest.answer_arr.group_name[0].trim()),t},lettersTitle:function(){var t="";return void 0!==this.quest.answer_arr.group_name&&void 0!==this.quest.answer_arr.group_name[1]&&(t=this.quest.answer_arr.group_name[1].trim()),t},isCheckedPair:function(){var t=this;return function(e,i){if("number"===i&&void 0!==t.$data.userAnswer[e])return!0;if("letter"===i)for(var n in t.$data.userAnswer)if(t.$data.userAnswer.hasOwnProperty(n)&&t.$data.userAnswer[n]===e)return!0;return!1}},getLetterByIndex:function(){return function(t){return"АБВГДЕЄЖЗИІЇЙКЛМНОПРСТУФХЦ"[t]}},getNumByIndex:function(){return function(t){return parseInt(t)+1}},getColumnKeyByIndex:function(){var t=this;return function(e,i){var n="__numbersColumn";for(var s in"letter"===i&&(n="__lettersColumn"),t.$data[n])if(t.$data[n][s].index===e)return s;return 0}}},methods:{isUserSetAnswer:function(){return Object.keys(this.$data.userAnswer).length>0},removePair:function(t){this.$delete(this.$data.userAnswer,t)},selectItem:function(t,e){if(this.setPair(t,e))this.clearColumnsStatus();else{var i="__numbersColumn",n="__lettersColumn";for(var s in"letter"===e&&(i="__lettersColumn",n="__numbersColumn"),this.$data[i])if(this.$data[i][s].index===t&&"selected"===this.$data[i][s].status)return void this.clearColumnsStatus();for(var a in this.$data[n])this.$data[n][a].status="highlight";for(var r in this.$data[i])this.$data[i][r].status=this.$data[i][r].index===t?"selected":"inactive"}},setPair:function(t,e){var i=!1;if("number"===e)for(var n in this.$data.__lettersColumn)"selected"===this.$data.__lettersColumn[n].status&&(this.$set(this.$data.userAnswer,t,this.$data.__lettersColumn[n].index),i=!0);if("letter"===e)for(var s in this.$data.__numbersColumn)"selected"===this.$data.__numbersColumn[s].status&&(this.$set(this.$data.userAnswer,this.$data.__numbersColumn[s].index,t),i=!0);return i},clearColumnsStatus:function(){for(var t in this.$data.__numbersColumn)this.$data.__numbersColumn[t].status="";for(var e in this.$data.__lettersColumn)this.$data.__lettersColumn[e].status=""},getShuffleKeys:function(t){for(var e,i,n=t.length;0!==n;)i=Math.floor(Math.random()*n),e=t[n-=1],t[n]=t[i],t[i]=e;return t},setDataColumn:function(t,e,i){var n,s,a;a=Object.keys(t),this.shuffle&&(a=this.getShuffleKeys(a));var r=[];for(n=0,s=a.length;n<s;n++)r[n]={index:a[n],value:t[a[n]],type:i,status:""};this.$set(this.$data,e,r)}},created:function(){if(this.setDataColumn(this.numbers,"__numbersColumn","number"),this.setDataColumn(this.letters,"__lettersColumn","letter"),"object"===a(this.user_answer)&&"answer"in this.user_answer&&"object"===a(this.user_answer.answer))for(var t in this.user_answer.answer)this.$set(this.$data.userAnswer,t,this.user_answer.answer[t])}},o=i(0),c=Object(o.a)(r,s,[],!1,null,null,null);c.options.__file="js/modules/test-designer/components/answer-templates/AnswerCross.vue";var l=c.exports,u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"a-test-lab-inp"},[i("label",[t._v("Введіть відповідь")]),t._v(" "),i("input",{ref:"answer-"+t.quest.id,attrs:{type:"text",placeholder:"Введіть відповідь...",name:t.quest.id,id:t.app_id+"-answer-"+t.quest.id,maxlength:"255",autocomplete:"off"},domProps:{value:t.userAnswer},on:{change:function(e){return t.changeAnswer(e.target.value)},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendAnswer(e)}}})])};function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}u._withStripped=!0;var p={name:"AnswerText",props:["quest","app_id","user_answer"],data:function(){return{userAnswer:null}},computed:{},methods:{isUserSetAnswer:function(){var t=JSON.parse(JSON.stringify(this.userAnswer));return null!==t&&""!==t},changeAnswer:function(t){this.userAnswer=t.trim()},sendAnswer:function(t){this.changeAnswer(t.target.value),""!==this.userAnswer&&null!==this.userAnswer&&this.$emit("internal-send-answer")}},created:function(){"object"===d(this.user_answer)&&"answer"in this.user_answer&&this.changeAnswer(this.user_answer.answer)}},v=Object(o.a)(p,u,[],!1,null,"21a422d0",null);v.options.__file="js/modules/test-designer/components/answer-templates/AnswerText.vue";var f=v.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n-flex-kahoot"},t._l(t.answer_keys,(function(e){return i("div",{class:["v-test-questions-radio-block",t.userAnswer[0]==e?"n-checked":""]},[i("input",{ref:"answer-"+e,refInFor:!0,attrs:{type:"radio",name:t.quest.id,id:t.app_id+"-answer-"+e},domProps:{checked:t.userAnswer[0]==e,value:e},on:{change:function(e){return t.selectRadio(e.target.value)}}}),t._v(" "),i("label",{attrs:{for:t.app_id+"-answer-"+e},domProps:{innerHTML:t._s(t.answer_arr[e])}})])})),0)};function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return g(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}h._withStripped=!0;var y={name:"RadioBlock",props:["quest","app_id","shuffle","user_answer"],data:function(){return{userAnswer:{0:null}}},computed:{answer_arr:function(){return this.quest.answer_arr},answer_keys:function(){var t,e=[],i=0,n=m(this.answer_arr.keys());try{for(n.s();!(t=n.n()).done;){var s=t.value;e[i]=s,i++}}catch(t){n.e(t)}finally{n.f()}return this.shuffle&&(e=this.getShuffleKeys(e)),e}},methods:{isUserSetAnswer:function(){return null!==this.userAnswer[0]},selectRadio:function(t){this.userAnswer[0]=t},getShuffleKeys:function(t){for(var e,i,n=t.length;0!==n;)i=Math.floor(Math.random()*n),e=t[n-=1],t[n]=t[i],t[i]=e;return t}},created:function(){"object"===_(this.user_answer)&&"answer"in this.user_answer&&this.selectRadio(this.user_answer.answer[0])}},b=Object(o.a)(y,h,[],!1,null,"56c77ad2",null);b.options.__file="js/modules/test-designer/components/answer-templates/RadioBlock.vue";var w=b.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n-flex-kahoot"},t._l(t.answer_keys,(function(e){return i("div",{class:["v-test-questions-checkbox-block",Object.values(t.userAnswer).findIndex((function(t){return t==e}))>-1?"n-checked":""]},[i("input",{ref:"answer-"+e,refInFor:!0,attrs:{type:"checkbox",name:t.quest.id,id:t.app_id+"-answer-"+e},domProps:{value:e,checked:Object.values(t.userAnswer).findIndex((function(t){return t==e}))>-1},on:{change:t.selectCheckbox}}),t._v(" "),i("label",{attrs:{for:t.app_id+"-answer-"+e},domProps:{innerHTML:t._s(t.answer_arr[e])}})])})),0)};function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return S(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return S(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}C._withStripped=!0;var j={name:"CheckboxBlock",props:["quest","app_id","shuffle","user_answer"],data:function(){return{userAnswer:{}}},computed:{answer_arr:function(){return this.quest.answer_arr},answer_keys:function(){var t,e=[],i=0,n=x(this.answer_arr.keys());try{for(n.s();!(t=n.n()).done;){var s=t.value;e[i]=s,i++}}catch(t){n.e(t)}finally{n.f()}return this.shuffle&&(e=this.getShuffleKeys(e)),e}},methods:{isUserSetAnswer:function(){return Object.keys(this.$data.userAnswer).length>0},selectCheckbox:function(t){var e=t.target,i=e.value;e.checked?this.$set(this.$data.userAnswer,i,i):this.$delete(this.$data.userAnswer,i)},getShuffleKeys:function(t){for(var e,i,n=t.length;0!==n;)i=Math.floor(Math.random()*n),e=t[n-=1],t[n]=t[i],t[i]=e;return t}},created:function(){if("object"===k(this.user_answer)&&"answer"in this.user_answer){for(var t=Object.values(this.user_answer.answer),e={},i=0;i<t.length;i++)e[t[i]]=t[i];this.$set(this.$data,"userAnswer",e)}}},P=Object(o.a)(j,C,[],!1,null,"5dba3955",null);P.options.__file="js/modules/test-designer/components/answer-templates/CheckboxBlock.vue";var I=P.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{domProps:{innerHTML:t._s(t.desc)}}),t._v(" "),i("div",{style:{opacity:0,height:0},attrs:{id:"vr-width-container"}})])};function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return $(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return $(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}O._withStripped=!0;var E={name:"FillTheGap",props:["quest","app_id","shuffle","user_answer"],data:function(){return{desc:"",keys:{},userAnswer:{}}},computed:{warningMsgIfAnswerNotSet:function(){return"Необхідно заповнити усі поля та/або обрати усі варіанти відповіді!"}},methods:{isUserSetAnswer:function(){return Object.keys(this.$data.userAnswer).length>=Object.keys(this.quest.answer_arr).length},answer_keys:function(t){if(!this.keys.hasOwnProperty(t)){var e,i=[],n=0,s=A(this.quest.answer_arr[t].values.keys());try{for(s.s();!(e=s.n()).done;){var a=e.value;i[n]=a,n++}}catch(t){s.e(t)}finally{s.f()}this.shuffle&&(i=this.getShuffleKeys(i)),this.$set(this.$data.keys,t,i)}return this.keys[t]},getWidthOfInput:function(t){var e=document.getElementById("vr-width-container"),i=document.createElement("span");i.innerHTML=this.getAnswerWithMaxLength(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.appendChild(i);var n=i.getBoundingClientRect().width;return e.removeChild(i),Math.ceil(n)+40},getAnswerWithMaxLength:function(t){if(!this.quest.answer_arr.hasOwnProperty(t))return!1;for(var e=this.quest.answer_arr[t],i="",n=0;n<e.values.length;n++)e.values[n].value.length>i.length&&(i=e.values[n].value);return i},setInputWidth:function(){for(var t,e,i=document.querySelectorAll("span[data-key]"),n=0;n<i.length;n++)(e=i.item(n).firstChild)&&!1!==(t=this.getWidthOfInput(e.getAttribute("data-key")))&&e.setAttribute("style","width: "+t+"px;")},parseDesc:function(t){for(var e=(new DOMParser).parseFromString("<div>"+t+"</div>","text/xml"),i=e.getElementsByClassName("vr-control"),n=0;n<i.length;n++){var s=i.item(n),a=s.getAttribute("data-key");if(this.quest.answer_arr.hasOwnProperty(a)){var r=void 0,o=void 0;if("select"===this.quest.answer_arr[a].type){r=document.createElement("select"),(o=document.createElement("option")).innerHTML="...",o.value="",r.appendChild(o);for(var c=this.answer_keys(a),l=0;l<c.length;l++){o=document.createElement("option");var u=this.quest.answer_arr[a].values[c[l]].value;o.innerHTML=u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),o.value=l.toString(),void 0!==this.userAnswer[a]&&this.userAnswer[a]==u&&o.setAttribute("selected","selected"),r.appendChild(o)}}else(r=document.createElement("input")).type="text",r.maxLength=255,r.placeholder="...",void 0!==this.userAnswer[a]&&r.setAttribute("value",this.userAnswer[a]);r.setAttribute("data-key",a),s.innerHTML="",s.appendChild(r)}}return e.firstChild.innerHTML},addAnswerListeners:function(){for(var t=document.querySelectorAll("input[data-key], select[data-key]"),e=0;e<t.length;e++)t.item(e).addEventListener("input",this.setAnswer)},setAnswer:function(t){var e=t.target.getAttribute("data-key"),i=t.target.value.trim();""===i&&this.userAnswer.hasOwnProperty(e)?delete this.userAnswer[e]:("select-one"===t.target.type&&(i=this.quest.answer_arr[e].values[this.answer_keys(e)[parseInt(i)]].value),this.$set(this.$data.userAnswer,e,i))},getShuffleKeys:function(t){for(var e,i,n=t.length;0!==n;)i=Math.floor(Math.random()*n),e=t[n-=1],t[n]=t[i],t[i]=e;return t}},created:function(){"object"===T(this.user_answer)&&"answer"in this.user_answer&&this.$set(this.$data,"userAnswer",this.user_answer.answer),this.desc=this.parseDesc(this.quest.quest_desc)},mounted:function(){this.setInputWidth(),this.addAnswerListeners()}},L=Object(o.a)(E,O,[],!1,null,null,null);L.options.__file="js/modules/test-designer/components/answer-templates/FillTheGap.vue";var D=L.exports,q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t-test-questions"},t._l(t.answer_keys,(function(e){return i("div",{staticClass:"v-test-questions-select-block"},[i("select",{staticClass:"vr-queue-select t-sel-guest",attrs:{"data-answer_key":e},on:{change:function(e){return t.change(e)}}},[i("option",{attrs:{value:""},domProps:{selected:null==t.userAnswer[e]}},[t._v("?")]),t._v(" "),t._l(t.answer_arr.length,(function(n){return i("option",{staticClass:"vr-option",domProps:{selected:t.userAnswer[e]==n-1,value:n-1}},[t._v("№ "+t._s(n))])}))],2),t._v(" "),i("div",{staticClass:"t-text-guest",domProps:{innerHTML:t._s(t.answer_arr[e])}})])})),0)};function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return M(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return M(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}}}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}q._withStripped=!0;var U={name:"Queue",props:["quest","app_id","shuffle","user_answer"],data:function(){return{userAnswer:{}}},computed:{answer_arr:function(){return this.quest.answer_arr},answer_keys:function(){var t,e=[],i=0,n=B(this.answer_arr.keys());try{for(n.s();!(t=n.n()).done;){var s=t.value;e[i]=s,i++}}catch(t){n.e(t)}finally{n.f()}return this.shuffle&&(e=this.getShuffleKeys(e)),e}},methods:{isUserSetAnswer:function(){return Object.keys(this.$data.userAnswer).length>0},getUserShowInformation:function(){return this.answer_keys},getShuffleKeys:function(t){for(var e,i,n=t.length;0!==n;)i=Math.floor(Math.random()*n),e=t[n-=1],t[n]=t[i],t[i]=e;return t},change:function(t){var e=this.userAnswer,i=t.target.value,n=t.target.getAttribute("data-answer_key");if(void 0!==e[n]&&delete e[n],""!==i){for(var s in i=parseInt(i),e)e[s]===i&&delete e[s];e[n]=i}this.$set(this.$data,"userAnswer",e),document.querySelectorAll(".vr-queue-select").forEach((function(t){var i=t.getAttribute("data-answer_key");if(null!==i){var n="";e.hasOwnProperty(i)&&(n=e[i]),t.value!=n&&(t.value=n)}}))}},created:function(){if("object"===N(this.user_answer)&&"answer"in this.user_answer)for(var t in this.user_answer.answer)"@show-rules"!==t&&this.$set(this.$data.userAnswer,parseInt(t),parseInt(this.user_answer.answer[t]))}},F=Object(o.a)(U,q,[],!1,null,"bc920148",null);F.options.__file="js/modules/test-designer/components/answer-templates/Queue.vue";var R=F.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"imageArea",staticClass:"n-class-visually-impaired-img"},[2===t.step?[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"100%",viewBox:t.viewBox},on:{click:function(e){return t.onClickItem(e,null)}}},[i("image",{attrs:{"xlink:href":t.imageUrl,x:"0",y:"0",height:t.height,width:t.width}}),t._v(" "),t._l(t.userAnswer,(function(e){return i("g",{attrs:{transform:"translate("+(e[0]/t.k-10)+", "+(e[1]/t.k-10)+")"}},[i("ellipse",{staticStyle:{cursor:"pointer"},attrs:{cx:"10",cy:"10",rx:"10",ry:"10",fill:"red"},on:{click:function(i){return t.onClickItem(i,e)}}})])}))],2)]:t._e()],2)};H._withStripped=!0;var z=i(1);function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var W={name:"ImageArea",props:["quest","app_id","shuffle","user_answer"],data:function(){return{userAnswer:[],step:1,image:null,type:null,count:null}},computed:{k:{get:function(){return this.image.file_width/this.width}},width:{get:function(){return Math.round(this.$refs.imageArea.clientWidth)}},height:{get:function(){return Math.round("file_width"in this.image&&"file_height"in this.image?this.image.file_height/this.k:0)}},imageUrl:{get:function(){return Object(z.g)(this.image.file,this.width,this.height)}},viewBox:{get:function(){return"0 0 "+this.width+" "+this.height}}},methods:{isUserSetAnswer:function(){return this.userAnswer.length},onClickItem:function(t,e){if(t.stopPropagation(),e)this.userAnswer=this.userAnswer.filter((function(t){return t!==e}));else if(this.userAnswer.length>=this.count)vo.popup("Дозволено ставити лише "+Object(z.r)(this.count,["{n} відмітку","{n} відмітки","{n} відміток"]));else{this.image.file_width,this.width;this.userAnswer.push([Math.round(t.offsetX*this.k),Math.round(t.offsetY*this.k),Math.round(10*this.k)])}}},mounted:function(){var t=this;"object"===Q(this.user_answer)&&"answer"in this.user_answer&&this.user_answer.answer.forEach((function(e){t.userAnswer.push(e)})),this.image={file:this.quest.answer_arr[0],file_width:this.quest.answer_arr[1],file_height:this.quest.answer_arr[2]},this.type=this.quest.answer_arr[3]||0,this.count=this.quest.answer_arr[4]||0,this.step=2}},V=Object(o.a)(W,H,[],!1,null,"4aa1c9d3",null);V.options.__file="js/modules/test-designer/components/answer-templates/ImageArea.vue";var J={name:"BaseQuest",props:["quest","quest_num","app_id","shuffle","quest_count","prev_quest_id","next_quest_id","user_answer","show_control_buttons"],components:{AnswerCross:l,AnswerText:f,CheckboxBlock:I,RadioBlock:w,FillTheGap:D,Queue:R,ImageArea:V.exports},data:function(){return{warning_message:""}},methods:{getUserAnswer:function(){var t=JSON.parse(JSON.stringify(this.$refs.activeQuestBlock.userAnswer)),e=this.getUserShowInformation();return void 0!==e&&(t["@show-rules"]=e),t},getUserShowInformation:function(){if(void 0!==this.$refs.activeQuestBlock.getUserShowInformation)return JSON.parse(JSON.stringify(this.$refs.activeQuestBlock.getUserShowInformation()))},warningMsgIfAnswerNotSet:function(){var t=this.$refs.activeQuestBlock.warningMsgIfAnswerNotSet;return void 0===t&&(t=""),t},isUserSetAnswer:function(){return this.$refs.activeQuestBlock.isUserSetAnswer()},userSetAnswer:function(t){var e=this;if(!this.isUserSetAnswer()){var i="Необхідно вказати відповідь",n=this.warningMsgIfAnswerNotSet();return n&&(i=n),vo.popup(i),this.warning_message=i,setTimeout((function(){e.warning_message=""}),3e3),!1}this.$emit("user-set-answer",{event:t})},internalSendAnswerHandler:function(){this.userSetAnswer()}},mounted:function(){}},G=Object(o.a)(J,n,[],!1,null,"d11ab15e",null);G.options.__file="js/modules/test-designer/components/BaseQuest.vue";e.a=G.exports},46:function(t,e,i){"use strict";e.a={computed:{count_answer_right:function(){return this.countRightAnswer(this.myConfig.id)},max_points:function(){return this.maxQuestsPoint(this.myConfig.id_test)},user_points:function(){return this.userQuestPoint(this.myConfig.id)},min_mark:function(){return this.myConfig.min_mark},max_mark:function(){return this.myConfig.max_mark},user_mark:function(){var t=0;return this.max_points&&(t=Math.round(this.user_points/this.max_points*this.max_mark)),t},is_good_mark:function(){return this.user_mark>=this.min_mark}}}},47:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[!0===t.is_book_loaded?i("div",[t.selectedBooksList.length>0?i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[t._v("Обрані підручники:")]),t._v(" "),i("ul",t._l(t.selectedBooksList,(function(e){return i("li",{key:e.id},[i("input",{attrs:{type:"hidden",name:t.input_name},domProps:{value:e.id}}),t._v(" "),i("a",{staticStyle:{color:"red",cursor:"pointer"},on:{click:function(i){return t.removeBook(e.id)}}},[t._v("[X]")]),t._v(" "+t._s(e.title)+" "),i("strong",[t._v(t._s(e.authors))]),t._v(" "+t._s(e.part_num?"(Частина "+e.part_num+")":"")+"\n                ")])})),0)]):i("input",{attrs:{type:"hidden",name:t.input_name}}),t._v(" "),t.booksToSelect.length>0?i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[t._v(t._s(0===t.selectedBooksList.length?"Підручник":"Ви ще можете обрати підручник"))]),t._v(" "),i("select",{staticClass:"form-control",attrs:{name:""},on:{change:t.selectBook}},[i("option",{attrs:{value:""}},[t._v("[...]")]),t._v(" "),t._l(t.booksToSelect,(function(e){return i("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.title)+" "+t._s(e.authors)+" "+t._s(e.part_num?"(Частина "+e.part_num+")":""))])}))],2)]):t._e()]):t._e()])};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n._withStripped=!0;var a={name:"LibraryBookAddWidget",components:{},props:["category_id","class_arr_wrap_id","book_id_arr","input_name"],data:function(){return{is_book_loaded:-1,bit_class_map:{},books:[],selected_books:[],selected_category:null,selected_classes_bit:[]}},computed:{booksToSelect:function(){var t=this;return this.booksData.filter((function(e){return-1!==e.categoriesArray.findIndex((function(e){return e==t.selectedCategory}))&&-1===t.selectedBooks.findIndex((function(t){return t==e.id}))&&-1!==t.selectedClassesBit.findIndex((function(i){return-1!==e.classesArray.findIndex((function(e){return e==t.bitClassMap[i]}))}))}))},selectedBooksList:function(){var t=this;return this.booksData.filter((function(e){return-1!==t.selectedBooks.findIndex((function(i){return i==e.id&&-1!==e.categoriesArray.findIndex((function(e){return e==t.selectedCategory}))&&-1!==t.selectedClassesBit.findIndex((function(i){return-1!==e.classesArray.findIndex((function(e){return e==t.bitClassMap[i]}))}))}))}))},selectedCategory:function(){return this.selected_category},selectedClassesBit:function(){return this.selected_classes_bit},booksData:function(){return this.books},selectedBooks:function(){return this.selected_books},bitClassMap:function(){return this.bit_class_map}},methods:{selectBook:function(t){""!==t.target.value&&(-1===this.selectedBooks.findIndex((function(e){return e==t.target.value}))&&this.selected_books.push(t.target.value))},removeBook:function(t){var e=this.selectedBooks.findIndex((function(e){return e==t}));e>=0&&this.selected_books.splice(e,1)},changeCategory:function(t){this.$set(this.$data,"selected_category",t),this.loadBooks()},changeClassArr:function(t,e){var i=this.selectedClassesBit,n=i.findIndex((function(e){return e==t}));e?-1==n&&i.push(t):n>=0&&i.splice(n,1),this.$set(this.$data,"selected_classes_bit",i),this.loadBooks()},loadBooks:function(){var t=this;0===this.books.length&&-1===this.is_book_loaded&&(this.is_book_loaded=!1,new Promise((function(t,e){vo.ajax(null,"/ext/library/book",{},(function(e){t(e)}))})).then((function(e){t.$set(t.$data,"books",e.books),t.$set(t.$data,"bit_class_map",e.bit_class_map),t.is_book_loaded=!0})))}},created:function(){var t,e=this,i=document.querySelector(JSON.parse(JSON.stringify(this.category_id)));i&&(this.changeCategory(i.value),i.addEventListener("change",(function(t){return e.changeCategory(t.target.value)})));var n=document.querySelectorAll(this.class_arr_wrap_id+" input[type='checkbox']");for(t=0;t<n.length;t++)this.changeClassArr(n[t].value,n[t].checked),n[t].addEventListener("change",(function(t){return e.changeClassArr(t.target.value,t.target.checked)}));"object"===s(this.book_id_arr)&&this.$set(this.$data,"selected_books",JSON.parse(JSON.stringify(this.book_id_arr))),this.selected_books.length&&this.loadBooks()}},r=i(0),o=Object(r.a)(a,n,[],!1,null,null,null);o.options.__file="js/modules/library-book/components/widget.vue";e.a=o.exports},48:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.pagination.pageCount>1?i("div",{staticClass:"pagination n-j-pagination"},[i("ul",[i("li",{class:{prev:!0,"a-pointer-class":t.isPrevActive,disabled:!t.isPrevActive}},[t.isPrevActive?i("a",{on:{click:function(e){return t.$emit("turn-to-page",t.pagination.page)}}},[t._v("«")]):i("span",[t._v("«")])]),t._v(" "),t._l(t.getPageRange,(function(e){return i("li",{class:{"a-pointer-class":!0,active:e===t.pagination.page}},[i("a",{on:{click:function(i){return t.$emit("turn-to-page",e+1)}}},[t._v(t._s(e+1))])])})),t._v(" "),i("li",{class:{next:!0,"a-pointer-class":t.isNextActive,disabled:!t.isNextActive}},[t.isNextActive?i("a",{on:{click:function(e){return t.$emit("turn-to-page",t.pagination.page+2)}}},[t._v("»")]):i("span",[t._v("»")])])],2)]):t._e()};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n._withStripped=!0;var a={name:"v-pager",props:{pagination:{type:Object,validator:function(t){return"object"===s(t)&&"page"in t&&"pageCount"in t&&"pageSize"in t},default:function(){return{page:0,pageCount:20,pageSize:20}}},maxButtonCount:{type:[Number,String],default:10}},computed:{getPageRange:function(){var t=parseInt(this.pagination.page),e=parseInt(this.pagination.pageCount),i=Number(this.maxButtonCount/2).toString(),n=Math.max(0,t-parseInt(i)),s=n+this.maxButtonCount-1;s>=e&&(s=e-1,n=Math.max(0,s-this.maxButtonCount+1));for(var a=[];n<=s;n++)a.push(n);return a},isPrevActive:function(){return this.pagination.page>0},isNextActive:function(){return this.pagination.page<this.pagination.pageCount-1}}},r=i(0),o=Object(r.a)(a,n,[],!1,null,"2656271b",null);o.options.__file="js/components/v-pager.vue";e.a=o.exports},49:function(t,e,i){"use strict";var n=i(2),s=i(3);n.a.use(s.b);e.a=new s.b.Store({strict:!1,state:{configs:[],testQuests:[],usersAnswers:[],shareUrls:[]},getters:{config:function(t){return function(e){return t.configs.find((function(t){return t.code===e}))}},testQuests:function(t){return function(e){return t.testQuests.filter((function(t){return t.id_test===e}))}},userAnswers:function(t){return function(e){return t.usersAnswers.filter((function(t){return t.id_config===e}))}},shareUrl:function(t){return function(e){var i=t.shareUrls.find((function(t){return t.id_config===e}));return void 0===i?"":i.url}},userQuestPoint:function(t,e){return function(t){return e.userAnswers(t).reduce((function(t,e){return t+e.curr_mark}),0)}},countRightAnswer:function(t,e){return function(t){return e.userAnswers(t).reduce((function(t,e){var i=0;return parseInt(e.curr_mark)>0&&(i=1),t+i}),0)}},maxQuestsPoint:function(t,e){return function(t){return e.testQuests(t).reduce((function(t,e){return t+e.weight}),0)}}},mutations:{init:function(t,e){var i=e.config,n=e.quests,s=(e.execution,e.usersAnswers),a=e.share_url,r=t.configs.findIndex((function(t){return t.id===i.id}));r>=0?t.configs.splice(r,1,i):t.configs.push(i),n.forEach((function(e){var i=t.testQuests.findIndex((function(t){return t.id_test===e.id_test&&t.id===e.id}));i>=0?t.testQuests.splice(i,1,e):t.testQuests.push(e)})),s.forEach((function(e){var i=t.usersAnswers.findIndex((function(t){return t.id_config===e.id_config&&t.id_quest===e.id_quest}));i>=0?t.usersAnswers.splice(i,1,e):t.usersAnswers.push(e)})),a&&((r=t.shareUrls.findIndex((function(t){return t.id_config===i.id})))>=0?t.shareUrls.splice(r,1,a):t.shareUrls.push(a))},saveUserAnswer:function(t,e){var i=e.share_url;if(e.usersAnswers.forEach((function(e){var i=t.usersAnswers.findIndex((function(t){return t.id_config===e.id_config&&t.id_quest===e.id_quest}));i>=0?t.usersAnswers.splice(i,1,e):t.usersAnswers.push(e)})),i){var n=t.shareUrls.findIndex((function(t){return t.id_config===i.id_config}));n>=0?t.shareUrls.splice(n,1,i):t.shareUrls.push(i)}},reset:function(t,e){var i=[];t.usersAnswers.filter((function(t){return t.id_config===e})).forEach((function(t,e){i.push(e)})),i.reverse().forEach((function(e){t.usersAnswers.splice(e,1)}));var n=t.shareUrls.findIndex((function(t){return t.id_config===e}));n>=0&&t.shareUrls.splice(n,1)}},actions:{init:function(t,e){var i=t.commit;return new Promise((function(t,n){vo.ajax(null,"/ext/test-app-embed/init?code="+e,{},(function(e){"status"in e&&"success"===e.status&&i("init",e.payload),t(e)}))}))},saveUserAnswer:function(t,e){t.commit;var i=e.event,n=e.code,s=e.answers,a=e.id_quest;return new Promise((function(t,e){vo.ajax(i,"/ext/test-app-embed/save-user-answer",{code:n,answers:s,id_quest:a,apiv2:1},(function(i){"status"in i&&"success"===i.status?t(i):e("Data load error.")}))}))},showAnswerShort:function(t,e){t.commit,t.dispatch;var i=e.event,n=e.id_config;e.userAnswers;return new Promise((function(t,e){vo.ajax(i||null,"/ext/test-app-embed/show-answer-short",{id_config:n},(function(i){"status"in i&&"success"===i.status?t():e("Data load error.")}))}))}}})},50:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i(1);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a={};function r(t){a=t}function o(t,e,i,o,c,l){return o||(o=null),e||(e="/ext/graph-ql/endpoint"),e=Object(n.c)(e,a),r({}),new Promise((function(a,r){vo.ajax(t,e,i,(function(t){if("function"==typeof o&&o(t),t){var e=[];if("errors"in t){for(var i in t.errors)e.push(t.errors[i].message);return vo.popup.error(e.join("<br>"),!1),void r(t)}var c=null,l=null;for(var u in t.data)if(null!=(c=t.data[u])){if("errors"===u){l=c.errors;break}if(c&&"object"===s(c))for(var d in c){if("errors"===d){l=c[d].errors;break}if(c[d]&&"object"===s(c[d]))for(var p in c[d])if("errors"===p){l=c[d].errors;break}}}if(l&&l.length){for(var v in l){if("__login"===l[v].field)return Object(n.o)()&&vo.popup(l[v].messages[0]),void r("Необхідно авторизуватися");l[v].messages.forEach((function(t){return e.push(t)}))}var f="Було виявлено наступні помилки:<br>";return f+=e.join("<br>"),vo.popup.error(f,!1),void r("Необхідно виправити помилки")}a(t.data)}else r(t)}),c,l)}))}var c={setQueryParams:function(t){r(JSON.parse(JSON.stringify(t)))},group:{listOfMyGroupUD:function(t){return o(t,null,{query:"query {\n                        listOfMyGroupUD {\n                            id,\n                            hasClassUpdAccess,\n                            group {\n                                id, \n                                title, \n                                url, \n                                coverUrl\n                            }\n                        }\n                    }"}).then((function(t){return t.listOfMyGroupUD}))}},pupilClass:{transferClassToSchool:function(t,e,i){return o(t,null,{query:'mutation {\n            pupilClass(id: "'.concat(e,'") {\n                transferClassToSchool(id_group: "').concat(i,'") {\n                  ...on PupilClass {\n                    id_group,\n                    id_user\n                  }\n                ...on ValidationErrorsList {\n                    errors {\n                      field,\n                      messages\n                    }\n                  }\n                }\n            }\n        }')}).then((function(t){return t}))},rollbackClassTransfer:function(t,e){return o(t,null,{query:'mutation {\n            pupilClass(id: "'.concat(e,'") {\n                rollbackClassTransfer {\n                  ...on PupilClass {\n                    id_group,\n                    id_user\n                  }\n                ...on ValidationErrorsList {\n                    errors {\n                      field,\n                      messages\n                    }\n                  }\n                }\n            }\n        }')}).then((function(t){return t}))},one:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n='query {\n                        pupilClass(id: "'.concat(e,'") {\n                          id,\n                          id_user,\n                          id_group,\n                          year,\n                          class,\n                          title,\n                          is_custom,\n                          cnt_pupil,\n                          created_at,\n                          pupils {\n                            access,\n                            login,\n                            id_user,\n                            id_pupil,\n                            id_pupil_class,\n                            year,\n                            class,\n                            avatar,\n                            full_name,\n                            full_name_eng\n                          }')+(i?",\n                            transferHistory {\n                              from_group,\n                              to_group,\n                              from_user,\n                              to_user,\n                              id_user_action,\n                              access,\n                              created_at\n                            }":"")+"}\n                    }";return o(t,null,{query:n}).then((function(t){return t.pupilClass}))},dataForGlue:function(t,e){return o(t,null,{query:'query {\n                        pupilClass(id: "'.concat(e,'") {\n                          id,\n                          id_user,\n                          id_group,\n                          year,\n                          class,\n                          title,\n                          is_custom,\n                          cnt_pupil,\n                          created_at,\n                          pupils {\n                            access,\n                            login,\n                            id_user,\n                            id_pupil,\n                            id_pupil_class,\n                            year,\n                            class,\n                            avatar,\n                            full_name,\n                            full_name_eng\n                          }\n                        },\n                        listOfMyGroupUD {\n                            id,\n                            hasClassUpdAccess,\n                            group {\n                                id,\n                                title,\n                                url,\n                                coverUrl,\n                                pupilClasses {\n                                    id,\n                                    id_user,\n                                    id_group,\n                                    year,\n                                    class,\n                                    title,\n                                    is_custom,\n                                    cnt_pupil,\n                                    created_at\n                                }\n                            }\n                        }\n                    }')}).then((function(t){return t}))},glue:function(t,e){var i=e.id_pupil_class_my,n=e.id_pupil_class_group,s=e.data,a=JSON.stringify(s);return a=a.replace(/"/g,'\\"'),o(t,null,{query:'mutation {\n            pupilClass(id: "'.concat(n,'") {\n                glue(id_pupil_class_user: "').concat(i,'", data_json: "').concat(a,'") {\n                  ...on PupilClass {\n                    id_group,\n                    id_user\n                  }\n                ...on ValidationErrorsList {\n                    errors {\n                      field,\n                      messages\n                    }\n                  }\n                }\n            }\n        }')}).then((function(t){return t}))}},journal:{initData:function(){return o(null,null,{query:"query {\n                        listOfMyPupilClasses {id id_user id_group year class title}\n                        listOfMyJournal {id id_user id_group id_pupil_class id_category class year title is_archive id_olp_series status_share shareUrl}\n                        listOfMyJournalOpen {id_pupil_class id_journal open_at}\n                    }"}).then((function(t){return t}))},save:function(t,e,i){var n=i.id_category,s=i.title,a=i.id_pupil_class,r=i.is_archive,c=i.status_share;return o(t,null,{query:'mutation {\n            journal(id: "'.concat(e,'") {\n                upd(\n                    title: "').concat(s,'", \n                    id_category: "').concat(n,'", \n                    id_pupil_class: "').concat(a,'", \n                    is_archive: "').concat(r,'", \n                    status_share: "').concat(c,'"\n                ) {\n                    ...on Journal {\n                        id id_user id_group id_pupil_class id_category class year title is_archive id_olp_series status_share shareUrl\n                    }\n                    ...on ValidationErrorsList {\n                        errors {\n                          field messages\n                        }\n                    }\n                }\n            }\n        }')}).then((function(t){return t.journal.upd}))},listOfJournalAccess:function(t){return new Promise((function(e,i){vo.ajax(null,"/ext/journal/list-of-journal-access",{id_journal:t},(function(t){if(!t||!("data"in t))return i("Помилка отримання даних");e(t.data.listOfJournalAccess)}))}))},delAccess:function(t,e,i){return new Promise((function(n,s){vo.ajax(t||null,"/ext/journal/del-access",{id_journal:e,id_user:i},(function(t){if(!t||!("data"in t))return s("Помилка отримання даних");n(t.data.journalAccess)}))}))},addAccess:function(t,e,i){return new Promise((function(n,s){vo.ajax(t||null,"/ext/journal/add-access",{id_journal:e,id_user:i},(function(t){if(!t||!("data"in t))return s("Помилка отримання даних");n(t.data.journalAccess)}))}))}},user:{one:function(t){return new Promise((function(e,i){vo.ajax(null,"/ext/user/one",{id_user:t},(function(t){if(!t||!("data"in t))return i("Помилка отримання даних");e(t.data.userData)}))}))}}}},51:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-hello-container"},[i("div",{staticStyle:{display:"inline-block",margin:"0 20px 10px 0",float:"left"}},[t.is_good_mark||t.myConfig.is_poll?i("div",{staticClass:"emoji  emoji--yay"},[t._m(0)]):i("div",{staticClass:"emoji  emoji--sad"},[t._m(1)])]),t._v(" "),t.myConfig.is_poll?i("div",[t._m(2)]):t.is_show_result?i("div",[i("p",{staticClass:"v-test-go-result"},[t._v("\n                Ти відповів правильно на "),i("b",[t._v(t._s(t.count_answer_right||0)+" з "+t._s(t.myTestQuests.length||0)+" "+t._s(t.plural(t.myTestQuests.length,"запитання","запитання","запитань"))+"!")]),i("br")])]):t._e(),t._v(" "),t.myConfig.is_poll?i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"a-robota-pomilka v-z-index",on:{click:function(e){return e.preventDefault(),t.showAnswer(e)}}},[t._v("Ваші відповіді")]):i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"a-robota-pomilka v-z-index",on:{click:function(e){return e.preventDefault(),t.showAnswer(e)}}},[t._v("Робота над помилками")]),t._v(" "),i("div",{staticClass:"a-test-informatsia"},[t._v("Створити власні тести можна за посиланням: "),i("a",{attrs:{href:"/test"}},[t._v("Конструктор тестів")]),t._v(" "),t.myShareUrl?i("span",{staticClass:"a-fab-fort a-right"},[i("i",{staticClass:"a-facebook-fort"}),t._v(" "),i("a",{attrs:{target:"_blank",href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.share()}}},[t._v("поділитися")])]):t._e()]),t._v(" "),t.myConfig.is_poll?t._e():i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"a-zakr",attrs:{title:"Закрити"},on:{click:function(e){return e.preventDefault(),t.startNew()}}},[t._v("+")])])};n._withStripped=!0;var s=i(3),a=i(20),r=i(46);function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u={name:"GreetingScreen",props:["code"],mixins:[a.a,r.a],computed:c(c({},Object(s.c)(["config","testQuests","userQuestPoint","userAnswers","countRightAnswer","maxQuestsPoint","shareUrl"])),{},{myConfig:function(){return this.config(this.code)},myTestQuests:function(){return this.testQuests(this.myConfig.id_test)},myShareUrl:function(){return this.shareUrl(this.myConfig.id)},is_show_result:function(){return!0}}),methods:{startNew:function(){this.$emit("start-new")},showAnswer:function(t){this.$store.dispatch("showAnswerShort",{event:t,id_config:this.myConfig.id})},share:function(){var t=500,e=500,i=window.screen.availLeft+window.screen.availWidth/2-t/2,n=window.screen.availTop+window.screen.availHeight/2-e/2;window.open("https://www.facebook.com/sharer/sharer.php?u="+this.myShareUrl,"authWindow","width="+t+", height="+e+", left="+i+", top="+n)}}},d=i(0),p=Object(d.a)(u,n,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"emoji__face"},[i("div",{staticClass:"emoji__eyebrows"}),t._v(" "),i("div",{staticClass:"emoji__mouth"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"emoji__face"},[i("div",{staticClass:"emoji__eyebrows"}),t._v(" "),i("div",{staticClass:"emoji__eyes"}),t._v(" "),i("div",{staticClass:"emoji__mouth"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"v-test-go-result"},[t._v("\n                Дякуємо, що пройшли опитування!"),i("br")])}],!1,null,null,null);p.options.__file="js/modules/test-designer/app-embed/components/GreetingScreen.vue";e.a=p.exports},52:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-editor-message"},[i("div",{staticClass:"v-subject-select-title"},[t._v("Повідомлення")]),t._v(" "),t.error?i("span",[t._v(t._s(t.error))]):t._e(),t._v(" "),i("editor-msg",{ref:"editor",on:{submit:t.send}}),t._v(" "),i("button",{staticClass:"v-message-send",class:{"i-disabled":t.sending,"a-load-button":t.sending},on:{click:t.send}},[i("i"),t._v("Надіслати\n    ")])],1)};n._withStripped=!0;var s=i(23).a,a=i(0),r=Object(a.a)(s,n,[],!1,null,"7feb6ad8",null);r.options.__file="js/modules/messages/components/message-send.vue";e.a=r.exports},53:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-row"},[t.selectedPupils.length?i("div",{staticClass:"v-add-pupils-wrap v-add-pupils-wrap-chosen"},[i("div",{staticClass:"v-add-pupils-title"},[t._v("Обрані учні:")]),t._v(" "),i("div",{staticClass:"v-add-pupils-blocks"},t._l(t.selectedPupils,(function(e){return i("div",{key:e.access,staticClass:"v-add-pupils-block"},[i("div",{staticClass:"v-add-pupils-block-fio"},[t._v(t._s(e.full_name))]),t._v(" "),i("div",{staticClass:"v-add-pupils-block-class"},[t._v(t._s(e.pupil_class_title))]),t._v(" "),t.canDelete(e)?i("div",{staticClass:"v-add-pupils-block-controls"},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"v-add-pupils-block-controls-delete",on:{click:function(i){return t.deselectPupil(e)}}},[i("i")])]):t._e(),t._v(" "),i("input",{attrs:{type:"hidden",name:"GlobeClass[pupilAccess][]"},domProps:{value:e.access}})])})),0)]):t._e(),t._v(" "),t.showPupils?i("div",{staticClass:"v-add-pupils-wrap"},[i("div",{staticClass:"v-add-pupils-title"},[t._v("Учні яких можна обрати:")]),t._v(" "),i("div",{staticClass:"v-add-pupils-wrap-filter"},[i("ul",t._l(t.sortedClasses,(function(e){return t.hasPupils(e)?i("li",{key:e.id,class:{active:e===t.selectedClass}},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(i){return t.selectClass(e)}}},[t._v(t._s(e.title))])]):t._e()})),0)]),t._v(" "),i("div",{staticClass:"v-add-pupils-blocks"},t._l(t.pupils,(function(e){return!t.isSelected(e)&&t.selectedClass&&t.canSelect?i("div",{key:e.access,staticClass:"v-add-pupils-block"},[i("div",{staticClass:"v-add-pupils-block-fio"},[t._v(t._s(e.full_name))]),t._v(" "),i("div",{staticClass:"v-add-pupils-block-status"},[e.is_tested?i("span",{staticClass:"v-add-pupils-block-status-done"},[t._v("Пройшов тестування")]):t._e(),t._v(" "),e.is_tested?t._e():i("span",{staticClass:"v-add-pupils-block-status-not-done"},[t._v("Не пройшов тестування")])]),t._v(" "),i("div",{staticClass:"v-add-pupils-block-controls"},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"v-add-pupils-block-controls-add",on:{click:function(i){return t.selectPupil(e)}}},[i("i",[t._v("+")])])])]):t._e()})),0)]):t._e(),t._v(" "),t.noPupils?i("div",{staticClass:"v-add-pupils-wrap"},[t._v("\n        Немає учнів, яких можна додати\n        "),t.olympicUrl?i("a",{attrs:{href:t.olympicUrl}},[t._v("Додати учнів")]):t._e()]):t._e(),t._v(" "),i("div",{staticClass:"clear"})])};n._withStripped=!0;var s=i(26).a,a=i(0),r=Object(a.a)(s,n,[],!1,null,null,null);r.options.__file="js/modules/globe/components/registration-form.vue";e.a=r.exports},54:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"root",staticClass:"v-row a-test-novost",attrs:{id:"app-container-"+t.code}},[t.is_show_answer_result?i("div",{staticClass:"a-virnonevirno"},[i("div",[t.is_right_answer?i("div",{staticClass:"a-vse-vir-nevir a-vtrno"},[t._m(0),t._v(" "),t._m(1)]):i("div",{staticClass:"a-vse-vir-nevir a-nevtrno"},[t._m(2),t._v(" "),i("p",[t._v("Неправильно")])])])]):t._e(),t._v(" "),t.is_finish?i("GreetingScreen",{attrs:{code:this.code},on:{"start-new":t.startNew}}):i("div",[t.is_load?i("div",[t._v("Йде завантаження...")]):t.is_error?i("div",[t._v("Помилка. Не вдалося завантажити тест.")]):t.is_start?i("div",[null!==t.currentQuest?i("BaseQuest",{key:t.currentQuest.id,ref:"baseQuest",attrs:{quest:t.currentQuest,quest_num:t.currentQuestNum,app_id:this.code,shuffle:1===t.myConfig.quest_order_mode,quest_count:t.myTestQuests.length},on:{"user-set-answer":t.saveUserAnswer}}):t._e()],1):i("div",{staticClass:"v-hello-container"},[i("div",{staticClass:"v-hello-title v-z-index"},[t._v(t._s(t.myConfig.is_poll?"Опитування на тему:":"Тестування на тему:"))]),t._v(" "),i("div",{staticClass:"clear"}),t._v(" "),i("div",{staticClass:"v-hello-sub-title v-z-index"},[t._v(t._s(t.myConfig.title))]),t._v(" "),i("div",{staticClass:"clear"}),t._v(" "),i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"v-hello-button v-z-index",on:{click:function(e){return e.preventDefault(),t.start(e)}}},[t._v(t._s(t.myConfig.is_poll?"Пройти опитування":"Почати тест"))]),t._v(" "),i("div",{staticClass:"clear"})])]),t._v(" "),i("div",{staticClass:"clear"})],1)};n._withStripped=!0;var s=i(27).a,a=i(0),r=Object(a.a)(s,n,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"emoji  emoji--yay"},[i("div",{staticClass:"emoji__face"},[i("div",{staticClass:"emoji__eyebrows"}),t._v(" "),i("div",{staticClass:"emoji__mouth"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("b",[t._v("Молодець!")]),i("br"),t._v("Правильно")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"emoji  emoji--sad"},[i("div",{staticClass:"emoji__face"},[i("div",{staticClass:"emoji__eyebrows"}),t._v(" "),i("div",{staticClass:"emoji__eyes"}),t._v(" "),i("div",{staticClass:"emoji__mouth"})])])}],!1,null,"4bda1ec3",null);r.options.__file="js/modules/test-designer/app-embed/components/App.vue";e.a=r.exports},56:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{"cart-disable":t.is_update}},[t.myCartItemsAllCount?i("div",[i("div",{staticClass:"v-row n-cart-wrap"},[i("div",{staticClass:"v-col-6 a-c-bl-fon"},[t._l(t.myCartItemsAll,(function(t){return i("item",{key:t.id,attrs:{item:t}})})),t._v(" "),t.myCartItemsFreeCount?[i("div",{staticClass:"v-subject-select-title"},[t._v("Додатково Ви отримаєте")]),t._v(" "),i("div",{staticClass:"a-c-bloc"},t._l(t.myCartItemsFree,(function(t){return i("item-free",{key:t.id,attrs:{item:t}})})),1)]:t._e()],2),t._v(" "),i("div",{staticClass:"v-col-6 v-col-last"},[t.myCartItemsCount?t._e():i("div",{staticClass:"a-c-bl-fon"},[t._v("\n          У кошику відсутні товари для оформлення\n        ")]),t._v(" "),i("div",{staticClass:"a-c-bl-fon a-c-bl-fon-top-block"},[t.myCart.cost!=t.myCart.cost_full?i("div",{staticClass:"a-c-non-znishka"},[t._v("Ціна без знижок: "+t._s(t.myCart.cost_full)+" грн")]):t._e(),t._v(" "),500==t.myCart.status_pay?i("div",[i("div",{staticClass:"a-c-znishka-big"},[t._v("Сплачено: "),i("b",[t._v(t._s(t.myCart.cost)+" грн")])]),t._v(" "),t.myCart.pay_bonus?i("p",[t._v("Використано кешбеку: "),i("b",[t._v(t._s(t.myCart.pay_bonus)+" грн")])]):t._e(),t._v(" "),t.myCart.pay_acc?i("p",[t._v("Внутрішній рахунок: "),i("b",[t._v(t._s(t.myCart.pay_acc)+" грн")])]):t._e(),t._v(" "),i("p",[t._v("Реальні кошти: "),i("b",[t._v(t._s(t.myCart.pay_real)+" грн")])])]):t.myCart.cost!=t.needPayReal?i("div",{staticClass:"a-c-znishka-big"},[t._v("До сплати: "),i("s",[t._v(t._s(t.myCart.cost)+" грн")]),t._v(" "),i("b",[t._v(t._s(t.needPayReal)+" грн")])]):i("div",{staticClass:"a-c-znishka-big"},[t._v("До сплати: "),i("b",[t._v(t._s(t.myCart.cost)+" грн")])]),t._v(" "),500==t.myCart.status_pay?i("div",[t._v("\n            Замовлення оплачено\n          ")]):750==t.myCart.status_pay?i("div",[t._v("\n            Замовлення очікує на повернення\n          ")]):t.myCart.status_pay>=800?i("div",[t._v("\n            Замовлення повернуте\n          ")]):t.myCart.status_pay>=200?i("div",[t._v("\n            Замовлення комплектується\n          ")]):i("div",[t.myCart.pay&&t.myCart.cost!=t.myCart.pay?i("div",[i("p",[t._v("Зверніть увагу, замовлення оплачено частково")]),t._v(" "),i("p",[t._v("Оплачено: "+t._s(t.myCart.pay)+" грн.")]),t._v(" "),i("p",[t._v("Необхідно доплатити: "+t._s(t.needPay)+" грн.")])]):t._e(),t._v(" "),t.bonus?i("div",[i("p",{staticClass:"a-cesh-bec"},[t._v("Ваш кешбек складає: "),i("b",[t._v(t._s(t.bonus)+" грн")])]),t._v(" "),t.myCart.cost_digital?i("div",[t.is_pay_bonus?i("p",[t._v("Буде використано "),i("b",[t._v(t._s(t.needPayCashback)+" грн")]),t._v(" кешбеку "),i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){t.is_pay_bonus=!1}}},[t._v("[не використовувати]")])]):i("p",[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){t.is_pay_bonus=!0}}},[t._v("[використити кешбек "+t._s(t.bonus)+"]")])])]):t._e(),t._v(" "),t.myCart.cost_physical?i("p",[t._v("Використовувати кешбек можна тільки для оплати цифрових товарів та послуг")]):t._e()]):t._e(),t._v(" "),t.acc?i("div",[i("p",{staticClass:"a-cesh-bec"},[t._v("На Вашому внутрішньому рахунку: "),i("b",[t._v(t._s(t.acc)+" грн")])]),t._v(" "),t.is_pay_acc?i("p",[t._v("Буде використано "),i("b",[t._v(t._s(t.needPayAcc)+" грн")]),t._v(" внутрішнього рахунку "),i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){t.is_pay_acc=!1}}},[t._v("[не використовувати]")])]):i("p",[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){t.is_pay_acc=!0}}},[t._v("[використити внутрішній рахунок "+t._s(t.acc)+"]")])])]):t._e()])]),t._v(" "),t.myCartItemsCount&&t.myCart.is_delivery&&t.myCart.sale_status>=100?i("div",{staticClass:"a-c-bl-fon a-c-bl-fon-top-block"},[i("p",{staticClass:"a-c-big-p"},[t._v("Статус замовлення")]),t._v(" "),500==t.myCart.status_pay||80==t.myCart.payer_type?[100==t.myCart.sale_status?i("p",[i("strong",[t._v("Очікує підтвердження")]),t._v(": відбувається перевірка Вашого номеру телефону, адреси доставки та наявності продукції на складі. За необхідності Вам зателефонує менеджер Всеосвіти.")]):t._e(),t._v(" "),101==t.myCart.sale_status?i("p",[i("strong",[t._v("Очікує оплати")]),t._v(': необхідно оплатити замовлення, або обрати спосіб оплати "Оплата при отриманні на пошті".')]):t._e(),t._v(" "),102==t.myCart.sale_status?i("p",[i("strong",[t._v("Очікує надходження на склад")]),t._v(": деякі позиції у замовленні очікуються і незабаром з'являться на складі, після чого замовлення буде відправлено у найкоротші терміни.")]):t._e(),t._v(" "),110==t.myCart.sale_status?i("p",[i("strong",[t._v("Комплектується")]),t._v(": замовлення підтверджено та готується до відправки.")]):t._e(),t._v(" "),120==t.myCart.sale_status?[t._m(0),t._v(" "),t.myCartDelivery.track_num?[i("p",[i("strong",[t._v("Номер ТТН")]),t._v(": "+t._s(t.myCartDelivery.track_num))]),t._v(" "),1==t.myCartDelivery.type||4==t.myCartDelivery.type?i("p",[i("strong",[t._v("Відслідкувати")]),t._v(": "),i("a",{attrs:{target:"_blank",href:"https://novaposhta.ua/tracking"}},[t._v("https://novaposhta.ua/tracking")])]):t._e(),t._v(" "),2==t.myCartDelivery.type?i("p",[i("strong",[t._v("Відслідкувати")]),t._v(": "),i("a",{attrs:{target:"_blank",href:"https://track.ukrposhta.ua/tracking_UA.html"}},[t._v("https://track.ukrposhta.ua/tracking_UA.html")])]):t._e()]:t._e()]:t._e(),t._v(" "),130==t.myCart.sale_status?i("p",[i("strong",[t._v("Очікує в пункті видачі")]),t._v(": замовлення очікує Вас у офісі Всеосвіти. Вам потрібно як найшвидше забрати Ваш товар.")]):t._e(),t._v(" "),200==t.myCart.sale_status?i("p",[i("strong",[t._v("Скасовано")]),t._v(": замовлення скасовано.")]):t._e(),t._v(" "),500==t.myCart.sale_status?i("p",[i("strong",[t._v("Отримано")]),t._v(": замовлення отримано.")]):t._e(),t._v(" "),800==t.myCart.sale_status?i("p",[i("strong",[t._v("Повернуто")]),t._v(": замовлення повернуто.")]):t._e()]:i("p",[i("strong",[t._v("Очікує оплати")]),t._v(": замовлення не оплачено. Протягом одного робочого дня після оплати замовлення буде передане у відділ доставки.")])],2):t._e(),t._v(" "),t.isGuest?i("div",{staticClass:"a-c-bl-fon"},[i("delivery-guest")],1):t.myCartItemsCount&&t.myCart.is_delivery?i("div",{staticClass:"a-c-bl-fon"},[t.myCart.sale_status<110&&t.myCart.status_pay<500&&t.isEditDelivery?i("delivery",{attrs:{delivery:t.myCartDelivery},on:{"set-delivery":t.setDelivery}}):i("delivery-status",{attrs:{delivery:t.myCartDelivery,is_edit:t.myCart.sale_status<110&&t.myCart.status_pay<500},on:{"reset-delivery":t.resetDelivery}})],1):t._e(),t._v(" "),t.myCartItemsCount&&t.myCart.status_pay<500?i("div",{staticClass:"a-c-bl-fon",class:{"a-c-none":t.isGuest||t.isEditDelivery}},[t.myCart.status_pay<200&&t.isEditPayer?i("pay",{attrs:{real:t.needPayReal,delivery:t.myCart.is_delivery,delivery_edit:t.isEditDelivery,post:t.isDeliveryPost},on:{pay:t.pay}}):i("pay-status",{attrs:{type:t.myCart.payer_type,is_edit:t.myCart.sale_status<110,real:t.needPayReal},on:{"reset-pay":t.resetPayer,pay:t.pay}})],1):t._e(),t._v(" "),100==t.myCart.status_pay&&t.myCart.sale_status<110?i("div",{staticClass:"a-c-bl-fon"},[i("span",{staticStyle:{color:"red","font-weight":"bold",cursor:"pointer"},on:{click:function(e){return t.remove(e)}}},[t._v("Видалити замовлення")])]):t._e()])])]):i("div",[t.is_update?i("span",{staticClass:"v-bar"}):i("p",[t._v("Відсутні товати для замовлення")])])])};n._withStripped=!0;var s=i(33),a=i(57),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",{staticClass:"a-c-big-p"},[t._v("1. Введіть контактні дані")]),t._v(" "),i("div",{staticClass:"n-form-cart"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.full_name,expression:"full_name"}],staticClass:"form-control",attrs:{type:"text",required:"required",id:"cart-delivery-guest-full_name",autocomplete:"off"},domProps:{value:t.full_name},on:{input:function(e){e.target.composing||(t.full_name=e.target.value)}}}),t._v(" "),i("label",{staticClass:"control-label",attrs:{for:"cart-delivery-guest-full_name"}},[t._v("ПІБ")])]),t._v(" "),i("div",{staticClass:"n-form-cart"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],ref:"phone-input",staticClass:"form-control",attrs:{required:"required",type:"text",id:"cart-delivery-guest-phone",autocomplete:"off",placeholder:"380 (xx) xxx-xx-xx"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),t._v(" "),i("label",{staticClass:"control-label",attrs:{for:"cart-delivery-guest-phone"}},[t._v("Мобільний телефон")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.is_send_sms,expression:"is_send_sms"}],staticClass:"n-form-cart"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],ref:"code-input",staticClass:"form-control",attrs:{required:"required",type:"text",id:"cart-delivery-guest-code",autocomplete:"off",placeholder:"xx-xx-xx"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t._v(" "),i("label",{staticClass:"control-label",attrs:{for:"cart-delivery-guest-code"}},[t._v("Код із SMS")])]),t._v(" "),t.is_send_sms?[i("div",{staticClass:"a-c-oplata"},[i("button",{staticClass:"a-c-but-grin",on:{click:t.save}},[t._v("Підтвердити номер ")]),i("br")]),t._v(" "),i("div",{staticClass:"clear"}),t._v(" "),t._m(1),t._v(" "),i("div",{staticClass:"clear"}),t._v(" "),t._m(2)]:[i("div",{staticClass:"a-c-oplata"},[i("button",{staticClass:"n-btn-cart n-btn-cart-green",on:{click:t.sendSms}},[t._v("Надіслати SMS ")])]),t._v(" "),i("div",{staticClass:"clear"}),t._v(" "),t._m(0)],t._v(" "),i("div",{staticClass:"clear"})],2)};r._withStripped=!0;var o={name:"delivery-guest",data:function(){return{full_name:null,phone:null,errors:[],is_send_sms:!1,code:null}},methods:{validate:function(){this.errors=[],null!==this.full_name&&this.full_name.trim()||this.errors.push("Вкажіть ПІБ");var t=this.$refs["phone-input"];return t&&t.hasOwnProperty("inputmask")&&!t.inputmask.isComplete()&&this.errors.push("Вкажіть коректний номер телефону"),0===this.errors.length},showErrors:function(){vo.popup("Необхідно виправити наступні помилки:<br>"+this.errors.join("<br>"))},sendSms:function(t){var e=this;this.validate()?vo.ajax(t,"/ext/cart/send-activate-sms",{full_name:this.full_name,phone:this.phone},(function(t){"status"in t&&(e.is_send_sms="send_sms"===t.status)})):this.showErrors()},save:function(t){var e=this;if(this.validate())return null!==this.code&&this.code.trim()?void vo.ajax(t,"/ext/cart/send-activate-code",{full_name:this.full_name,phone:this.phone,code:this.code},(function(t){"status"in t&&(e.is_send_sms="send_sms"===t.status,e.is_send_sms||(e.code=null))})):(this.errors.push("Вкажіть код із SMS"),void this.showErrors());this.showErrors()}},mounted:function(){this.$nextTick((function(){window.init_inputmask("cart-delivery-guest-phone",{mask:"[+]380 (99) 999-99-99"}),window.init_inputmask("cart-delivery-guest-code",{mask:"99-99-99"})}))}},c=i(0),l=Object(c.a)(o,r,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"a-c-oplata"},[i("span",{staticClass:"a-c-poyasneniya"},[t._v("Вам буде надіслано SMS для підтвердження номеру телефону.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"a-c-oplata"},[i("span",{staticClass:"a-c-poyasneniya"},[t._v("Вам надіслано SMS для підтвердження номеру телефону. Після підтвердження номеру Вас буде автоматично авторизовано на порталі Всеосвіта. При відсутності активного профілю, Вас буде автоматично зареєстровано")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",{staticClass:"v-add-license"},[t._v("Підтверджуючи номер телефону та реєструючись Ви погоджуєтесь з "),i("a",{attrs:{href:"/site/doc/privacy-policy",target:"_blank"}},[t._v("політикою конфіденційності")]),t._v(" та "),i("a",{attrs:{href:"/site/doc/user-agreement",target:"_blank"}},[t._v("угодою користувача")]),t._v(", а також даєте згоду на отримання інформаційних розсилок.")])])}],!1,null,null,null);l.options.__file="js/modules/cart/components/delivery-guest.vue";var u=l.exports,d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"a-c-dostavka"},[i("p",{staticClass:"a-c-big-p"},[t._v("Контактні дані та спосіб доставки")]),t._v(" "),i("div",{staticClass:"a-c-bl-fon-top-block"},[i("div",[i("p",[i("strong",[t._v("ПІБ")]),t._v(" "+t._s(t.delivery.full_name))])]),t._v(" "),i("div",[i("p",[i("strong",[t._v("Мобільний телефон")]),t._v(" "+t._s(t.delivery.phone))])]),t._v(" "),1==t.delivery.type?i("div",[t._m(0),t._v(" "),i("div",[i("p",[i("strong",[t._v("Номер поштового відділення")]),t._v(" "+t._s(t.delivery.post_office_number))])])]):t._e(),t._v(" "),2==t.delivery.type?i("div",[t._m(1),t._v(" "),i("div",[i("p",[i("strong",[t._v("Адреса")]),t._v(" "+t._s(t.delivery.post_index)+", "+t._s(t.delivery.address)+", "+t._s(t.delivery.street)+", "+t._s(t.delivery.house)),t.delivery.flat?i("span",[t._v(", кв. "+t._s(t.delivery.flat))]):t._e()])])]):t._e(),t._v(" "),3==t.delivery.type?i("div",[t._m(2),t._v(" "),t._m(3),t._v(" "),t.is_edit?t._e():i("div",{staticStyle:{height:"300px",cursor:"pointer"},attrs:{id:"rk-map"}})]):t._e(),t._v(" "),4==t.delivery.type?i("div",[t._m(4),t._v(" "),i("div",[i("p",[i("strong",[t._v("Адреса")]),t._v(" "+t._s(t.delivery.address)+", "+t._s(t.delivery.street)+", "+t._s(t.delivery.house)),t.delivery.flat?i("span",[t._v(", кв. "+t._s(t.delivery.flat))]):t._e()])])]):t._e(),t._v(" "),t.isDeliveryPost?[t._m(5),t._v(" "),t._m(6)]:t._e(),t._v(" "),t.is_edit?i("div",[i("a",{staticClass:"a-c-redaguv",staticStyle:{"font-weight":"bold",cursor:"pointer"},on:{click:function(e){return t.reset()}}},[t._v("Редагувати")])]):t._e()],2)])};d._withStripped=!0;var p={name:"delivery-status",props:["delivery","is_edit"],computed:{isDeliveryPost:function(){return 1==this.delivery.type||2==this.delivery.type||4==this.delivery.type}},methods:{reset:function(){this.$emit("reset-delivery")}},mounted:function(){this.is_edit||window.init_google_maps({panorama:[]})}},v=Object(c.a)(p,d,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",[i("strong",[t._v("Спосіб доставки")]),t._v(" Нова пошта")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",[i("strong",[t._v("Спосіб доставки")]),t._v(" Укрпошта")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",[i("strong",[t._v("Спосіб доставки")]),t._v(" Самовивіз")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",[i("strong",[t._v("Адреса")]),t._v(" м. Київ, вул. Оболонська набережна, будинок 19, корпус 1 (офіс працює у робочі дні з 10:00 до 18:00)")]),t._v(" "),i("p",[i("strong",[t._v("Важливо")]),t._v(" Узгодьте час Вашого візиту до офісу Всеосвіти за телефоном 0-800-331-031")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",[i("strong",[t._v("Спосіб доставки")]),t._v(" Нова пошта (адресна доставка)")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("Замовлення може бути відправлене без додаткового дзвінка менеджера, "),i("strong",[t._v("уважно перевірте")]),t._v(" номер телефону та адресу доставки.")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticStyle:{color:"#ce1f00"}},[t._v("Зверніть увагу, що "),i("strong",[t._v("Ви додатково сплачуєте")]),t._v(" вартість доставки товару поштою.")])}],!1,null,null,null);v.options.__file="js/modules/cart/components/delivery-status.vue";var f=v.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",{staticClass:"a-c-big-p"},[t._v("3. Оберіть спосіб оплати:")]),t._v(" "),i("div",{staticClass:"a-c-bl-fon-top-block"},[t.real?[i("div",{staticClass:"n-btn-cart-wrap"},[i("button",{staticClass:"n-btn-cart n-btn-cart-blue",on:{click:function(e){return t.pay("fast",e)}}},[i("i",{staticClass:"icon-blue-btn"}),t._v(" "),i("span",[i("span",{staticClass:"n-big-text-btn"},[t._v("\n                              Сплатити "+t._s(t.real)+" грн\n                          ")]),t._v(" "),i("span",{staticClass:"n-small-text-btn"},[t._v("\n                              Миттєва оплата онлайн\n                          ")])])]),t._v(" "),i("span",{staticClass:"a-c-poyasneniya"},[t._v("Оплата банківською карткою через систему Liqpay, або Приват 24")])]),t._v(" "),i("div",{staticClass:"n-btn-cart-wrap"},[i("button",{staticClass:"n-btn-cart n-btn-cart-dark-green",on:{click:function(e){return t.pay("invoice",e)}}},[i("i",{staticClass:"icon-dark-green"}),t._v(" "),i("span",[i("span",{staticClass:"n-big-text-btn"},[t._v("\n                              Отримати квитанцію\n                          ")]),t._v(" "),i("span",{staticClass:"n-small-text-btn"},[t._v("\n                              на "+t._s(t.real)+" грн "),t.real?i("span",[t._v("+ комісія")]):t._e()])])]),t._v(" "),i("span",{staticClass:"a-c-poyasneniya"},[t._v("\n                      Оплата квитанцією у відділенні\n                      будь-якого банку. Зарахування коштів\n                      із запізненням до 5 робочих днів.\n                  ")])]),t._v(" "),i("div",{staticClass:"n-btn-cart-wrap n-btn-cart-wrap-non-m"},[i("button",{staticClass:"n-btn-cart n-btn-cart-green",on:{click:function(e){return t.pay("post",e)}}},[i("i",{staticClass:"icon-green-btn"}),t._v(" "),i("span",[i("span",{staticClass:"n-big-text-btn"},[t._v("\n                              Післяоплата\n                          ")]),t._v(" "),i("span",{staticClass:"n-small-text-btn"},[t._v("\n                              "+t._s(t.real)+" грн "),t.real?i("span",[t._v("+ комісія")]):t._e()])])]),t._v(" "),i("span",{staticClass:"a-c-poyasneniya"},[t._v("\n                      Оплата при отриманні на пошті.\n                      Не діє на цифрові товари. Максимальна\n                      вартість замовлення 5000 грн.\n                  ")])])]:i("div",[i("div",{staticClass:"a-c-oplata"},[i("button",{on:{click:function(e){return t.pay("fast",e)}}},[t._v("Активувати замовлення")])]),t._v(" "),i("div",{staticClass:"clear"})])],2)])};h._withStripped=!0;var _={name:"pay",props:["real","delivery","delivery_edit","post"],methods:{pay:function(t,e){this.$emit("pay",t,e)}}},m=Object(c.a)(_,h,[],!1,null,null,null);m.options.__file="js/modules/cart/components/pay.vue";var g=m.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",{staticClass:"a-c-big-p "},[t._v("Обраний спосіб оплати")]),t._v(" "),i("div",{staticClass:"a-c-dostavka a-c-bl-fon-top-block"},[10==t.type?[i("div",{},[i("p",[t._v("\n          Ви обрали миттєву оплату банківською картою через систему Liqpay.\n          Якщо під час оплати виникли помилки, спробуйте ще раз. Якщо оплата відбулась,\n          зачекайте допоки кошти будуть зараховані.\n        ")]),t._v(" "),i("div",{staticClass:"n-btn-cart-wrap"},[i("button",{staticClass:"n-btn-cart n-btn-cart-blue",on:{click:function(e){return t.pay("fast",e)}}},[i("i",{staticClass:"icon-blue-btn"}),t._v(" "),i("span",[i("span",{staticClass:"n-big-text-btn"},[t._v("\n                      Сплатити "+t._s(t.real)+" грн\n                  ")]),t._v(" "),i("span",{staticClass:"n-small-text-btn"},[t._v("\n                      Миттєва оплата онлайн\n                  ")])])]),t._v(" "),i("span",{staticClass:"a-c-poyasneniya"},[t._v("Оплата банківською карткою через систему Liqpay, або Приват 24")])])])]:20==t.type?[i("div",{},[i("p",[t._v("\n          Ви завантажили квитанцію для оплати у будь-якому відділенні банку.\n          Роздрукуйте квитанцію, а під час оплати прослідкуйте, щоб було правильно\n          зазначено номер замовлення. Зверніть увагу, що Ваш банк може стягувати\n          додаткову комісію за платіж.\n        ")]),t._v(" "),i("div",{staticClass:"n-btn-cart-wrap"},[i("button",{staticClass:"n-btn-cart n-btn-cart-dark-green",on:{click:function(e){return t.pay("invoice",e)}}},[i("i",{staticClass:"icon-dark-green"}),t._v(" "),i("span",[i("span",{staticClass:"n-big-text-btn"},[t._v("\n                      Отримати квитанцію\n                  ")]),t._v(" "),i("span",{staticClass:"n-small-text-btn"},[t._v("\n                      на "+t._s(t.real)+" грн "),t.real?i("span",[t._v("+ комісія")]):t._e()])])]),t._v(" "),i("span",{staticClass:"a-c-poyasneniya"},[t._v("\n                      Оплата квитанцією у відділенні\n                      будь-якого банку. Зарахування коштів\n                      із запізненням до 5 робочих днів.\n          ")])])])]:80==t.type?[i("p",[t._v("Ви обрали спосіб оплати при отриманні товару на пошті.")]),t._v(" "),t._m(0)]:i("p",[t._v("Без додаткової оплати")]),t._v(" "),t.is_edit?i("div",[i("a",{staticClass:"a-c-redaguv",staticStyle:{"font-weight":"bold",cursor:"pointer"},on:{click:function(e){return t.reset()}}},[t._v("Змінити спосіб оплати, або спробувати ще раз...")])]):t._e()],2)])};y._withStripped=!0;var b={name:"pay-status",props:["type","is_edit","real"],methods:{pay:function(t,e){this.$emit("pay",t,e)},reset:function(){this.$emit("reset-pay")}}},w=Object(c.a)(b,y,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticStyle:{color:"#ce1f00"}},[t._v("Зверніть увагу, що "),i("strong",[t._v("Ви додатково сплачуєте")]),t._v(" комісію за переказ коштів поштою.")])}],!1,null,null,null);w.options.__file="js/modules/cart/components/pay-status.vue";var C=w.exports,k=i(3),x=i(1),S=i(7);function j(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function P(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?j(Object(i),!0).forEach((function(e){I(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function I(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var O={name:"checkout",components:{ItemFree:i(34).a,Item:s.a,Delivery:a.a,DeliveryGuest:u,DeliveryStatus:f,Pay:g,PayStatus:C},props:["id_cart"],data:function(){return{is_edit_delivery:!1,is_edit_payer:!1,is_pay_bonus:!0,is_pay_acc:!0}},computed:P(P(P({},Object(k.d)(["is_update","cart_default_id"])),Object(k.c)(["cart","cartHash","cartDelivery","cartItems","cartItemsAll","cartItemsCount","cartItemsAllCount","cartItemsFree","cartItemsFreeCount","bonus","acc"])),{},{strCount:function(){return Object(x.r)(this.myCart.cnt_item,["<b>{n}</b> позицію","<b>{n}</b> позиції","<b>{n}</b> позицій"])},idCart:function(){return this.id_cart?this.id_cart:this.cart_default_id},myCart:function(){return this.cart(this.idCart)},myCartHash:function(){return this.cartHash(this.idCart)},myCartItems:function(){return this.cartItems(this.idCart)},myCartItemsAll:function(){return this.cartItemsAll(this.idCart)},myCartItemsCount:function(){return this.cartItemsCount(this.idCart)},myCartItemsAllCount:function(){return this.cartItemsAllCount(this.idCart)},myCartItemsFree:function(){return this.cartItemsFree(this.idCart)},myCartItemsFreeCount:function(){return this.cartItemsFreeCount(this.idCart)},myCartDelivery:function(){return this.cartDelivery(this.idCart)},needPay:function(){return this.myCart.status_pay>=200?0:this.myCart.cost-this.myCart.pay},needPayCashback:function(){if(this.myCart.status_pay>=200||!this.is_pay_bonus)return 0;var t=Math.max(Math.floor(this.myCart.cost_digital/2-this.myCart.pay_bonus),0);return Math.min(this.bonus,t)},needPayAcc:function(){if(this.myCart.status_pay>=200||!this.is_pay_acc)return 0;var t=Math.max(this.myCart.cost-this.myCart.pay-this.needPayCashback,0);return Math.min(this.acc,t)},needPayReal:function(){if(this.myCart.status_pay>=200)return 0;var t=this.myCart.cost-this.myCart.pay-this.needPayCashback-this.needPayAcc;return Math.max(t,0)},isEditDelivery:function(){return this.myCart.is_delivery&&(this.is_edit_delivery||this.myCartDelivery&&(this.myCartDelivery.is_new||!this.myCartDelivery.is_phone_activated))},isDeliveryPost:function(){return this.myCart.is_delivery&&this.myCartDelivery&&(1==this.myCartDelivery.type||2==this.myCartDelivery.type||4==this.myCartDelivery.type)},isEditPayer:function(){return this.is_edit_payer||!this.myCart.payer_type||!this.needPayReal||this.myCart.payer_type&&this.myCart.status_pay>100},isGuest:function(){return!vo.user_id}}),methods:{pay:function(t,e){var i=this;Object(x.o)()&&S.a.dispatch("pay",{event:e,cart:this.myCart,hash:this.myCartHash,type:t,bonus:this.needPayCashback,acc:this.needPayAcc,items:this.myCartItems}).then((function(t){i.is_edit_payer=!1}))},setDelivery:function(t,e){var i=this;Object(x.o)()&&S.a.dispatch("setDelivery",{payload:{cartDelivery:t,cart:this.myCart},event:e}).then((function(t){i.is_edit_delivery=!1}))},resetDelivery:function(){this.is_edit_delivery=!0},resetPayer:function(){this.is_edit_payer=!0},remove:function(t){var e=this;vo.dlg.confirm(t,"Видалення замовлення","Ви дійсно хочете видалити замовлення <b>№"+this.idCart+"</b>",(function(){return e.removeYes(t)}))},removeYes:function(t){S.a.dispatch("del",{event:t,id_cart:this.idCart})}}},T=Object(c.a)(O,n,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("strong",[t._v("Відправлено")]),t._v(": замовлення відправлено обраним Вами способом.")])}],!1,null,"203621c0",null);T.options.__file="js/modules/cart/components/checkout.vue";e.a=T.exports},57:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",{staticClass:"a-c-big-p"},[t._v("1. Введіть контактні дані")]),t._v(" "),i("div",{staticClass:"n-form-cart"},[i("input",{staticClass:"form-control",attrs:{required:"",type:"text",id:"cart-delivery-"+t.id_cart+"-full_name",autocomplete:"off"},domProps:{value:t.full_name},on:{change:function(e){return t.setFullName(e.target.value)}}}),t._v(" "),i("label",{staticClass:"control-label",attrs:{for:"cart-delivery-"+t.id_cart+"-full_name"}},[i("span",[t._v("ПІБ")])])]),t._v(" "),i("div",{staticClass:"n-form-cart"},[i("input",{ref:"phone-input",staticClass:"form-control",attrs:{required:"",type:"text",placeholder:"380 (xx) xxx-xx-xx",id:"cart-delivery-"+t.id_cart+"-phone",autocomplete:"off"},domProps:{value:t.phone},on:{change:function(e){return t.setPhone(e.target.value)}}}),t._v(" "),i("label",{staticClass:"control-label",attrs:{for:"cart-delivery-"+t.id_cart+"-phone"}},[i("span",[t._v("Мобільний телефон")])])]),t._v(" "),i("p",{staticClass:"a-c-big-p"},[t._v("2. Оберіть спосіб доставки:")]),t._v(" "),i("div",{staticClass:"a-c-bl-fon-top-block"},[i("div",{staticClass:"v-row"},[i("div",{staticClass:"v-col-4 n-delivery-radio"},[i("input",{attrs:{type:"radio",id:"cart-delivery-"+t.id_cart+"-type-1"},domProps:{checked:1==t.type||4==t.type},on:{change:function(e){return t.setType(1)}}}),t._v(" "),i("label",{staticClass:"a-pointer-class",attrs:{for:"cart-delivery-"+t.id_cart+"-type-1"}},[t._v("Нова пошта")])]),t._v(" "),i("div",{staticClass:"v-col-4 n-delivery-radio"},[i("input",{attrs:{type:"radio",id:"cart-delivery-"+t.id_cart+"-type-2"},domProps:{checked:2==t.type},on:{change:function(e){return t.setType(2)}}}),t._v(" "),i("label",{staticClass:"a-pointer-class",attrs:{for:"cart-delivery-"+t.id_cart+"-type-2"}},[t._v("Укрпошта")])]),t._v(" "),i("div",{staticClass:"v-col-4 v-col-last n-delivery-radio"},[i("input",{attrs:{type:"radio",id:"cart-delivery-"+t.id_cart+"-type-3"},domProps:{checked:3==t.type},on:{change:function(e){return t.setType(3)}}}),t._v(" "),i("label",{staticClass:"a-pointer-class",attrs:{for:"cart-delivery-"+t.id_cart+"-type-3"}},[t._v("Самовивіз")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!!t.type,expression:"!!type"}]},[i("div",{directives:[{name:"show",rawName:"v-show",value:3==t.type,expression:"type == 3"}],staticClass:"vr-delivery-type vr-delivery-type-3 v-delivery-type"},[t._m(0),t._v(" "),i("div",{staticStyle:{height:"300px",cursor:"pointer"},attrs:{id:"rk-map"}})]),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:1==t.type||2==t.type||4==t.type,expression:"type == 1 || type == 2 || type == 4"}],staticClass:"vr-delivery-type vr-delivery-post v-delivery-type-small"},[t._v("\n        Вартість доставки Укрпоштою чи Новою поштою сплачується додатково та залежить від Вашого місцерозташування та складає від 20 до 50 грн."),i("br"),t._v("\n        Якщо Ви не можете знайти Вашої адреси - "),i("a",{attrs:{href:"mailto:info@vseosvita.ua"}},[t._v("напишіть нам")]),t._v(".\n      ")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.type,expression:"type == 1"}],staticClass:"vr-delivery-type vr-delivery-type-1 v-delivery-type"},[t._m(1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2==t.type||4==t.type,expression:"type == 2 || type == 4"}],staticClass:"vr-delivery-type vr-delivery-type-2 v-delivery-type"},[t._m(2)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.type||2==t.type||4==t.type,expression:"type == 1 || type == 2 || type == 4"}],staticClass:"vr-delivery-type vr-delivery-post"},[i("SelectCityNew",{attrs:{"input-id":"user-location-"+t.id_cart,"input-value":t.city_koatuu},on:{"select-city-initialized":t.initLocationInputs,"select-city-selected":t.setCityKoatuu}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.type||4==t.type,expression:"type == 1 || type == 4"}],staticClass:"v-row vr-delivery-type vr-delivery-type-2 n-cart-margin"},[i("div",{staticClass:"v-col-12 v-col-last"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isAdres,expression:"isAdres"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isAdres)?t._i(t.isAdres,null)>-1:t.isAdres},on:{change:function(e){var i=t.isAdres,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=t._i(i,null);n.checked?a<0&&(t.isAdres=i.concat([null])):a>-1&&(t.isAdres=i.slice(0,a).concat(i.slice(a+1)))}else t.isAdres=s}}}),t._v(" "),i("label",[t._v("Доставка кур’єром")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.type,expression:"type == 1"}],staticClass:"v-row vr-delivery-type vr-delivery-type-2"},[i("div",{staticClass:"n-form-cart n-form-cart-none-m"},[i("input",{staticClass:"form-control",attrs:{type:"text",required:"",id:"cart-delivery-"+t.id_cart+"-post_office_number",name:"CartDelivery["+t.id_cart+"][post_office_number]",autocomplete:"off"},domProps:{value:t.post_office_number},on:{change:function(e){return t.setPostOfficeNumber(e.target.value)}}}),t._v(" "),i("label",{staticClass:"control-label",attrs:{for:"cart-delivery-"+t.id_cart+"-post_office_number"}},[i("span",[t._v("Номер поштового відділення (тільки числове значення)")])])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:(2==t.type||4==t.type)&&!!t.city_koatuu,expression:"(type == 2 || type == 4 ) && !!city_koatuu"}],staticClass:"v-row vr-delivery-type vr-delivery-type-2"},[i("div",{staticClass:"v-col-6"},[i("div",{staticClass:"js-autocomplete-wrapper"},[i("label",{staticClass:"control-label",attrs:{for:"cart-delivery-"+t.id_cart+"-street"}},[t._v("Вулиця")]),t._v(" "),i("input",{staticClass:"form-control",attrs:{type:"text",id:"cart-delivery-"+t.id_cart+"-street",name:"CartDelivery["+t.id_cart+"][street]",autocomplete:"off"},domProps:{value:t.street},on:{change:function(e){return t.setStreet(e.target.value)}}})]),t._v(" "),i("ul",{staticClass:"js-autocomplete",attrs:{id:"street-ac-"+t.id_cart}})]),t._v(" "),i("div",{staticClass:"v-col-6 v-col-last"},[i("div",{staticClass:"js-autocomplete-wrapper"},[i("label",{staticClass:"control-label",attrs:{for:"cart-delivery-"+t.id_cart+"-house"}},[t._v("Будинок")]),t._v(" "),i("input",{staticClass:"form-control",attrs:{type:"text",id:"cart-delivery-"+t.id_cart+"-house",name:"CartDelivery["+t.id_cart+"][house]",autocomplete:"off"},domProps:{value:t.house},on:{change:function(e){return t.setHouse(e.target.value)}}})]),t._v(" "),i("ul",{staticClass:"js-autocomplete",attrs:{id:"house-ac-"+t.id_cart}})]),t._v(" "),i("div",{staticClass:"v-col-6"},[i("div",{staticClass:"js-autocomplete-wrapper"},[i("label",{staticClass:"control-label",attrs:{for:"cart-delivery-"+t.id_cart+"-flat"}},[t._v("Квартира")]),t._v(" "),i("input",{staticClass:"form-control",attrs:{type:"text",id:"cart-delivery-"+t.id_cart+"-flat",name:"CartDelivery["+t.id_cart+"][flat]",autocomplete:"off"},domProps:{value:t.flat},on:{change:function(e){return t.setFlat(e.target.value)}}})])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:4!=t.type,expression:"type != 4"}],staticClass:"v-col-6 v-col-last"},[i("div",{staticClass:"js-autocomplete-wrapper"},[i("label",{staticClass:"control-label",attrs:{for:"cart-delivery-"+t.id_cart+"-post_index"}},[t._v("Поштовий індекс")]),t._v(" "),i("input",{staticClass:"form-control",attrs:{type:"text",id:"cart-delivery-"+t.id_cart+"-post_index",name:"CartDelivery["+t.id_cart+"][post_index]",autocomplete:"off"},domProps:{value:t.post_index},on:{change:function(e){return t.setPostIndex(e.target.value)}}})]),t._v(" "),i("ul",{staticClass:"js-autocomplete",attrs:{id:"post_index-ac-"+t.id_cart}})])])],1)]),t._v(" "),i("br"),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isCode,expression:"isCode"}]},[i("div",{staticClass:"n-form-cart"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.sms_code,expression:"sms_code"}],ref:"code-input",attrs:{type:"text",id:"cart-delivery-"+t.id_cart+"-sms_code",autocomplete:"off",placeholder:"xx-xx-xx",required:""},domProps:{value:t.sms_code},on:{input:function(e){e.target.composing||(t.sms_code=e.target.value)}}}),t._v(" "),i("label",{staticClass:"control-label",attrs:{for:"cart-delivery-"+t.id_cart+"-sms_code"}},[i("span",[t._v("\n                  Вкажіть код із СМС\n              ")])])]),t._v(" "),i("div",{staticClass:"clear"}),t._v(" "),t._m(3),t._v(" "),i("div",{staticClass:"clear"})]),t._v(" "),i("button",{staticClass:"n-btn-cart n-btn-cart-green",on:{click:t.save}},[i("i",{staticClass:"icon-blue-btn"}),t._v(" "),i("span",{staticClass:"n-big-text-btn"},[t._v("\n              Зберегти\n          ")])]),t._v(" "),i("div",{staticClass:"clear"})])])};n._withStripped=!0;var s=i(31),a={name:"delivery",props:["delivery"],components:{SelectCityNew:i(32).a},data:function(){return{id_cart:"",full_name:"",phone:"",city_koatuu:"",type:"",street:"",house:"",flat:"",post_index:"",post_office_number:"",address:"",errors:[],sms_code:"",is_change_phone:!1}},computed:{isCode:{get:function(){return!this.is_change_phone&&"send_sms_code"in this.delivery&&this.delivery.send_sms_code}},isAdres:{get:function(){return 4==this.type},set:function(t){t&&(this.div_real=!1),this.type=t?4:1}}},methods:{setFullName:function(t){this.full_name=t},setPhone:function(t){this.phone!==t&&(this.is_change_phone=!0),this.phone=t},setType:function(t){this.type=t},setStreet:function(t){this.street=t},setHouse:function(t){this.house=t},setFlat:function(t){this.flat=t},setPostIndex:function(t){this.post_index=t},setCityKoatuu:function(t,e){this.city_koatuu=t,this.address=e},setPostOfficeNumber:function(t){this.post_office_number=t},initLocationInputs:function(){var t={userLocationInput:"#user-location-"+this.id_cart,userStreetList:"#street-ac-"+this.id_cart,userHousesList:"#house-ac-"+this.id_cart,userIndexesList:"#post_index-ac-"+this.id_cart,searchByStreetInput:"#cart-delivery-"+this.id_cart+"-street",searchByHouseInput:"#cart-delivery-"+this.id_cart+"-house",searchByIndexInput:"#cart-delivery-"+this.id_cart+"-post_index",userFlatInput:"#cart-delivery-"+this.id_cart+"-flat"};new s.a(t).init(!0)},validate:function(){this.errors=[],null!==this.full_name&&this.full_name.trim()||this.errors.push("Вкажіть ПІБ");var t=this.$refs["phone-input"];return t&&t.hasOwnProperty("inputmask")&&!t.inputmask.isComplete()&&this.errors.push("Вкажіть коректний номер телефону"),this.type||this.errors.push("Оберіть спосіб доставки"),this.isCode&&!this.sms_code.trim()&&this.errors.push("Вкажіть код із СМС"),0===this.errors.length},showErrors:function(){vo.popup("Необхідно виправити наступні помилки:<br>"+this.errors.join("<br>"))},save:function(t){if(this.validate()){var e={};for(var i in this.$data)this.$data.hasOwnProperty(i)&&(e[i]=this.$data[i]);this.$emit("set-delivery",e,t),this.is_change_phone=!1}else this.showErrors()}},created:function(){for(var t in this.delivery)this.$data.hasOwnProperty(t)&&(this[t]=this.delivery[t])},mounted:function(){var t=this;this.$nextTick((function(){var e="cart-delivery-"+t.id_cart+"-phone",i="cart-delivery-"+t.id_cart+"-post_office_number",n="cart-delivery-"+t.id_cart+"-sms_code";window.init_inputmask(e,{mask:"[+]380 (99) 999-99-99"}),window.init_inputmask(i,{mask:"9{0,5}"}),window.init_inputmask(n,{mask:"99-99-99"}),window.init_google_maps({panorama:[]})}))}},r=i(0),o=Object(r.a)(a,n,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-delivery-type-small"},[i("p",[t._v("Для отримання замовлення необхідно під’їхати за адресою: м. Київ, вул. Оболонська набережна,  будинок 19, корпус 1, попередньо домовившись про час за тел: 0-800-331-031 (офіс працює у робочі дні з 10:00 до 18:00)")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-delivery-type-small"},[i("p",[t._v("Будь ласка, оберіть місто та вкажіть номер відділення в якому ви хочете отримати замовлення.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-delivery-type-small"},[i("p",[t._v("Будь ласка, вкажіть адресу на яку ви хочете отримати замовлення.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"a-c-bl-fon"},[i("p",[t._v("Вам надіслано SMS для підтвердження номеру телефону. Після підтвердження номеру телефону, замовлення може бути опрацьовано без додаткового дзвінка менеджера.")])])}],!1,null,null,null);o.options.__file="js/modules/cart/components/delivery.vue";e.a=o.exports},58:function(t,e){var i={utf8:{stringToBytes:function(t){return i.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(i.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],i=0;i<t.length;i++)e.push(255&t.charCodeAt(i));return e},bytesToString:function(t){for(var e=[],i=0;i<t.length;i++)e.push(String.fromCharCode(t[i]));return e.join("")}}};t.exports=i},59:function(t,e,i){var n,s,a,r,o;n=i(99),s=i(58).utf8,a=i(100),r=i(58).bin,(o=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?r.stringToBytes(t):s.stringToBytes(t):a(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var i=n.bytesToWords(t),c=8*t.length,l=1732584193,u=-271733879,d=-1732584194,p=271733878,v=0;v<i.length;v++)i[v]=16711935&(i[v]<<8|i[v]>>>24)|4278255360&(i[v]<<24|i[v]>>>8);i[c>>>5]|=128<<c%32,i[14+(c+64>>>9<<4)]=c;var f=o._ff,h=o._gg,_=o._hh,m=o._ii;for(v=0;v<i.length;v+=16){var g=l,y=u,b=d,w=p;l=f(l,u,d,p,i[v+0],7,-680876936),p=f(p,l,u,d,i[v+1],12,-389564586),d=f(d,p,l,u,i[v+2],17,606105819),u=f(u,d,p,l,i[v+3],22,-1044525330),l=f(l,u,d,p,i[v+4],7,-176418897),p=f(p,l,u,d,i[v+5],12,1200080426),d=f(d,p,l,u,i[v+6],17,-1473231341),u=f(u,d,p,l,i[v+7],22,-45705983),l=f(l,u,d,p,i[v+8],7,1770035416),p=f(p,l,u,d,i[v+9],12,-1958414417),d=f(d,p,l,u,i[v+10],17,-42063),u=f(u,d,p,l,i[v+11],22,-1990404162),l=f(l,u,d,p,i[v+12],7,1804603682),p=f(p,l,u,d,i[v+13],12,-40341101),d=f(d,p,l,u,i[v+14],17,-1502002290),l=h(l,u=f(u,d,p,l,i[v+15],22,1236535329),d,p,i[v+1],5,-165796510),p=h(p,l,u,d,i[v+6],9,-1069501632),d=h(d,p,l,u,i[v+11],14,643717713),u=h(u,d,p,l,i[v+0],20,-373897302),l=h(l,u,d,p,i[v+5],5,-701558691),p=h(p,l,u,d,i[v+10],9,38016083),d=h(d,p,l,u,i[v+15],14,-660478335),u=h(u,d,p,l,i[v+4],20,-405537848),l=h(l,u,d,p,i[v+9],5,568446438),p=h(p,l,u,d,i[v+14],9,-1019803690),d=h(d,p,l,u,i[v+3],14,-187363961),u=h(u,d,p,l,i[v+8],20,1163531501),l=h(l,u,d,p,i[v+13],5,-1444681467),p=h(p,l,u,d,i[v+2],9,-51403784),d=h(d,p,l,u,i[v+7],14,1735328473),l=_(l,u=h(u,d,p,l,i[v+12],20,-1926607734),d,p,i[v+5],4,-378558),p=_(p,l,u,d,i[v+8],11,-2022574463),d=_(d,p,l,u,i[v+11],16,1839030562),u=_(u,d,p,l,i[v+14],23,-35309556),l=_(l,u,d,p,i[v+1],4,-1530992060),p=_(p,l,u,d,i[v+4],11,1272893353),d=_(d,p,l,u,i[v+7],16,-155497632),u=_(u,d,p,l,i[v+10],23,-1094730640),l=_(l,u,d,p,i[v+13],4,681279174),p=_(p,l,u,d,i[v+0],11,-358537222),d=_(d,p,l,u,i[v+3],16,-722521979),u=_(u,d,p,l,i[v+6],23,76029189),l=_(l,u,d,p,i[v+9],4,-640364487),p=_(p,l,u,d,i[v+12],11,-421815835),d=_(d,p,l,u,i[v+15],16,530742520),l=m(l,u=_(u,d,p,l,i[v+2],23,-995338651),d,p,i[v+0],6,-198630844),p=m(p,l,u,d,i[v+7],10,1126891415),d=m(d,p,l,u,i[v+14],15,-1416354905),u=m(u,d,p,l,i[v+5],21,-57434055),l=m(l,u,d,p,i[v+12],6,1700485571),p=m(p,l,u,d,i[v+3],10,-1894986606),d=m(d,p,l,u,i[v+10],15,-1051523),u=m(u,d,p,l,i[v+1],21,-2054922799),l=m(l,u,d,p,i[v+8],6,1873313359),p=m(p,l,u,d,i[v+15],10,-30611744),d=m(d,p,l,u,i[v+6],15,-1560198380),u=m(u,d,p,l,i[v+13],21,1309151649),l=m(l,u,d,p,i[v+4],6,-145523070),p=m(p,l,u,d,i[v+11],10,-1120210379),d=m(d,p,l,u,i[v+2],15,718787259),u=m(u,d,p,l,i[v+9],21,-343485551),l=l+g>>>0,u=u+y>>>0,d=d+b>>>0,p=p+w>>>0}return n.endian([l,u,d,p])})._ff=function(t,e,i,n,s,a,r){var o=t+(e&i|~e&n)+(s>>>0)+r;return(o<<a|o>>>32-a)+e},o._gg=function(t,e,i,n,s,a,r){var o=t+(e&n|i&~n)+(s>>>0)+r;return(o<<a|o>>>32-a)+e},o._hh=function(t,e,i,n,s,a,r){var o=t+(e^i^n)+(s>>>0)+r;return(o<<a|o>>>32-a)+e},o._ii=function(t,e,i,n,s,a,r){var o=t+(i^(e|~n))+(s>>>0)+r;return(o<<a|o>>>32-a)+e},o._blocksize=16,o._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var i=n.wordsToBytes(o(t,e));return e&&e.asBytes?i:e&&e.asString?r.bytesToString(i):n.bytesToHex(i)}},63:function(t,e,i){(function(t){vo.test_pupil={init_view_answer_short_go:function(){t((function(){function e(e){var i=t(e);t(".i-test-result-select").removeClass("v-test-result-current"),i.addClass("v-test-result-current");var n=i.attr("data-qnum-show");t(".i-block-answers-list").find("[data-qnum]").hide().filter("[data-qnum='"+n+"']").show()}var i=t(".i-test-result-select");i.click((function(){e(this)})),e(i.eq(0))}))},init_view_answer_short_go_pupil:function(e){function i(e){var i=t(e);t(".i-test-result-select").removeClass("v-test-result-current"),i.addClass("v-test-result-current");var n=i.attr("data-qnum-show");t(".i-block-answers-list").find("[data-qnum]").hide().filter("[data-qnum='"+n+"']").show()}t(".i-block-answers-overflow").scrollTop(0),t(".i-block-question-shorten").each((function(){if(this.textContent.length>200){var e=t(function e(i,n){for(var s=n,a=i.cloneNode(!1),r=t(i).contents(),o=0;o<r.length;++o){if(s<=0){s=0;break}var c=r.get(o);switch(c.nodeType){case 3:var l,u=c.textContent,d=u.length;u.length>s?(d=s,l=document.createTextNode(u.substring(0,n)+"...")):(d=u.length,l=c.cloneNode(!1)),a.appendChild(l),s-=d;break;case 1:var p=e(c,s);s=p.maxLeft,a.appendChild(p.element)}}return{maxLeft:s,element:a}}(this,200).element),i=t(this),n=t("<a>",{text:"Детальніше"}).on("click",(function(){i.add(e).toggle(),i.is(":visible")?n.text("Згорнути"):n.text("Детальніше")})).addClass("v-zno-show-more");i.after(e,n).hide()}}));var n=t(".i-test-result-select");n.click((function(){i(this)})),i(n.eq(e||0))},init_view_answer_short_zno:function(){t((function(){function e(e){var i=t(e);t(".i-test-result-select").removeClass("v-test-result-current"),i.addClass("v-test-result-current");var n=i.attr("data-qnum-show");t(".i-block-answers-list").find("[data-qnum]").hide().filter("[data-qnum='"+n+"']").show()}t(".i-block-answers-overflow").scrollTop(0),t(".i-block-question-shorten").each((function(){if(this.textContent.length>200){var e=t(function e(i,n){for(var s=n,a=i.cloneNode(!1),r=t(i).contents(),o=0;o<r.length;++o){if(s<=0){s=0;break}var c=r.get(o);switch(c.nodeType){case 3:var l,u=c.textContent,d=u.length;u.length>s?(d=s,l=document.createTextNode(u.substring(0,n)+"...")):(d=u.length,l=c.cloneNode(!1)),a.appendChild(l),s-=d;break;case 1:var p=e(c,s);s=p.maxLeft,a.appendChild(p.element)}}return{maxLeft:s,element:a}}(this,200).element),i=t(this),n=t("<a>",{text:"Детальніше"}).on("click",(function(){i.add(e).toggle(),i.is(":visible")?n.text("Згорнути"):n.text("Детальніше")})).addClass("v-zno-show-more");i.after(e,n).hide()}}));var i=t(".i-test-result-select");i.click((function(){e(this)})),e(i.eq(0))}))},init_go_test:function(e){t("#i-test-question").olpTest(e)}}}).call(this,i(4))},64:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return n}));var n=function(e){return t.ajax(t.extend({xhrFields:{withCredentials:!0},type:"POST",dataType:"json"},e))}}).call(this,i(4))},65:function(t,e,i){(function(t){t.fn.ppt=function(){return this.each((function(){var e=0,i=t(this),n=i.find(".v-main-presentation-body"),s=i.find(".v-main-presentation-footer"),a=i.next().next(".v-presentation-desc-wrap");a.length&&function(e){var i=e.find(".v-presentation-desc-block img");i.off().click((function(){u(i.index(this)),vo.dlg.show(n.html())}));var s=i.map((function(){return t(this).clone()[0]}));n.children().remove("img").remove(".v-preloader"),n.prepend(s.toArray())}(a);var r=n.find("img");function o(){u((e+1)%l.length)}function c(){var t=l.length;u(((e-1)%t+t)%t)}s.find(".v-numb-all").text(r.length),n.find(".v-main-presentation-arrow-left").click(o),n.find(".v-main-presentation-arrow-right").click(c),n.off().click((function(e){e.offsetX>.25*t(this).width()?o():c()})),n.css({cursor:"pointer"}).hover(v,p);var l=r.map((function(e){return t("<a>").attr("href","").text(e+1).click((function(){return u(e),!1}))[0]}));function u(t){e=t,n.find("img").hide().eq(t).show(),l.removeClass("active").eq(t).addClass("active"),s.find(".v-numb").text(e+1),v(),p()}i.find(".pagination ul").empty().append(l.map((function(){return t("<li>").append(this)})).toArray()),i.find(".to-first").off().click((function(){return u(0),!1})),i.find(".to-prev").off().click((function(){return c(),!1})),i.find(".to-next").off().click((function(){return o(),!1})),i.find(".to-last").off().click((function(){return u(l.length-1),!1})),u(0);var d;function p(){d||(d=setInterval((function(){o()}),5e3))}function v(){clearInterval(d),d=null}p()})),this},t(".i-main-presentation-player-ppt").ppt()}).call(this,i(4))},66:function(t,e,i){(function(t){t.fn.doc=function(){return this.each((function(){var e=t(this),i=e.find(".v-main-presentation-body");function n(t,e){var i=t.scrollTop(),n=t.height(),s=e?i-n:i+n;return t.stop(!0).animate({scrollTop:s},800),!1}e.find(".to-prev").off().click((function(){return n(i,!0)})),e.find(".to-next").off().click((function(){return n(i,!1)}))}))},t(".v-main-presentation-player-doc").doc()}).call(this,i(4))},67:function(t,e,i){"use strict";var n=i(2);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a={namespaced:!0,state:{},mutations:{init:function(t,e){if("object"!==s(e))throw new Error("Bad params.");for(var i in e)e.hasOwnProperty(i)&&n.a.set(t,i,e[i])},update:function(t,e){if("object"===s(e))for(var i in e)e.hasOwnProperty(i)&&t.hasOwnProperty(i)&&(t[i]=e[i])}},actions:{startAllExecutions:function(t,e){var i=t.commit;return new Promise((function(t,n){vo.ajax(e.event,"/ext/test-go-teacher/start-all-executions",e.ajaxData,(function(e){"status"in e&&"success"===e.status?(i("update",e.configModel),i("Executor/updateTimeStart",e.configModel.start_at,{root:!0}),t()):n("Data load error.")}),null,{enableButtonImmediately:!0})}))},closeExecution:function(t,e){var i=t.commit;return new Promise((function(t,n){vo.ajax(e.event,"/ext/test-go-teacher/close-execution",e.ajaxData,(function(e){"status"in e&&"success"===e.status?(i("update",e.configModel),i("Executor/updateTimeFinish",e.configModel.end_at,{root:!0}),t()):n("Data load error.")}),null,{enableButtonImmediately:!0})}))},showResult:function(t,e){var i=t.commit;return new Promise((function(t,n){vo.ajax(e.event,"/ext/test-go-teacher/set-show-result",e.ajaxData,(function(e){"status"in e&&"success"===e.status?(i("update",e.configModel),t()):n("Data load error.")}),null,{enableButtonImmediately:!0})}))},showAnswer:function(t,e){var i=t.commit;return new Promise((function(t,n){vo.ajax(e.event,"/ext/test-go-teacher/set-show-answer",e.ajaxData,(function(e){"status"in e&&"success"===e.status?(i("update",e.configModel),t()):n("Data load error.")}),null,{enableButtonImmediately:!0})}))}}}},7:function(t,e,i){"use strict";var n=i(2),s=i(3),a=i(59);function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}n.a.use(s.b);e.a=new s.b.Store({strict:!1,state:{carts:[],items:[],itemsFree:[],deliveries:[],balance:{bonus:0,acc:0},is_update:!0,cart_default_id:null},getters:{cart:function(t){return function(e){return t.carts.find((function(t){return t.id==e}))}},cartItems:function(t){return function(e){return t.items.filter((function(t){return!t.is_inactive&&t.id_cart==e}))}},cartItemsAll:function(t){return function(e){return t.items.filter((function(t){return t.id_cart==e}))}},cartItemsCount:function(t,e){return function(t){return e.cartItems(t).length}},cartItemsAllCount:function(t,e){return function(t){return e.cartItemsAll(t).length}},cartItemsFree:function(t){return function(e){return t.itemsFree.filter((function(t){return!t.is_inactive&&t.id_cart==e}))}},cartItemsFreeCount:function(t,e){return function(t){return e.cartItemsFree(t).length}},cartHash:function(t,e){return function(t){var i=e.cart(t),n=e.cartItems(t);return a([parseInt(i.cnt_item),parseInt(i.cost)].concat(r(n.map((function(t){return[t.id,parseInt(t.cnt_item),parseInt(t.cost)].join(",")})))).join("|"))}},cartDelivery:function(t){return function(e){return t.deliveries.find((function(t){return t.id_cart==e}))}},bonus:function(t){return t.balance.bonus},acc:function(t){return t.balance.acc}},mutations:{init:function(t,e){var i=e.items,n=e.itemsFree,s=e.cart,a=e.delivery,r=e.balance,o=t.carts.findIndex((function(t){return t.id==s.id}));o>=0?t.carts.splice(o,1,s):t.carts.push(s),(o=t.deliveries.findIndex((function(t){return t.id_cart==s.id})))>=0?t.deliveries.splice(o,1,a):t.deliveries.push(a);var c=[];t.items.filter((function(t){return t.id_cart==s.id})).forEach((function(t,e){i.findIndex((function(e){return e.id===t.id}))<0&&c.push(e)})),c.forEach((function(e){t.items.splice(e,1)})),i.forEach((function(e){var i=t.items.findIndex((function(t){return t.id_cart==e.id_cart&&t.id===e.id}));i>=0?t.items.splice(i,1,e):t.items.push(e)})),c=[],t.itemsFree.filter((function(t){return t.id_cart==s.id})).forEach((function(t,e){n.findIndex((function(e){return e.id===t.id}))<0&&c.push(e)})),c.forEach((function(e){t.itemsFree.splice(e,1)})),n.forEach((function(e){var i=t.itemsFree.findIndex((function(t){return t.id_cart==e.id_cart&&t.id===e.id}));i>=0?t.itemsFree.splice(i,1,e):t.itemsFree.push(e)})),s.status_pay||(t.cart_default_id=s.id),t.balance=Object.assign({},t.balance,r)},sort:function(t){t.items.sort((function(t,e){return parseInt(t.index)-parseInt(e.index)})),t.itemsFree.sort((function(t,e){return parseInt(t.index)-parseInt(e.index)}))},isUpdate:function(t,e){t.is_update=e},del:function(t,e){var i=e.id_cart,n=t.carts.findIndex((function(t){return t.id==i}));n>=0&&t.carts.splice(n,1)}},actions:{init:function(t){var e=t.commit,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e("isUpdate",!0),new Promise((function(t,n){vo.ajax(null,"/ext/cart/init",{id_cart:i},(function(i){"cart"in i&&"items"in i&&"itemsFree"in i&&(e("init",i),e("sort")),t(i),e("isUpdate",!1)}))}))},setItem:function(t,e){var i=t.commit;t.state;return new Promise((function(t,n){i("isUpdate",!0),vo.ajax(null,"/ext/cart/set-item",e,(function(e){"cart"in e&&"items"in e&&"itemsFree"in e&&(i("init",e),i("sort")),t(e),i("isUpdate",!1)}))}))},pay:function(t,e){var i=t.commit;t.state;return new Promise((function(t,n){i("isUpdate",!0);var s=e.event;delete e.event,vo.ajax(s,"/ext/cart/pay",e,(function(e){"cart"in e&&"items"in e&&"itemsFree"in e&&(i("init",e),i("sort")),t(e),i("isUpdate",!1)}))}))},setDelivery:function(t,e){var i=t.commit,n=(t.state,e.payload),s=e.event;return new Promise((function(t,e){i("isUpdate",!0),vo.ajax(s||null,"/ext/cart/set-delivery",n,(function(e){"cart"in e&&"items"in e&&"itemsFree"in e&&"delivery"in e&&(i("init",e),i("sort")),t(e),i("isUpdate",!1)}))}))},del:function(t,e){var i=t.commit,n=(t.state,e.id_cart),s=e.event;return new Promise((function(t,e){i("isUpdate",!0),vo.ajax(s,"/ext/cart/del",{id_cart:n},(function(e){"id_cart"in e&&(i("del",e),i("sort"),location.href="/cart/list"),t(e),i("isUpdate",!1)}))}))}}})},71:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(jQuery,$){var socket_io_client__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(68),socket_io_client__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(socket_io_client__WEBPACK_IMPORTED_MODULE_0__),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_API_API__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(50);function _wrapRegExp(t,e){_wrapRegExp=function(t,e){return new a(t,void 0,e)};var i=_wrapNativeSuper(RegExp),n=RegExp.prototype,s=new WeakMap;function a(t,e,n){var a=i.call(this,t,e);return s.set(a,n||s.get(t)),a}function r(t,e){var i=s.get(e);return Object.keys(i).reduce((function(e,n){return e[n]=t[i[n]],e}),Object.create(null))}return _inherits(a,i),a.prototype.exec=function(t){var e=n.exec.call(this,t);return e&&(e.groups=r(e,this)),e},a.prototype[Symbol.replace]=function(t,e){if("string"==typeof e){var i=s.get(this);return n[Symbol.replace].call(this,t,e.replace(/\$<([^>]+)>/g,(function(t,e){return"$"+i[e]})))}if("function"==typeof e){var a=this;return n[Symbol.replace].call(this,t,(function(){var t=[];return t.push.apply(t,arguments),"object"!==_typeof(t[t.length-1])&&t.push(r(t,a)),e.apply(this,t)}))}return n[Symbol.replace].call(this,t,e)},_wrapRegExp.apply(this,arguments)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var e="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(i,t)})(t)}function _construct(t,e,i){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);var s=new(Function.bind.apply(t,n));return i&&_setPrototypeOf(s,i.prototype),s}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}(function(){function Core(){var t=Array.prototype.slice.call(arguments,1),e=arguments[0];e in Core?Core[e].apply(Core,t):console.log('No such method "'+e+'" for Core')}function Popup(t,e){Popup.msg=t,Popup.b_stay=e,Popup.b_error=!1,Popup._createOverlay(),Popup._create(),Popup._show()}function Dlg(t,e,i,n){var s={};void 0===t&&(t=null),e=void 0===e?"":"/"+e,void 0!==i&&(s.a=i),void 0!==n&&(s.b=n),Core.ajax(t,"/dlg-"+e,s)}function Tooltip(t,e,i){if(t){var n=t.target,s=jQuery("<span>").addClass("a-tooltip").css({display:"none",top:t.pageY-10+"px",left:t.pageX+20+"px"}).html(e).appendTo("body").fadeIn("slow");if(i&&"top"===i.position){var a=n.getBoundingClientRect(),r=document.body.getBoundingClientRect(),o=a.top-r.top-s.outerHeight()-20,c=a.left+a.width/2-r.left-s.outerWidth()/2;s.css({top:o,left:c})}}}function init(){window.vo=Core}Core.user_id=0,Core.user_full_name="",Core.user_avatar="",Core.user_type="",Core.user_no_avatar="",Core.url="",Core.url_socket="",Core.url_cloud="",Core.url_file="",Core.url_msg="",Core.url_cert="",Core.url_assets="",Core.is_admin_msg="",Core.servers={},Core.active_year=0,Core.test_config_id=0,Core.test_session_id=0,Core.unix_time=0,Core.set=function(){if(1==arguments.length&&"object"==_typeof(arguments[0]))for(var t in arguments[0])t in Core?Core[t]=arguments[0][t]:console.log('No such method "'+t+'" for Core');else 2==arguments.length?arguments[0]in Core?Core[arguments[0]]=arguments[1]:console.log('No such method "'+arguments[0]+'" for Core'):console.log("Argument Error")},Core.ajax=function(e,url,form,callback,silent,options){var rootEventElement=null;if(null!=e&&"object"===_typeof(e)&&("currentTarget"in e?rootEventElement=jQuery(e.currentTarget):"target"in e&&(rootEventElement=jQuery(e.target))),null!==rootEventElement){rootEventElement.attr("disabled",!0).addClass("a-load-button");for(var children=rootEventElement.children(),i=0,l=children.length;i<l;i++)jQuery(children[i]).attr("disabled",!0)}function unlockRootEventElement(){if(null!==rootEventElement){rootEventElement.removeAttr("disabled").removeClass("a-load-button");for(var t=rootEventElement.children(),e=0,i=t.length;e<i;e++)jQuery(t[e]).removeAttr("disabled");options&&"object"===_typeof(options)&&options.hasOwnProperty("onUnlockRootEventElement")&&"function"==typeof options.onUnlockRootEventElement&&options.onUnlockRootEventElement()}}var objData=null,isForm=!1;return callback||(callback=null),"string"==typeof form?"#"==form.charAt(0)?(objData=jQuery(form).serialize(),isForm=!0,jQuery(form+" .errorSummary").slideUp(300)):objData=form:"object"===_typeof(form)&&(objData=form),url+=(url.split("?")[1]?"&":"?")+"isAjax=1",jQuery.ajax({url:url,xhrFields:{withCredentials:!0},type:"POST",data:objData,dataType:"json",error:function(t){if(t.status>=300)try{var i=JSON.parse(t.responseText);void 0!==i.message?Popup.error(i.message):Popup.error(t.status+" "+t.statusText+"<hr />"+t.responseText)}catch(e){Popup.error(t.status+" "+t.statusText+"<hr />"+t.responseText)}null!==e&&(options&&options.enableButtonImmediately?unlockRootEventElement():setTimeout((function(){unlockRootEventElement()}),2e3))},success:function success(data){if("function"==typeof callback&&callback(data),void 0!==data.error?silent||Popup.error(data.error,!0):void 0!==data.errorForm&&isForm?(jQuery(form+" .errorSummary").remove(),jQuery(data.errorForm).hide().prependTo(form),jQuery(form+" .errorSummary").slideDown(300)):void 0!==data.popup?Popup(data.popup):void 0!==data.popupStay&&Popup(data.popupStay,!0),void 0!==data.modal){var onHide=null;void 0!==data.modal.onHide&&(onHide=data.modal.onHide),void 0!==data.modal.html&&Dlg.show(data.modal.html,data.modal)}if(void 0!==data.update&&jQuery(data.update.obj).html(data.update.val),void 0!==data.replace&&jQuery(data.replace.obj).replaceWith(data.replace.val),void 0!==data.append&&jQuery(data.append.obj).append(data.append.val),void 0!==data.hideModal&&data.hideModal&&Dlg.hide(),void 0!==data.reload&&data.reload&&location.reload(),void 0!==data.url&&(location.href=data.url),void 0!==data.js&&eval(data.js),void 0!==data.submit&&jQuery(data.submit).submit(),void 0!==data.pay&&(jQuery("body").append(data.pay),jQuery("#aa-payment-form").submit()),null!==e){var enableImmediately=options&&options.enableButtonImmediately;enableImmediately?unlockRootEventElement():setTimeout((function(){unlockRootEventElement()}),3e3)}}}),!1},Core.is_scroll=function(){return-[1]?document.body.offsetHeight>window.innerHeight:(document.body.offsetHeight,document.documentElement.clientHeight,!0)},Core.global_error_handler=function(t,e,i){return void 0!==arguments[3]&&arguments[3],void 0!==arguments[4]&&arguments[4],!0},Core.to_log=function(t,e){},Popup.msg="",Popup.interval=null,Popup.b_stay=!1,Popup.b_error=!1,Popup.error=function(t,e){Popup.msg=t,Popup.b_stay=!!e,Popup.b_error=!0,Popup._createOverlay(),Popup._create(),Popup._show()},Popup.start=function(){Popup.b_stay||Popup.interval||(Popup.interval=setTimeout((function(){Popup.hide(1500)}),3e3))},Popup._allowClose=function(){Popup.start()},Popup._preventClose=function(){Popup.stop()},Popup.stop=function(){clearInterval(Popup.interval),Popup.interval=null},Popup.hide=function(t){Popup.stop(),$(Popup.element).fadeOut(void 0!==t?t:300),$(Popup.overlay).hide()},Popup._show=function(){Popup.stop(),Popup.b_error?Popup.element.addClass("a-dialog-mini-red"):Popup.element.removeClass("a-dialog-mini-red"),Popup.element.stop(!0,!0).fadeIn(600),Popup.overlay.show(),Popup.start()},Popup._createOverlay=function(){var t=$(".a-dialog-oll");Popup.overlay=t.length?t:$("<div>").addClass("a-dialog-oll").appendTo(document.body),Popup.overlay.css({pointerEvents:"none"})},Popup._create=function(){var t=$(".a-dialog-mini");t.length||(t=$("<div>").attr({id:"i-popup"}).addClass("a-dialog-mini").appendTo(Popup.overlay||document.body)),t.css({pointerEvents:"initial"}).empty().attr("onclick","event.stopPropagation()").mouseout(Popup._allowClose).mouseover(Popup._preventClose).append($("<p>").html(Popup.msg),$("<span>").addClass("a-delete").attr("onclick","vo.popup.hide()")),Popup.element=t},Core.popup=Popup,Dlg.scroll_width=0,Dlg.callback_close=null,Dlg.on_hide=null,Dlg.confirm_close=null,Dlg.confirm_msg=null,Dlg.confirm_callback=null,Dlg.hide_on_bg_click=!0,Dlg.show=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Popup.hide(),Dlg.html=t,Dlg.on_hide=i,Dlg._createOverlay(),Dlg._create(e),Dlg._position(),Dlg._show()},Dlg._createOverlay=function(){jQuery("body").css("overflow","hidden"),Core.is_scroll()&&jQuery("body, .v-main-header-scroll").css("padding-right",Dlg.scroll_width+"px");var t=$(".a-dialog");Dlg.overlay=t.length?t:$("<div>").addClass("a-dialog").appendTo(document.body)},Dlg._destroyOverlay=function(){jQuery("body, .v-main-header-scroll").css({overflow:"",paddingRight:""})},Dlg._destroy=function(){Dlg.element.empty()},Dlg._create=function(t){var e=$(".a-dialog-modal");e.length||(e=$("<div>").attr({id:"i-dialog"}).addClass("a-dialog-modal v-dialog-modal-zoom-out-show v-dialog-modal-with-anim").mousedown((function(t){t.stopPropagation()})).appendTo(Dlg.overlay||document.body));var i=e.data("options");if(i&&(e.removeClass(i.class),e.css({width:"",minWidth:"",maxWidth:""})),e.data("options",null),t){e.addClass(t.class);var n=t.width;n&&e.css({width:n,minWidth:n,maxWidth:n}),e.data("options",t)}e.html($("<div>").addClass("a-di-content").html(Dlg.html)).attr("onmousedown","event.stopPropagation()").css({paddingTop:30,overflow:"initial",maxHeight:"initial"}),$(Dlg.overlay).attr("onmousedown","vo.dlg.hide()"),Dlg.element=e},Dlg._position=function(){},Dlg._show=function(){Dlg.overlay.fadeIn(200),Dlg.element.removeClass("v-dialog-modal-with-anim")},Dlg._hide=function(){Popup.hide(),$(Dlg.element).addClass("v-dialog-modal-with-anim").add(Dlg.overlay).fadeOut(300,(function(){$(Dlg.element).show(),Dlg._destroy(),Dlg._destroyOverlay()}))},Dlg.hide=function(){Dlg.on_hide&&("function"==typeof Dlg.on_hide?Dlg.on_hide():Function(Dlg.on_hide)(),Dlg.on_hide=null),Dlg._hide()},Dlg.confirm=function(t,e,i,n){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};Dlg.confirm_callback=n;var r=Dlg.confirm_msg;a&&"object"===_typeof(a)||(a={}),r=(r=(r=(r=(r=(r=r.replace(/\{title\}/gi,e)).replace(/\{msg\}/gi,i)).replace(/\{yes\}/gi,a.yes||"Так")).replace(/\{no\}/gi,a.no||"Ні")).replace(/\{yes_css_class\}/gi,a.yes_css_class||"vo-btn-blue")).replace(/\{no_css_class\}/gi,a.no_css_class||"vo-btn-red"),Dlg.show(r,null,s)},Dlg.confirm_yes=function(t){"function"==typeof Dlg.confirm_callback&&(Dlg.confirm_callback(t)||Dlg.hide())},Dlg.youtube=function(t,e){Dlg.show('<div class="a-di-top"><div class="a-di-r"><a class="a-non-b" href="javascript:;" onclick="iu.dlg.hide();"> <div class="a-x" title="Закрыть">x</div></a></div><p>'+e+'</p></div><div class="a-di-butt"><iframe width="605" height="340" src="//www.youtube.com/embed/'+t+'?rel=0&amp;showinfo=0" frameborder="0" allowfullscreen></iframe></div>')},Dlg.bg_click=function(){iu.dlg.hide_on_bg_click&&iu.dlg.hide()},Core.dlg=Dlg,Tooltip.hide=function(t){jQuery(".a-tooltip").remove()},Core.tooltip=Tooltip,Core.disable=function(t,e){setTimeout((function(){var i=$(t);i.enable(!1),clearTimeout(i.data("disable-timeout"));var n=setTimeout((function(){$(t).enable(!0)}),e);i.data("disable-timeout",n)}),0)},Core.scrollTo=function(t,e){var i=$(t);if(!i)return!1;var n=i.offset();if(!n)return!1;var s=n.top,a=$(".v-main-header").height();return e&&(a=$(e).height()),$("body,html").stop(!0).animate({scrollTop:s-a},"slow"),!1},Core.toggleNext=function(t){return $(".v-work-request .v-c-all-collapse-block-trigger").not(t).removeClass("open").nextAll().slideUp(),$(t).toggleClass("open").next().stop(!0,!0).slideToggle(),!1},Core.numerize=function(t,e){var i=2,n=t%100;if(n<10||n>20){var s=t%10;1===s?i=0:s>0&&s<5&&(i=1)}return e[i]?e[i].replace(/{n}/,t):t},Core.shareCert=function(t,e,i){vo.dlg.show('<div id="i-share-dlg" class="v-form v-form-copy"><textarea style="width:100%" class="mb-custom"></textarea><button class="i-copy">Скопіювати</button></div>');var n=/{{\s*(\w+)\s*}}/g,s=/(-\d*x\d*)?(\.\w+)$/;function a(t,e,i){return t.replace(s,(function(t,n,s){return"-"+e+"x"+i+s}))}var r,o,c=$("#i-share-dlg"),l=c.find("textarea");r=219,o=310,l.val(function(t,e){return t.replace(n,(function(t,i){return e[i]}))}('<a href="{{url}}" target="_blank"><img src="{{src}}"></a>',{url:e,src:a(i,r,o)})),c.find(".i-copy").click((function(){var t;l.length&&(l[0].select(),t=document.execCommand("copy")),t?vo.popup("Скопійовано успішно."):vo.popup("Не вдалось скопіювати код.")}))},Core.resizeHostedImage=function(t,e,i){var n=t.replace(/(-(\d+)x(\d+))?(\.\w+)$/,(function(t,n,s,a,r){return!0===i&&(i=Math.round(e*a/s)),!0===e&&(e=Math.round(i*s/a)),i&&e?"-"+e+"x"+i+r:r}));return{width:e,height:i,url:n}},Core.magnifyImg=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Core.resizeHostedImage(t.src,e,!0),s=n.url,a=n.width,r=n.height,o={};i&&(o={width:e+60});var c=a&&r?'style="width:'.concat(a,"px;height").concat(r,'px"'):"";Core.dlg.show('<img class="achievement-img" '.concat(c,' src="').concat(s,'">'),o)},Core.popupVideoYT=function(t){t&&vo.dlg.show('<iframe width="560" height="315" src="https://www.youtube.com/embed/'+t+'?rel=0&showinfo=0&autoplay=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>',{width:"none"})},Core.ytInstructionTutor=function(){Core.popupVideoYT("8hDMEKGv1oM")},Core.updateBadges=function(t){var e=t.count_dialog,i="data-set-active",n=$(".i-profile-message-count"),s=n.parent();e>0?(n.text(e).show(),s.attr(i)&&s.addClass("active")):(n.hide(),s.attr(i)&&s.removeClass("active"));var a=t.count_comment,r=$(".i-profile-comment-count"),o=r.parent();a>0?(r.text(a).show(),o.attr(i)&&o.addClass("active")):(r.hide(),o.attr(i)&&o.removeClass("active"))},Core.updateAndSaveBadges=function(t){if(Core.updateBadges(t),window.localStorage)try{localStorage.setItem("i-feed-badges",JSON.stringify(t))}catch(t){localStorage.clear()}},Core.loadBadges=function(){if(window.localStorage){var t=localStorage.getItem("i-feed-badges");if(t)try{var e=JSON.parse(t);Core.updateBadges(e)}catch(t){console.error(t)}}},Core.loadBadges(),Core.plural=function(t,e,i,n){var s=Math.abs(t);return(s%=100)>=5&&s<=20?n:1===(s%=10)?e:s>=2&&s<=4?i:n},Core.shareFB=function(t,e){t&&vo.openNewWindow("https://www.facebook.com/sharer/sharer.php?u="+t,e)},Core.openNewWindow=function(t,e){if(t){var i=500,n=500,s=window.screen.availLeft+window.screen.availWidth/2-i/2,a=window.screen.availTop+window.screen.availHeight/2-n/2;window.open(t,"authWindow","width="+i+", height="+n+", left="+s+", top="+a)}},Core.copy=function(t,e){if(t=String(t).trim()){var i=document.createElement("span");i.textContent=t,document.body.appendChild(i);var n=document.createRange();n.selectNode(i);var s=window.getSelection();s.removeAllRanges(),s.addRange(n),e=e||"Скопійовано в буфер обміну";try{document.execCommand("copy")?vo.popup(e):vo.popup("Не вдалося скопіювати")}catch(t){console.log("Oops, unable to copy")}s.removeAllRanges(),document.body.removeChild(i)}},Core.newsContentImg=function(){var t=$(".v-news-content img"),e=parseInt($(".v-news-content").width());e||(e=500);var i="vo.magnifyImg(event.target,"+e+",1);";$(window).width()<992&&(i="vo.magnifyImg(event.target,"+e+");");for(var n=0;n<t.length;n++){var s=t[n];s.parentElement&&"a"!=s.parentElement.localName&&jQuery(s).attr("onclick",i)}},Core.showImg=function(t){var e=document.createElement("img");e.src=t,vo.magnifyImg(e,516)},Core.linkPreview=function(t,e){var i=jQuery(t+" a");i.length>0&&e.length>0&&i.each((function(t,i){var n=e.find((function(t){return t.link==i.href}));if(void 0!==n){["left","right"].forEach((function(t){$(i).has("img.a-photo-"+t).css("float",t)}));var s="";null!==n.image&&(s="<img src='"+n.image+"'> ");var a="<span class='ag-v-span'>"+s+n.title+"</span>";jQuery(i).addClass("ag-v-link").append(a)}})),jQuery(t+" span.r-float").each((function(t,e){var i=document.createElement("span");i.className="r-float-blank",i.innerText=e.title,i.innerHTML=Object(_utils__WEBPACK_IMPORTED_MODULE_1__.t)(i.innerHTML),e.title="",jQuery(e).append(i)}))},Core.agShowNextEvent=function(t){if(t<2)return!1;var e=$(".ag-event-list li.ag-active"),i=parseInt(e.attr("data-elId"))+1;return i===t&&(i=0),e.hide(),e.attr("class",""),$('.ag-event-list li[data-elId="'+i+'"]').show().attr("class","ag-active"),!1},Core.vrHideNotification=function(){return vo.ajax(null,"/ext/user/important-notification",{hide:1}),jQuery("#ag_sys_msg").hide(),jQuery(".vr-important-button").show(),!1},Core.vrShowNotification=function(){vo.ajax(null,"/ext/user/important-notification"),jQuery(".vr-important-button").hide();var t=jQuery("#ag_sys_msg");return t.show(),$("html, body").animate({scrollTop:t.offset().top},500),!1},Core.slideToggle=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return jQuery(t).slideToggle(e)},Core.toggleClass=function(t,e){return jQuery(t).toggleClass(e)},Core.hide=function(t){return jQuery(t).hide()},Core.show=function(t){return jQuery(t).show()},Core.submit=function(t){return jQuery(t).submit()},Core.select=function(t){return jQuery(t).select()},Core.val=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return jQuery(t).val(e)},Core.attr=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return jQuery(t).attr(e,i)},Core.css=function(t,e,i){return jQuery(t).css(e,i)},Core.mathlive=function(t){},Core.openCreateIframeDialog=function(t,e,i){vo.dlg.show('<div id="i-share-dlg" class="v-form v-form-copy"><div class="v-subject-select-title">Для вставки відображення документа на іншому сайті, скопіюйте даний код </div><div class="v-row v-numb-width"><div class="v-col-2"><span>Ширина</span></div><div class="v-col-3"><div class="v-input-block"><input type="number" class="i-input-width v-input-width" value="636" min="100"></div></div></div><textarea style="width:100%" class="mb-custom" onclick="vo.select(this)"></textarea><button class="i-copy">Скопіювати</button><span id="i-text-copy-message" class="v-text-copy-message" style="display: none"></span></div>');var n=$("#i-share-dlg"),s=n.find("textarea");function a(n){var a=Math.floor(n*e);s.val('<div><a href="'+vo.url+(vo.user_id?"?rl="+vo.user_id:"")+'" target="_blank">Всеосвіта</a> › <a href="'+i+(vo.user_id?"?rl="+vo.user_id:"")+'" target="_blank">Перейти на сторінку документа</a></div>'+'<iframe src="{url}" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:0;border-width:0" width="{width}" height="{height}"></iframe>'.replace("{url}",t).replace("{width}",n).replace("{height}",a))}n.find(".i-copy").click((function(){var t;s.length&&(s[0].select(),t=document.execCommand("copy")),t?n.find("#i-text-copy-message").html("<i>&#10004;</i>Скопійовано <br> успішно.").show():n.find("#i-text-copy-message").html("<i></i>Не вдалось<br>  скопіювати код.").show()}));var r=n.find(".i-input-width").on("change",(function(){this.value<320&&(this.value=320),a(this.value)}));a(r.val())},Core.setDirector=function(t,e){var i=$(e).closest("#i-awards-director-edit"),n=i.find("[name='director_name']").val(),s=i.find("[name='director_email']").val(),a=window.olympic_link_map.setDirector;return vo.ajax(t,a,{director_email:s,director_name:n}),!1},Core.setTeacher=function(t,e){var i=$(e).closest(".i-awards-teacher-item");return i.data("editing")?function(t,e){var i=t.find("[name='teacher_name']").val(),n=t.attr("data-class"),s=t.attr("data-subject"),a=window.olympic_link_map.setTeacher;vo.ajax(e,a,{teacher_name:i,class_title:n,id_olp_subject:s},(function(){t.data("editing",!1),t.find("[name='teacher_name']").prop("disabled",!0).removeClass("v-input-edit"),t.find(".i-edit").html("<i></i>Редагувати")}))}(i,t):function(t){t.data("editing",!0),t.find("[name='teacher_name']").prop("disabled",!1).addClass("v-input-edit"),t.find(".i-edit").html("Зберегти")}(i),!1},Core.init_tutor_settings=function(){$(".v-choosen-specs-wrap").multiselect({});var t={data:null,get:function(t){var e=this;this.data?t(this.data):vo.ajax(null,"/tutor/copy-contact",{},(function(i){e.data=i,t(i)}))}};vo.copyProfileData={phone:function(){t.get((function(t){$("#tutor-phone").val(t.phone.slice(0===t.phone.indexOf("+")?3:2))}))},skype:function(){t.get((function(t){$("#tutor-skype").val(t.skype)}))},facebook:function(){t.get((function(t){$("#tutor-url_fb").val(t.url_fb)}))},location:function(){t.get((function(t){}))}};var e=$("#tutor-teachtime").find("input"),i=e.filter("[value='0']");e.change((function(t){i.is(t.target)&&i.is(":checked")?e.not(i).prop("checked",!1):i.prop("checked",!1)}));var n=$("#tutor-youtube");n.on("change input keyup",(function(){var t;n.val(void 0!==(t=(t=n.val()).replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?t[2].split(/[^0-9a-z_\-]/i)[0]:t)}))},Core.tutor={init_sidebar:function(t){jQuery("#tutor-search-form input").on("change",(function(){vo.tutor.submitSearchForm(t)})),$(".v-filter-library-title").click((function(){$(window).width()<=900&&($(this).next(".v-filter-course-check").toggleClass("open"),$(this).toggleClass("open"))}))},submitSearchForm:function(t){var e=jQuery("#tutor-search-form");0!==$("#tutor-search-form input:checked").length?e.submit():window.location.href=t},toggleBlock:function(t,e){jQuery(e+" > .vr-toggle-element").each((function(){"block"===jQuery(this).css("display")?jQuery(this).css("display","none"):jQuery(this).fadeIn("slow")}));var i=jQuery(t.target),n=i.text(),s=i.data("next-text");i.text(s).data("next-text",n)}},Core.publication={toggleMaterialCategoryList:function(t){var e=$(".i-hidden-list").slideToggle().toggleClass("i-hidden-list-display").queue((function(i){var n=$(t);e.hasClass("i-hidden-list-display")?n.text("Згорнути"):n.text("Дивитися ще 9 розділів"),i()}));return!1},goToOrderPublication:function(t){var e=$("#print_ver");return!0!==t&&!1!==t||e.prop("checked",t),e.change(),vo.scrollTo("#i-order-pub"),!1},ytInstructionPublication:function(){vo.dlg.show('<iframe width="560" height="315" src="https://www.youtube.com/embed/59D2EBlpVdE?rel=0&showinfo=0&autoplay=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>',{width:"none"})}},Core.webinar={init_view:function(t,e){var i,n;!function(){function i(){var t=document.querySelectorAll("#i-webinar-filter li");if(t){for(var e=0,i=0,n=0,s=t.length;n<s;++n){var a=t[n];if(!a)break;var r=a.offsetTop;r-e>5&&(e=r,++i)}var o=document.querySelector("#i-filter-toggle");o&&(o.style.display=i>1?"":"none")}}i(),window.addEventListener("resize",i);var n=parseInt(t),s=parseInt(e);initCountdownTimer({timerEnd:s,timerStart:n})}(),i=document.querySelector("#rk-webinar-new-mobile-show-content"),n=document.querySelector("#rk-webinar-content"),i.addEventListener("click",(function(t){t.preventDefault(),$(n).toggle()}))},init_gif:function(t){if(console.log("GIF INIT"),function(t,e,i,n){for(n=(e=document.cookie.split("; ")).length-1;n>=0;n--)if((i=e[n].split("="))[0]===t)return i[1]}("ag-webinar-online-block")!==t){var e=$("#ag-webinar-online-block"),i=e.find("img");i.prop("complete")?e.slideDown():i.on("load",(function(){e.slideDown()}))}},gif_hide:function(t,e){var i=new Date;i.setTime(i.getTime()+12e5),$("#ag-webinar-online-block").hide(),document.cookie="ag-webinar-online-block="+e+"; expires="+i+"; path=/",t.preventDefault()},toggle_child_tags:function(t,e,i,n){var s=parseInt(event.target.dataset.vrCh);s?(document.querySelectorAll(n).forEach((function(t,i){i<e||(t.style.display="none")})),event.target.text=i[s],event.target.dataset.vrCh="0"):(document.querySelectorAll(n).forEach((function(t,e){t.style.display=""})),event.target.text=i[s],event.target.dataset.vrCh="1")}},Core.test={init_test_view:function(){$("#test-theia-sticky-sidebar").parent().theiaStickySidebar({additionalMarginTop:$("#test-theia-sticky-sidebar").data("theia-margin-top"),additionalMarginBottom:$("#test-theia-sticky-sidebar").data("theia-margin-bottom"),minWidth:$("#test-theia-sticky-sidebar").data("theia-minwidth"),updateSidebarHeight:!1,containerSelector:$("#test-theia-sticky-sidebar").data("theia-container")})},init_go_settings_timer_end:function(){$("#vr-start-countdown").hide(),$("#vr-start-countdown-finish").show(),setTimeout((function(){window.location.reload()}),5e3)},drawChart:function(t,e,i){var n="vr-chart-"+t,s=document.getElementById(n).getContext("2d"),a=s.createLinearGradient(0,100,0,0);return a.addColorStop(0,"rgba(156,200,255,0.77)"),a.addColorStop(1,"rgb(79,141,231)"),new Chart(s,{type:"line",options:{responsive:!1,animation:{animateScale:!0},layout:{padding:{left:10,right:10,top:10,bottom:10}},scales:{yAxes:[{categoryPercentage:1,barPercentage:1,ticks:{beginAtZero:!0,display:!1},gridLines:{display:!1,drawBorder:!1},scaleLabel:{display:!1}}],xAxes:[{categoryPercentage:1,barPercentage:1,ticks:{display:!1},gridLines:{display:!1,drawBorder:!1},scaleLabel:{display:!1}}]},legend:{display:!1},title:{display:!1,text:"Активність",position:"bottom"},tooltips:{enabled:!0},elements:{point:{radius:function(t){return t.dataset.data[t.dataIndex]<1?0:2}}}},data:{labels:i,datasets:[{data:e,backgroundColor:a,label:!1,borderColor:"rgba(0,104,176,0.27)",borderWidth:1}]}})},change_quest_position_ondrop:function(t){t.preventDefault();var e=t.dataTransfer.getData("text"),i=t.target.closest(".vr-drag");if(i){var n=i.getAttribute("data-key");e&&n&&e!=n&&vo.ajax(null,"/ext/test/drag-and-drop",{id_quest:e,id_quest_target:n})}},change_quest_position_ondragover:function(t){var e=t.target.closest(".vr-drag");if(e){t.preventDefault();var i=document.querySelector(".vr-drag-node");if(i){var n=e.getAttribute("data-key"),s=i.getAttribute("data-key");if(s&&n&&s!=n&&!e.classList.contains("vr-drag-target")){var a=document.querySelectorAll(".vr-drag-target");[].forEach.call(a,(function(t){t.classList.remove("vr-drag-target")})),e.classList.add("vr-drag-target")}}}},change_quest_position_ondragend:function(t){t.target.classList.remove("vr-drag-node");var e=document.querySelectorAll(".vr-drag-target");[].forEach.call(e,(function(t){t.classList.remove("vr-drag-target")}))},test_download:function(t,e){t.preventDefault(),vo.ajax(t,"/ext/test/download-pdf-modal",{id:e})},toggle_ip:function(t,e){jQuery(e).toggle();var i="показати";t.target.text===i&&(i="приховати"),t.target.text=i}},Core.site={init_index:function(){var t,e,i=s(".v-main-lp-top-side-bg"),n=s(".v-main-lp-top-side-img");function s(t,e){return e?document.querySelectorAll(t):document.querySelector(t)}function a(t,e){return 100*t/e}n.style.transition=".5s ease-out",n.style.transformOrigin="50% 50%",n.style.transform="scale(1.03)",i.addEventListener("mouseleave",(function(t){n.style.setProperty("transform-origin","50% 50%")})),i.addEventListener("mousemove",(function(t){var e=i.getBoundingClientRect(),s=t.pageX,r=t.pageY,o=i.offsetTop,c=e.width,l=e.height,u=r-o,d=[a(s,c),a(u,l)],p=d[0],v=d[1];n.style.setProperty("transform-origin","".concat(p,"% ").concat(v,"%"))})),t=.3,e=s("[data-counter-number]",!0),[].forEach.call(e,(function(e){!function(t,e){var i,n=Number(t.getAttribute("data-counter-number").replace(/\D/,""));i=n/(1e3*e/5),function e(s){setTimeout((function(){var a=s+i;a<n?(t.textContent=String(Math.round(a)).replace(/\d{1,3}(?=(\d{3})+(?!\d))/g,"$& "),e(a)):t.textContent=String(n).replace(/\d{1,3}(?=(\d{3})+(?!\d))/g,"$& ")}),5)}(0)}(e,t)}))},init_out_url:function(t){var e=30,i=setInterval((function(){if((e-=1)<=1){clearInterval(i);var n=$("<button>").text("Перейти").click((function(){location.href=t}));$(".v-download-main-block-title").empty().after(n,"Якщо перехід не відбувся автоматично, натисніть кнопку."),$(".i-link-out").show(),location.href=t}$(".v-main-time").html("<b>"+Math.max(e,0)+"</b><span>секунд</span>")}),1e3)},init_popup:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/ext/user/msg",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;setTimeout((function(){vo.ajax(null,t,{mob:$(window).width()>991?0:1})}),e)},auth_popup:function(t){var e=encodeURI(document.referrer);window.open("/social-network/auth/login?provider="+t+"&referrer="+e,"authWindow","width=600,height=500,scrollbars=yes");return!1},checkBeforeSubmit:function(t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#registration-form";$(e).submit()},init_bitkit:function(){document.querySelectorAll(".v-bitkit-item-slider").forEach((function(t){var e=t.querySelectorAll("a");e.forEach((function(i){i.addEventListener("click",(function(i){i.preventDefault(),e.forEach((function(t){t.classList.contains("active")&&t.classList.remove("active")})),this.classList.add("active");var n=this.querySelector("img").src;t.querySelector(".v-bitkit-item-slider-img img").setAttribute("src",n)}))}))}))},ytInstructionMethodWeek:function(){vo.dlg.show('<iframe width="560" height="315" src="https://www.youtube.com/embed/nVS5ovjWuiI?rel=0&showinfo=0&autoplay=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>',{width:"none"})},birthday_video:function(){$(".v-egipet-video-soon").stop(!0).fadeIn().delay(1e4).fadeOut()},loginAsThisUser:function(t){$("#vr-registration-proposition").hide(),$("#vr-registration-proposition-psw").show()}},Core.sms={init:function(){},submitConfirmCode:function(t){var e=$("#i-code-confirm-phone").val(),i=$("#i-code-confirm-code").val();vo.ajax(t,"/site/sms-check",{phone:e,code:i})},submitCodePhoneNumber:function(t,e){var i=$("#i-code-confirm-phone").val();i||i.trim()||vo.popup("Введіть номер телефону"),$(e).hasClass("disable")||vo.ajax(t,"/site/sms-check",{phone:i},(function(t){t.error?($(".i-code-confirm-popup__block-1").show(),$(".i-code-confirm-popup__block-2").hide()):($(".i-code-confirm-popup__block-1").hide(),$(".i-code-confirm-popup__block-2").show(),vo.sms.startTimer())}))},startTimer:function(){var t=Date.now()+6e4,e=$(".i-code-confirm-timer");function i(){var i=Date.now(),s=Math.floor((t-i)/1e3);if(s<=0)return clearInterval(n),$(".i-code-confirm-timer-text").hide(),void $(".i-code-confirm-button-resubmit").removeClass("disable");$(".i-code-confirm-timer-text").show(),$(".i-code-confirm-button-resubmit").addClass("disable"),e.text(vo.numerize(s,["{n} секунду","{n} секунди","{n} секунд"]))}var n=setInterval(i,1e3);i()}},Core.profile={init_edit:function(){var t=document.querySelector("#document-description"),e=t.value.length,i=document.querySelector(".rk-textarea-value__length");function n(e){e>500&&(t.value=t.value.slice(0,500),e=500),i.textContent=e,e<200?"red"!==i.style.color&&(i.style.color="red"):"green"!==i.style.color&&(i.style.color="green")}n(e),t.addEventListener("input",(function(){n(e=this.value.length)}))},init_step3:function(){var t=document.getElementById("step-3-form"),e=!0,i=t.querySelector(".v-reg-after-next-btn");i.setAttribute("type","button"),i.addEventListener("click",(function(i){if(!e)return i.preventDefault(),t.querySelector(".v-reg-after-social-bg-purple").classList.add("v-reg-after-social-bg-purple-blink"),vo.popup("Приєднайтесь до наших соцмереж"),void(e=!0);t.submit()}))},updateAvatar:function(t){$("img.v-profile-photo")[0].setAttribute("src",t)}},Core.office={copy:function(t){var e=document.createElement("span");e.textContent=$(t.target).text(),document.body.appendChild(e);var i=document.createRange();i.selectNode(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(i);try{document.execCommand("copy")?vo.popup("Посилання скопійовано"):vo.popup("Не вдалося скопіювати посилання")}catch(t){console.log("Oops, unable to copy")}n.removeAllRanges(),document.body.removeChild(e)},confirmLink:function(t){$("#is-confirm").val(t),$("#confirm-form").submit()}},Core.library={count:0,url:null,init_add:function(){vo.user_id||$("#library-add-form").find(":input").each((function(){function t(t){return vo.dlg.show('Будь ласка, <a href="/site/login">Увійдіть</a> або <a href="/site/registration">Зареєструйтесь</a></div>'),t.preventDefault(),t.stopPropagation(),!1}this.addEventListener("click",t,!0),this.addEventListener("mousedown",t,!0)}))},init_download:function(t,e){var i=20,n=setInterval((function(){if((i-=1)<=1){clearInterval(n),vo.ajax(null,"/ext/count/file-load",{file:e});var s=$("<button>").text("Завантажити файл").click((function(){location.href=t}));$(".v-download-main-block-title").empty().after(s,"Якщо завантаження не відбулось автоматично, натисніть кнопку."),location.href=t}$(".v-main-time").html("<b>"+Math.max(i,0)+"</b><span>секунд</span>")}),1e3)},load:function(t){vo.ajax(null,t,null,(function(e){void 0!==e.status?50===e.status||vo.library.url&&3===vo.library.count?(location.href=vo.library.url,setTimeout("vo.dlg.hide()",1500)):vo.library.timeaut=setTimeout(vo.library.load,5e3,t):void 0!==e.url?setTimeout("vo.dlg.hide()",1500):vo.dlg.hide()})),vo.library.count++},load_stop:function(){void 0!==vo.library.timeaut&&clearTimeout(vo.library.timeaut)},submitForm:function(t){var e=vo.library.getCheckedVal(".vr-class-i"),i=vo.library.getCheckedVal(".vr-type-i"),n=vo.library.getCheckedVal(".vr-cat-i"),s=$("#"+t);$("#vr-class-i").val(e.join("-")),$("#vr-type-i").val(i.join("-")),$("#vr-cat-i").val(n.join("-")),s.submit()},getCheckedVal:function(t){for(var e=$(t),i=0,n=e.length,s=[];i<n;i++){var a=$(e[i]);a.is(":checked")&&s.push(a.val())}return s},fb_share:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href;$(".js-fb-share").attr("href","https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(t))}},Core.group={deleteAlbum:function(t,e,i,n){vo.dlg.confirm(t,"Видалити альбом","Ви впевнені, що хочете видалити альбом "+i+" в якому знаходиться "+n+" фото?",(function(){vo.ajax(t,"/ext/group/album-delete",{id:e})}))},deleteNewsFeed:function(t,e){vo.dlg.confirm(t,"Видалити запис з групи","Ви впевнені, що хочете видалити запис зі сторінки школи? При видаленні запису рейтинг нарахований за нього залишиться.",(function(){vo.ajax(t,"/ext/group/delete-news-feed",{id:e})}))}},Core.course={init:function(){var t=$(".v-main-header");$(".anchor").each((function(){var e=$($(this).attr("href")).addClass("anchor-target");$(this).click((function(){return $("body,html").animate({scrollTop:e.offset().top-t.height()-42},"slow"),!1}))})),$(window).scroll((function(){var e=$(".anchor-target").map((function(){return{top:$(this).offset().top,el:this}})).toArray();$("a.anchor").removeClass("active");for(var i=0;i<e.length;++i){if(e[i].top>$(window).scrollTop()+t.height()+42+100)break}var n=e[i-1];n&&$("a.anchor[href='#"+n.el.id+"']").addClass("active")}));var e=$(window),i=$(".i-header-clone"),n=$(".v-course-nav"),s=n.parent(),a=!1,r=!1;function o(){if(!r){var t=e.scrollTop(),o=s.offset().top,c=i.height();t>o-c?a||(a=!0,n.addClass("v-course-nav-fixed").css({position:"fixed",top:-n.height()}).stop(!0).animate({top:c})):a&&(a=!1,n.removeClass("v-course-nav-fixed").css({position:""}))}}function c(){n.css({top:i.height()}),e.width()<992?(s.css({height:""}),r=!0,a=!1,n.removeClass("v-course-nav-fixed").css({position:"",top:""})):(s.css({height:n.height()}),r&&o(),r=!1)}setTimeout((function(){i=$(".i-header-clone"),o(),c(),e.scroll(o),e.resize(c)}),500)},init_sidebar:function(t){jQuery("#course-search-form input").on("change",(function(){vo.course.submitSearchForm()})),$(".v-filter-library-title").click((function(){$(window).width()<=900&&($(this).next(".v-filter-course-check").toggleClass("open"),$(this).toggleClass("open"))}))},submitSearchForm:function(t){var e=jQuery("#course-search-form");0!==$("#course-search-form input:checked").length?e.submit():window.location.href=t},initChangeUrlListener:function(t){window.onpopstate=function(e){var i=e.state?e.state.url_ajax:t;vo.ajax(e,i,{},(function(){i&&vo.course.goToAnchor(i)}))}},openThemeByUrl:function(t,e,i){vo.ajax(t,e,{},(function(){window.location.href!==i&&window.history.pushState({url_ajax:e},"",i),i&&vo.course.goToAnchor(i)}))},goToAnchor:function(t){var e=t.match(_wrapRegExp(/[&\?\|]anchor=([0-9A-Z_a-z]+)&?/,{anchor:1})),i=e?e.groups.anchor:null;i||(e=t.match(_wrapRegExp(/[&\?\|]id=([0-9]+)&?/,{anchor:1})),i=e?"vr-ct-"+e.groups.anchor:null),i&&setTimeout((function(){vo.scrollTo("#"+i)}),300)},refreshBlock:function(t,e){vo.ajax(t,"/ext/course/refresh-block?id_block="+e,{},(function(){vo.scrollTo("#course_block_"+e)}))}},Core.seminar={init:function(){init_init_owl_carousel("#rk-bs-carousel",{margin:4,loop:!1,nav:!0,responsive:{0:{items:1},600:{items:2},1e3:{items:3},1100:{items:4}}})}},Core.conference={initSlider:function(t){init_init_owl_carousel(t,{margin:6,loop:!1,nav:!0,items:5,responsive:{0:{items:1},600:{items:3},1e3:{items:5}}})},init_1:function(t){init_init_owl_carousel("#rk-bs-carousel"),init_init_owl_carousel("#rk-bs-carousel2",{margin:0,loop:!1,autoWidth:!0,nav:!0,items:4});var e=document.querySelector(".v-conf-publication-price-count-arrow.left"),i=document.querySelector(".v-conf-publication-price-count-arrow.right"),n=document.querySelector("#vr-cnt-print"),s=document.querySelector("#rk-discount_price");function a(){var e=parseInt(n.value);e<1?n.value=1:e>999&&(n.value=999);var i,a=(i=n.value,t*parseInt(i));s.textContent=a==a?a:t}e&&e.addEventListener("click",(function(){n.value=parseInt(n.value)-1,a()})),i&&i.addEventListener("click",(function(){n.value=parseInt(n.value)+1,a()})),n&&n.addEventListener("input",(function(){this.value.match(/\D/i)&&(this.value=this.value.replace(/\D/i,"")),a()}))},init_2:function(){var t=document.querySelector("#publicitem-goal_of_work");if(t){var e=t.value.length,i=document.querySelector(".rk-textarea-value__length");r(e),t.addEventListener("input",(function(){r(e=this.value.length)}));var n=document.querySelector("#publicitem-description"),s=t.value.length,a=document.querySelector(".rk-textarea-value__length_description");o(s),n.addEventListener("input",(function(){o(s=this.value.length)}))}function r(e){e>300&&(t.value=t.value.slice(0,300),e=300),i&&(i.textContent=e,"green"!==i.style.color&&(i.style.color="green"))}function o(t){t>500&&(n.value=n.value.slice(0,500),t=500),a.textContent=t,t<300?"red"!==a.style.color&&(a.style.color="red"):"green"!==a.style.color&&(a.style.color="green")}},init_gif:function(t){if(console.log("GIF INIT"),function(t,e,i,n){for(n=(e=document.cookie.split("; ")).length-1;n>=0;n--)if((i=e[n].split("="))[0]===t)return i[1]}("ag-conference-online-block")!==t){var e=$("#ag-conference-online-block"),i=e.find("img");i.prop("complete")?e.slideDown():i.on("load",(function(){e.slideDown()}))}},gif_hide:function(t,e){var i=new Date;i.setTime(i.getTime()+72e5),$("#ag-conference-online-block").hide(),document.cookie="ag-conference-online-block="+e+"; expires="+i+"; path=/",t.preventDefault()}},Core.lp={init_help:function(t,e,i){var n=document.getElementById(t),s=document.getElementById(e),a=document.getElementById(i);if(!n||!s)return!1;Object(_utils__WEBPACK_IMPORTED_MODULE_1__.o)(!1)?s.addEventListener("click",(function(t){var e=String(n.value).trim();if(!e)return vo.popup("Будь ласка, напишіть своє запитання автору...");vo.ajax(t,"/help/send-msg",{message:e},(function(t){t&&"message"in t&&"id"in t.message&&(s.style.display="none",n.style.display="none",a.style.display="block")}))})):(n.addEventListener("focus",(function(t){Object(_utils__WEBPACK_IMPORTED_MODULE_1__.o)()})),n.addEventListener("input",(function(t){t.target.value=""})),s.addEventListener("click",(function(t){Object(_utils__WEBPACK_IMPORTED_MODULE_1__.o)()})))},init_saint_nicholas_2020:function(){var t=$("#vr-btn-agree");t&&($(".vr-checkbox-agree").on("change",(function(e){3===$(".vr-checkbox-agree:checked").length?t.removeClass("n-sn-btn-red"):t.addClass("n-sn-btn-red")})),t.on("click",(function(t){3===$(".vr-checkbox-agree:checked").length?vo.ajax(t,"/site/doc-accept",{id_lp:27,prop:"id_doc_accept",i_agree:1}):vo.popup("Прийміть положення та погодьтеся з умовами акції!")})))}},Core.cookie={get:function(t){var e,i,n;for(n=(e=document.cookie.split("; ")).length-1;n>=0;n--)if((i=e[n].split("="))[0]===t)return i[1]},set:function(t,e,i){var n=new Date;n.setTime(n.getTime()+1e3*i),document.cookie=t+"="+e+"; expires="+n.toUTCString()+"; path=/"},delete:function(t){vo.cookie.set(t,"",-86400)}},Core.cert={show_cert_list:function(t,e,i,n,s,a){var r=$(e),o=r.filter((function(t,e){return"none"===$(e).css("display")}));if(!o.length&&n)return vo.scrollTo(n),void vo.popup(s?"Уточніть параметри пошуку":"Скористайтеся формою для пошуку виданих документів про підвищення кваліфікації");for(var c=0;c<i;c++)vo.slideToggle(o[c],"slow");(o=(r=$(e)).filter((function(t,e){return"none"===$(e).css("display")}))).length||a||vo.hide(t.target)}},Core.market={init_vseosvita:function(t){var e=$(t);e&&($("#market-sort, #market-c").on("change",(function(t){e.submit()})),$("#market-title").on("keypress",(function(t){13==t.which&&e.submit()})),$("#market-reset").on("click",(function(t){window.location.href=window.location.origin+window.location.pathname})))}},Core.yii={yiiGridView:function(t,e){return jQuery(t).yiiGridView(e)}},Core.api=_API_API__WEBPACK_IMPORTED_MODULE_2__.a,Core.init={},init()})(),window.vo_init=function(t){vo.set(t);var e=socket_io_client__WEBPACK_IMPORTED_MODULE_0___default()(vo.url_socket);(vo.socket={connection:e,events:$({}),join:function(t,i,n){e.emit("join-comments",{obj_type:t,obj_id:i,obj_sub_id:n,id_user:vo.user_id})}},e.on("mess",(function(t){if("room-dialog-clear"!==t.action)if("room-comment-clear"!==t.action)if("msg-add"!==t.action)t.action&&vo.socket.events.trigger(t.action,t);else{var e=t.dataMsg;e&&e.id_user_to?vo.socket.events.trigger("message",t):vo.socket.events.trigger("comment",t)}else vo.socket.events.trigger("clear",t);else vo.socket.events.trigger("clear",t)})),e.on("connect",(function(t){e.emit("join",{id_user:vo.user_id}),vo.test_config_id&&vo.test_session_id&&e.emit("join-test",{test_config_id:vo.test_config_id,test_session_id:vo.test_session_id})})),e.on("disconnect",(function(t){console.log("disconnect",t)})),e.on("error",(function(t){console.log("error",t)})),e.on("errors",(function(t){console.log("chat-error",t)})),vo.user_id)&&$("<div>",{css:{position:"fixed",bottom:10,zIndex:9999,left:20},class:""}).appendTo("body").notifications();var i=document.createElement("div");i.style.overflowY="scroll",i.style.width="50px",i.style.height="50px",i.style.visibility="hidden",document.body.appendChild(i),vo.dlg.scroll_width=i.offsetWidth-i.clientWidth,document.body.removeChild(i),$(window).scroll((function(){var t=$("#toTop");0!==$(this).scrollTop()?t.fadeIn():t.fadeOut();var e=$("footer");t.length&&e.length&&t.offset().top+t.height()>e.offset().top?t.css({color:"white"}):t.css({color:""})})),$("#toTop").click((function(){$("body,html").stop().animate({scrollTop:0},800)}));var n=/(\d+)x(\d+)\.\w+$/;$(".achievement-img").each((function(){var t=this.src,e=!1;if(t&&(e=t.match(n)),!this.complete){var i=$(this);e&&i.css({width:e[1],height:e[2]}),i.on("load",(function(){i.css({width:"",height:""})}))}})),$(".v-filter-library-title").click((function(){$(window).width()<=900&&$(this).next("ul").toggleClass("open")}))}}).call(this,__webpack_require__(4),__webpack_require__(4))},72:function(t,e,i){"use strict";(function(t){i(128);t((function(){window.vo&&(vo.fixSidebar=function(){t(".theiaStickySidebar").each((function(){var e=t(this).parent().data("theia");t(this).css({position:"static"}),void 0!==e&&e.onScroll(e)}))});var e=t(".theiaStickySidebar");e.length&&t.fn.theiaStickySidebar&&e.each((function(){var e={additionalMarginTop:t(this).data("theia-margin-top"),additionalMarginBottom:t(this).data("theia-margin-bottom"),minWidth:t(this).data("theia-minwidth"),updateSidebarHeight:!1,containerSelector:t(this).data("theia-container")};t(this).parent().theiaStickySidebar(e)}))}))}).call(this,i(4))},73:function(t,e,i){"use strict";(function(t){var e=i(1);t.fn.notifications=function(i){i=t.extend({templateMsg:"<div style='width:280px;background:white;' class='v-message-all-popup'><div class='v-row'><div class='v-col-3'><img src='{{avatar}}' class='v-message-all-popup-img'></div><div class='v-col-9 v-col-last'><i class='v-icon v-icon-user'></i><span class='v-message-all-popup-name'><a href='{{profileUrl}}'>{{name}}</a></span><div><span class='i-text-limit v-message-all-popup-text'>{{text}}</span></div></div></div><a href='{{url}}' class='v-hidden-link'></a><a href='javascript:void(0);' class='v-message-all-popup-close i-button-close'><span>✖</span></a></div>",classes:"",id:""},i);var n=vo.socket;var s=this,a=vo.notifications={users:{},views:{},list:[],openDialogUserId:null,openRoomId:null,openRoom:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.openRoomId=[t,e,i].join("-")},show:function(e){e.avatar||(e.avatar=vo.user_no_avatar),!e.url&&e.senderId&&(e.url="/profile/messages?user="+e.senderId),e.text&&e.text.length>280&&(e.text=e.text.slice(0,280)+"...");var n,r,o=t((n=i.templateMsg,r=e,n.replace(/{{\s*(\w+)\s*}}/g,(function(t,e){return r[e]})))),c={id:e.id,view:o,senderId:e.senderId};a.list.push(c),s.prepend(o);for(var l=o.find(".i-text-limit");o.outerHeight()>270;)l.text((function(t,e){return e.replace(/\s*\S+\s*$/,"...")}));if(o[0]){var u=o[0].getBoundingClientRect(),d=t(".v-main-header").eq(1).height();if(u&&u.top<=d){var p=a.list[0];p&&a._removeEntry(p,0)}}o.find(".i-button-close").click((function(){a._removeEntry(c)}))},hide:function(t){for(var e=a.list,i=e.length-1;i>=0;--i){var n=e[i];+n.id==+t&&a._removeEntry(n,i)}},removeSenderViews:function(t){for(var e=a.list,i=e.length-1;i>=0;--i){var n=e[i];+n.senderId==+t&&a._removeEntry(n,i)}},_removeEntry:function(t,e){a.list.splice(e,1),t.view.slideUp().queue((function(e){t.view.remove(),e()}))}};function r(t){if(vo.updateBadges(t),window.localStorage)try{localStorage.setItem("i-feed-badges",JSON.stringify(t))}catch(t){localStorage.clear()}}function o(t,i){var n=i.dataUser,s=i.dataMsg;if(n||s){var r=parseInt(s.id_user,10);if(r!==vo.user_id&&r!==a.openDialogUserId){var o;if(1!=+s.obj_type){if([s.obj_type,s.obj_id,s.obj_sub_id].join("-")===a.openRoomId)return;var c=i.dataRoom;o=c&&c.url||i.dataUrl,o+="#comments/"+s.id}else o="/profile/messages?user="+r;var l,u,d,p=n[r],v=(l=p.avatar)?(u=u||90,d=d||u,l=l.replace(/(\.\w+)$/,(function(t){return"-"+u+"x"+d+t})),Object(e.u)(l)+"/"+l):vo.user_no_avatar,f="/user/id"+p.id_user;a.show({name:p.full_name,text:s.msg.split("<attachment />")[0],id:s.id,avatar:v,senderId:r,url:o,profileUrl:f}),setTimeout((function(){return a.hide(s.id)}),5e3)}}}this.data({notifications:!0}),n.events.on("message",o),n.events.on("comment",o),n.events.on("clear",(function(t,e){e.dataUnread&&r(e.dataUnread);var i=e.dataRoom;i&&a.removeSenderViews(i.id_user_to)})),vo.ajax(null,vo.url_msg+"/ext/core/count",null,r)}}).call(this,i(4))},74:function(t,e,i){"use strict";(function(t){var e=i(52),n=i(1);t.fn.messageSendForm=function(i){i=t.extend({user_id:0},i),this.each((function(){var n,s;(s=t(n=this).data("editor"))||(s=new e.a({data:{id_user_to:i.user_id},el:n})).$on("sent",(function(){vo.dlg.hide()})),t(n).data("editor",s)}))},window.messageSendOpenDialog=function(e){vo.user_id!==+e&&Object(n.o)()&&(vo.dlg.show("<div id='i-message-send-edit'></div>"),t("#i-message-send-edit").messageSendForm({user_id:e}))}}).call(this,i(4))},75:function(t,e,i){"use strict";var n=i(25);i.n(n).a},76:function(t,e,i){(function(t){t((function(){"use strict";var e=t(".v-main-header"),i=t(".i-container"),n=t(".v-header-main-section"),s=t("header>.container").children().first(),a=(t(".theiaStickySidebar").parents(),t(".i-profile-menu")),r=".v-profile-menu-nav",o=t(r);s.css({background:"transparent"}),n.css({position:"relative"}),document.querySelector("body").insertAdjacentHTML("beforeEnd","\n        <style>\n            ".concat(r,"{\n                overflow: auto;\n         \n            }\n            ").concat(r,"::-webkit-scrollbar {\n              width: 5px;\n            }\n            ").concat(r,"::-webkit-scrollbar-track {\n              background: rgba(0, 0, 0, .2);\n            }\n            ").concat(r,"::-webkit-scrollbar-thumb {\n              background: #f9d800;\n            }\n            ").concat(r," {\n                scrollbar-color: #f9d800 rgba(0, 0, 0, .2);\n                scrollbar-width: thin;\n            }\n        </style>   \n        "));var c,l=e.find(".v-main-menu"),u={position:"fixed",width:"100%",zIndex:100,transition:"none 0s ease 0s"};function d(){var t=document.documentElement.clientHeight;[].forEach.call(a,(function(e,i){t-170<c&&(o[i].style.setProperty("padding","10px"),o[i].style.setProperty("overflow","auto"),e.style.setProperty("height","".concat(t-170,"px")),o[i].style.setProperty("height","".concat(t-170,"px")))}))}function p(){var n=t(document.scrollingElement||"body").scrollTop(),s=e.height(),a=e.hasClass("i-fixed");t(window).width()>2&&(l.removeAttr("style"),t(".v-action-month-btn").removeAttr("style"),t(".v-tel").removeAttr("style"),n>s?a||(i.css("margin-top",e.height()),e.css({top:-e.height()}),e.css(u).stop(!0).animate({top:0}),e.addClass("i-fixed"),e.addClass("v-main-header-scroll")):a&&(i.css("margin-top",0),e.css({position:"relative"}),e.removeClass("i-fixed"),e.removeClass("v-main-header-scroll")))}function v(){var t=e.height();window.__theia_sidebars&&window.__theia_sidebars.each((function(){this.options.additionalMarginTop=t+42}))}[].forEach.call(a,(function(t){t.style.setProperty("visibility","hidden"),t.style.setProperty("display","flex");var e=t.getBoundingClientRect().height;c=e>0?e:c,t.style.setProperty("display","none"),t.style.removeProperty("visibility")})),d(),window.addEventListener("resize",(function(t){d()})),p(),t(window).scroll(p),t(window).resize(p),t(window).resize(v),v(),t(".v-icon-toggle-trigger").mouseenter((function(){t(window).width()>991&&(t(this).closest(".v-profile").find(".i-profile-menu").stop(!0).slideDown({}).css({zIndex:9}),t(this).closest(".i-profile-menu-button").addClass("open"))})),t(".i-profile-menu-button").mouseleave((function(){t(document).width()>991&&(t(this).find(".v-profile").find(".i-profile-menu").stop(!0).slideUp().css({zIndex:1}),t(this).removeClass("open"))})),t(".v-icon-toggle-trigger").click((function(){t(document).width()<=991&&(t(this).closest(".i-profile-menu-button").hasClass("open")?(t(this).closest(".v-profile").find(".i-profile-menu").slideUp().css({}),t(this).closest(".i-profile-menu-button").removeClass("open")):(t(this).closest(".i-profile-menu-button").addClass("open"),t(this).closest(".v-profile").find(".i-profile-menu").stop(!0).slideDown().css({zIndex:9})))})),t(".anchor").each((function(){var i=t(t(this).attr("href")).addClass("anchor-target");t(this).click((function(){return t("body,html").animate({scrollTop:i.offset().top-e.height()-42},"slow"),!1}))})),t(window).scroll((function(){var i=t(".anchor-target").map((function(){return{top:t(this).offset().top,el:this}})).toArray();t("a.anchor").removeClass("active");for(var n=0;n<i.length;++n){if(i[n].top>t(window).scrollTop()+e.height()+42+100)break}var s=i[n-1];s&&t("a.anchor[href='#"+s.el.id+"']").addClass("active")})),t(".v-toggle-button").click((function(){return t(".v-hide-on-mobile").slideToggle(v),!1})),t(".v-toggle-button-kab").click((function(){return t(".v-hide-on-mobile-kab").slideToggle(v),!1})),t(document).on("click",'a[href^="#"]',(function(e){var i=this.getAttribute("href");if(i.length>1&&i.indexOf("/")<0){var n=t(i);n.length&&vo.scrollTo(n)}})),t(".q").on("click",(function(){t(this).parent().find("div").toggle();t(this).toggleClass("clicked")})),t(".qn").on("click",(function(){var e=t(this).parent();if(e){var i=e.find("div");i&&i.toggle(),e.toggleClass("clicked")}}))}))}).call(this,i(4))},77:function(module,exports,__webpack_require__){(function($){window.initCountdownTimer=function(options){options=$.extend({timerEnd:0,timerStart:0,days:"#i-rating-countdown-days",hours:"#i-rating-countdown-hours",minutes:"#i-rating-countdown-minutes",seconds:"#i-rating-countdown-seconds",animateCircles:!0,padLeft:!1,padDays:void 0,insertDirectly:!1,insertDirectlyDays:void 0,callback:void 0},options);var end=Date.now()+1e3*(options.timerEnd-options.timerStart);function getWeekEndTime(){var t=new Date;return t.setHours(23,59,59),t.setDate(t.getDate()-t.getDay()+7),t.getTime()}function padLeft(t){return t<10?"0"+t:t}var $days=$(options.days),$hours=$(options.hours),$minutes=$(options.minutes),$seconds=$(options.seconds);function switchAnimation(t,e){var i=e?"all 1s linear 0s":"none";t.find(".i-cd-circle").css("transition",i)}function setCircleProgress(t,e){var i=2*parseFloat(t.css("r")||t.attr("r"))*Math.PI;t.css("stroke-dasharray",i+"px"),t.css("stroke-dashoffset",i*e+"px")}function setCD(t,e,i,n,s,a){var r=e;s&&(r=padLeft(e)),a?t.text(r):(t.find(".i-cd-number").text(r),t.find(".i-cd-word").text(vo.numerize(e,n))),options.animateCircles&&(e===i-1?(switchAnimation(t,0),setCircleProgress(t.find(".i-cd-circle"),1/i),setTimeout((function(){switchAnimation(t,1)}),20)):(switchAnimation(t,1),setCircleProgress(t.find(".i-cd-circle"),1-e/i)))}function breakTime(t){return{seconds:(t=Math.floor(t/1e3))%60,minutes:Math.floor(t/60)%60,hours:Math.floor(t/60/60)%24,days:Math.floor(t/60/60/24)}}var isCallbackCalled=!1;function update(){var now=Date.now(),msLeft=end-now;if(msLeft<0)isCallbackCalled||void 0===options.callback||(isCallbackCalled=!0,eval(options.callback));else{var timeLeft=breakTime(msLeft),padLeftDays=void 0===options.padDays?options.padLeft:options.padDays,insertDirectlyDays=void 0===options.insertDirectly?options.insertDirectly:options.insertDirectlyDays;setCD($days,timeLeft.days,30,["день","дні","днів"],padLeftDays,insertDirectlyDays),setCD($hours,timeLeft.hours,24,["година","години","годин"],options.padLeft,options.insertDirectly),setCD($minutes,timeLeft.minutes,60,["хвилина","хвилини","хвилин"],options.padLeft,options.insertDirectly),setCD($seconds,timeLeft.seconds,60,["секунда","секунди","секунд"],options.padLeft,options.insertDirectly)}}setInterval(update,200),update(),options.animateCircles&&switchAnimation($days.add($hours).add($minutes).add($seconds),0)},window.initCountdownTimerShort=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#i-countdown",s=i?"-"+i:"";return initCountdownTimer({timerEnd:parseInt(e),timerStart:parseInt(t),days:n+"-days"+s,hours:n+"-hours"+s,minutes:n+"-minutes"+s,seconds:n+"-seconds"+s,animateCircles:!0,padLeft:!0})}}).call(this,__webpack_require__(4))},78:function(t,e,i){(function(t){t.fn.mobMsgPopup=function(e){if(!(e=t.extend({showOn:".v-news-comments",padOn:".a-similar-news",paddingClass:"v-news-reg-banner-fixed",cookie:"i-news-popup-disabled",timeout:"midnight",guestsOnly:!1,contAdd:""},e)).guestsOnly||!vo.user_id){e.cookie;if(e.contAdd){var i=this,n=t(e.showOn),s=t(window),a=t(".footer"),r=t(e.padOn);r.length||(r=n),i.find(".ag-content").html(e.contAdd),i.slideDown("slow"),this.find(".i-close").click((function(){i.slideUp().queue((function(t){o(),t()})),i.removeClass("show"),r.removeClass(e.paddingClass),s.off("scroll resize",c),o(),vo.ajax(null,"/ext/user/msg-close",null)}))}}function o(){if(i.is(":visible"))var e=i.height()+20;else e=0;t(".theiaStickySidebar").css({paddingBottom:e}),vo.fixSidebar&&vo.fixSidebar()}function c(){var t=n.offset();if(t){var c=s.scrollTop()+s.height();t.top<c&&(i.slideDown("slow").queue((function(t){o(),t()})),r.addClass(e.paddingClass))}var l=a.offset();l&&(l.top<c?i.css({bottom:c-l.top}):i.css({bottom:0}))}}}).call(this,i(4))},79:function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var n={qs:function(t,e){return"all"===e?document.querySelectorAll(t):document.querySelector(t)},h:function(t){return this.qs(t).offsetHeight}},s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.className=e.className,this.category_title=e.category_title,this.id_class=e.id_class,this.bannerContent=e.bannerContent,this.bannerFooter=e.bannerFooter,this.bannerFooterLink=e.bannerFooterLink,this.bannerOverlayTop=e.bannerOverlayTop,this.bannerOverlayBottom=e.bannerOverlayBottom,this.bannerTop=e.bannerTop,this.bannerPreloader=e.bannerPreloader,this.subjectName=e.subjectName,this.wholeBanner=e.wholeBanner,this.banner_olp_url=e.banner_olp_url,this.checkContentHeight=this.checkContentHeight.bind(this),this.resetContentHeight=this.resetContentHeight.bind(this),this.resizeWhenImages=this.resizeWhenImages.bind(this),this.handleReceivedData=this.handleReceivedData.bind(this),this.hidePreloader=this.hidePreloader.bind(this),this.resumeBanner=this.resumeBanner.bind(this),this.toggleRotatePreloader=this.toggleRotatePreloader.bind(this),this.isContentOverflow=this.isContentOverflow.bind(this),this.is_touch_device=this.is_touch_device.bind(this),this.resizeOnTouch=this.resizeOnTouch.bind(this),this.cache={id_quest:[]},this.data={},this.isFirstTime=!0}var e,s,a;return e=t,(s=[{key:"questionTitleTemplate",value:function(t){return'<div class="v-test-questions-title">'.concat(t,"</div>")}},{key:"answerTemplate",value:function(t,e,i,n){return'<div class="v-lib-test-block-item"><input type="'.concat(t,'" name="').concat(e,'" value="').concat(n,'" id="answer-').concat(n,'">\n                <label for="answer-').concat(n,'">').concat(i,"</label></div>")}},{key:"questionTemplate",value:function(t){var e=this,i=t.answer_arr,n=t.id,s=t.quest_desc,a=t.quest_type,r="",o=1==a?"radio":"checkbox";return i.forEach((function(t,i){r+=e.answerTemplate(o,n,t,i)})),'<div class="rk-firstscreen v-lib-test-block">'.concat(this.questionTitleTemplate(s),'<div class="v-test-questions-').concat(a,'-block">').concat(r,"</div></div>")}},{key:"imgTemplate",value:function(t){return'<img src="'.concat(t,'">')}},{key:"setStaticBanner",value:function(t){var e=t.url,i=t.src,s=t.alt,a=this.wholeBanner,r='\n                <a href="'.concat(e,'" target="_blank">\n                    <img src="').concat(i,'"\n                     alt="').concat(s,'" class="v-banner-3">\n                </a>\n                ');n.qs(a).parentNode.innerHTML=r}},{key:"resumeBanner",value:function(){var t=this.bannerContent,e=this.data,i=e.olpSeriesModel.title,s=e.landingUrl,a='<div class="rk-resumescreen">\n                    <h3>Сподобалося проходити тестування?</h3>\n                    <p>Бери участь у новій олімпіаді <span style="font-weight: bold; font-size: 20px;">"'.concat(i,'"</span></p>\n                    <a href="').concat(s,'" target="_blank">Взяти участь</a>\n                </div>');n.qs(t).innerHTML="",n.qs(t).innerHTML=a}},{key:"is_touch_device",value:function(){return!!("ontouchstart"in window)}},{key:"resizeOnTouch",value:function(){this.is_touch_device()&&(this.resetContentHeight(),this.checkContentHeight(),this.resizeWhenImages("".concat(this.bannerContent," img")))}},{key:"isContentOverflow",value:function(){var t=this.bannerContent,e=this.bannerTop,i=this.wholeBanner,s=[n.h(e),n.h(i),n.h(t)],a=s[2],r=s[1]-s[0];return a>r&&a-r}},{key:"checkContentHeight",value:function(t){var e=this||t,i=e.isContentOverflow,s=e.wholeBanner,a=n.h(s),r=i();r?n.qs(s).style.height="".concat(a+r,"px"):n.qs(s).style.height&&n.qs(s).style.height>0&&(n.qs(s).style.height="")}},{key:"resetContentHeight",value:function(t){var e=(this||t).wholeBanner,i=n.qs(e);i.style.height&&i.style.height.length>0&&(i.style.height="")}},{key:"resizeWhenImages",value:function(t){var e=n.qs(t,"all");if(e.length){var i=this.checkContentHeight;(0,this.resetContentHeight)(),[].forEach.call(e,(function(t){t.addEventListener("load",(function(t){setTimeout(i,200),setTimeout(i,1e3)}))}))}}},{key:"hidePreloader",value:function(){var t=this.bannerOverlayTop,e=this.bannerOverlayBottom,i=this.toggleRotatePreloader;function s(t){t&&t.classList.add("hide")}s(n.qs(t)),s(n.qs(e)),i("hide")}},{key:"toggleRotatePreloader",value:function(t){var e=this.bannerPreloader,i=(this.qs,this.wholeBanner),s=n.qs("".concat(i," ").concat(e));"show"===t?s||(n.qs(i).insertAdjacentHTML("afterbegin",'<div class="rk-banner__preloader hide"></div>'),n.qs("".concat(i," ").concat(e)).classList.remove("hide")):s&&(n.qs(e).classList.add("hide"),setTimeout((function(){n.qs(e).remove()}),300))}},{key:"updateHeaderAndFooter",value:function(t,e,i){var s,a=this.bannerFooterLink,r=this.className,o=this.subjectName;switch(this.qs,e){case-2:s="дошкільнята (3-4 роки)";break;case-1:s="дошкільнята (5-6 років)";break;case 0:s="";break;case 13:s="дорослі";break;default:s="".concat(e," кл.")}""!==s&&(s=" (".concat(s,")")),n.qs(o).textContent=t,n.qs(r).textContent=s,n.qs(a).href=i}},{key:"updateContent",value:function(t){var e=this.bannerContent,i=this.resizeOnTouch,s=this.resizeWhenImages;n.qs("".concat(e," .rk-banner__aftertest"))&&(n.qs(e).innerHTML=""),n.qs(e).insertAdjacentHTML("afterbegin",t),this.is_touch_device()?i():this.isFirstTime?this.isFirstTime=!1:s("".concat(e," img"))}},{key:"addListeners",value:function(t){var e=this,i=t.answer_arr,s=t.answer_set_true,a=t.quest_explain,r=t.quest_type,o=this,c=o.cache,l=o.checkContentHeight,u=o.bannerContent,d=o.banner_olp_url,p=o.data,v=o.fetchInfo,f=o.imgTemplate,h=(o.qs,o.resetContentHeight),_=o.resizeWhenImages,m=o.resumeBanner,g=o.toggleRotatePreloader,y=o.wholeBanner,b=c.id_quest,w=p.landingUrl,C=p.certUrl,k=n.qs(".v-test-questions-".concat(r,"-block input"),"all");[].forEach.call(k,(function(t){t.addEventListener("change",(function t(e){g("show");var r=e.target.value,c=s.some((function(t){return t==r}));[].forEach.call(k,(function(e){e.removeEventListener("change",t),e.disabled=!0})),setTimeout((function(){if(c)n.qs(u).insertAdjacentHTML("beforeend",'\n                                    <div class="rk-banner__aftertest rk-banner__aftertest-success"><div class="v-banner-aftertest-title">Зараховано</div><div class="v-row-f"><div class="v-col-img">'.concat(f(C),'<p>Ви маєте можливість отримати саме цей диплом переможця олімпіади.</p><p>Для цього Вам потрібно лише взяти участь в <a href="').concat(w,'" target="_blank">олімпіаді</a>.</p></div></div><div class="v-align-center"><button class="rk-banner__try">Спробувати ще раз</button></div></div>'));else{var t="";s.forEach((function(e){t+=!t.length>0?i[e]:", ".concat(i[e])})),a&&a.length>0?n.qs(u).insertAdjacentHTML("beforeend",'<div class="rk-banner__correct-wrap rk-banner__aftertest rk-banner__aftertest-failure v-list-pupils-answers"><div class="v-banner-aftertest-title">Не зараховано</div><div class="v-correct-answer">Правильна відповідь:</div><div>'.concat(t,'</div>\n                                        <div class="v-answer-desc">Пояснення:</div><div>').concat(a,'</div><div class="v-align-center">\n<button class="rk-banner__try">Спробувати ще раз</button></div>\n                                    </div>')):n.qs(u).insertAdjacentHTML("beforeend",'<div class="rk-banner__correct-wrap rk-banner__aftertest rk-banner__aftertest-failure v-list-pupils-answers"><div class="v-banner-aftertest-title">Не зараховано</div><div class="v-correct-answer">Правильна відповідь:</div><div>'.concat(t,'</div><div class="v-align-center"><button class="rk-banner__try">Спробувати ще раз</button></div></div>'))}n.qs("".concat(u," .rk-firstscreen")).classList.add("answered"),h(),l(),setTimeout((function(){l()}),200),setTimeout((function(){l()}),500),_("".concat(u," .rk-banner__aftertest img")),n.qs("".concat(u," .rk-banner__try")).addEventListener("click",(function(t){t.preventDefault(),h(),l(),setTimeout((function(){l()}),200),setTimeout((function(){l()}),500),_("".concat(u," .rk-banner__aftertest img")),b.length>2?m():(g("show"),v(d,o))})),g("hide")}),500)}))})),n.qs(y).addEventListener("mouseenter",(function(t){l()})),n.qs(y).addEventListener("mouseleave",(function(t){e.resetContentHeight()}))}},{key:"handleReceivedData",value:function(t){var e=t.staticBanner;if(e)this.setStaticBanner(e);else{var i=t.landingUrl,n=t.questModel,s=t.olpSubjectModel,a=t.testModel;this.data=t,this.updateHeaderAndFooter(s.title,a.obj_sub_id,i),this.updateContent(this.questionTemplate(n)),this.addListeners(n),this.cache.id_quest.push(n.id),this.cache.category_title=s.title,this.cache.id_class=a.obj_sub_id,this.resizeOnTouch()}}},{key:"fetchInfo",value:function(t,e){var i=t||this.banner_olp_url,n=e||this,s=n.cache,a=n.category_title,r=n.id_class,o=s.id_quest;r=s.id_class||r,a=s.category_title||a,vo.ajax(null,i,{category_title:a,id_class:r,id_quest:o},(function(t){n.handleReceivedData(t),n.hidePreloader()}),null,{enableButtonImmediately:!0})}},{key:"init",value:function(){this.fetchInfo()}}])&&i(e.prototype,s),a&&i(e,a),t}();vo.initBannerOlp=function(t){new s(t).init()}},8:function(t,e,i){"use strict";var n=function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"v-bar"})};n._withStripped=!0;var s={name:"Preloader"},a=i(0),r=Object(a.a)(s,n,[],!1,null,"29b55105",null);r.options.__file="js/components/Preloader.vue";e.a=r.exports},80:function(t,e,i){"use strict";(function(t){var e=i(1);t.fn.fileForm=function(i){var n={percent:".percent",progress:".progress",button:".button",cancel:".cancel",bar:".bar",preview:".preview",list:".items",file_list:"input[type=hidden]",item:".tpl_item",dragOverClass:"v-button-drag",url:"/upload",info:"/ext/file/info",name:"file",immediate:!0,multiple:!1,batchSize:1,accept:null,maxFileUpload:-1,std_tpl:"",tpl_presets:{file:"<div class='v-file-upload-block'><i class='v-success-icon'>✔</i>Файл, <a href='{file_url}' target='_blank'>{file}</a> <a data-delete class='v-delete-btn'>x</a></div>",files:"<div class='v-file-upload-block'><i class='v-success-icon'>✔</i>Файл, <a href='{file_url}' target='_blank'>{file}</a> <a data-delete class='v-delete-btn'>x</a></div>",files_error:"<div class='v-file-upload-block'><i class='v-success-icon'>🗙</i>Файл, {file}: {error}<a data-delete class='v-delete-btn'>x</a></div>",image:"<div><img style='height:90px' src='{file | resize(90x90) | url}'><a data-delete style='color:red;cursor: pointer;'>X</a></div>",images:"<div>images, {file}, {file_src}, {file_url}, {file_md5}, {file_sha1}, <img style='height:50px' src='{file | resize(50x50) | url}'><a data-delete style='color:red;cursor: pointer;'>X</a></div>",avatar:'<img src="{file | resize(220x220) | url}" alt="" class="v-profile-photo" onclick="vo.dlg.show($(\'<img>\').attr(\'src\', this.src))"><div class="i-update-spinner"><div class="i-loader"></div></div>',avatar_preview:'<img src="{file_url}" alt="" class="v-profile-photo">'},preset:"files",progressTemplate:'<div class="bar"></div><div class="percent"></div>',effect:{}};t.extend(n,i);var s=this.find(n.list),a=this.find(n.button),r=t("<input type='file'>").attr("name",n.name).prop("multiple",n.multiple).prop("accept",n.accept),o=this.find(n.progress);o.html().trim()||o.html(n.progressTemplate);var c=this.find(n.bar),l=this.find(n.percent);["absolute","relative"].indexOf(o.css("position"))<0&&o.css({position:"relative"}),c.css({height:"100%",width:"0",position:"absolute"}),l.css({zIndex:1,position:"relative"});var u=this.find(n.cancel),d=this,p={url:function(t){return Object(e.u)(t)+"/"+t},resize:function(t,e){return t.replace(/\.\w+$/,(function(t){return"-"+e+t}))},or:function(t,e,i){if(!t)return i[e]},image:function(t,e,i){return["png","jpg","jpeg","gif","bmp"].indexOf(i.file_ext)>=0?'<img src="'+t+'" style="width:200px;height:200px;object-fit:contain;">':""},copy:function(){return"this.nextElementSibling.select();if(document.execCommand('copy')){vo.popup('Скопійовано')}return false;"}};function v(e,i){var n=t(function(t,e,i){return t.replace(/{([^}]+)}/g,(function(t,n){var s=i?n:"",a=n.split("|"),r=e[a[0].trim()];return a.length>1&&a.slice(1).forEach((function(t){var i=t.match(/(\w+)\s*(\(([^)]+)\))?/),n=i[1],s=i[3];p[n]&&(r=p[n](r,s,e))})),void 0===r?s:r}))}(e,i,!0));n.find("[data-delete]").click((function(){n.remove(),g.remove(i.file)}));var s=n.find(".bar"),a=n.find(".percent");return n.on("progress",(function(t,e){s.css({width:e.value+"%"}),a.text(e.value+"%")})),n}function f(t){var e=t+"%";c.width(e),l.html(e)}function h(t,e){var i=t.indexOf(e);return i>=0&&t.splice(i,1),t}function _(t,e){return t.map((function(t){return t[e]||0})).reduce((function(t,e){return t+e}),0)}var m,g={input:this.find(n.file_list),clear:function(){this.input.val("")},add:function(t){var e,i=this.input.val();(e=i?i.split(","):[]).indexOf(t)<0&&e.push(t),this.input.val(e.join(","))},remove:function(t){var e=this.input.val();if(e){var i,n,s,a=(i=e.split(","),n=t,(s=i.indexOf(n))>=0&&(i=i.slice()).splice(s,1),i);this.input.val(a.join(","))}},get:function(){return this.input.val()}},y={batchSize:n.batchSize,inProgress:[],queue:[],list:[],events:t("<div>"),state:"stopped",uploadUrl:function(){return vo.url_cloud+"/ext/file/upload"},fileUrl:function(t){return Object(e.u)(t)+"/"+t},fileUrlOriginal:function(t){return Object(e.u)(t)+"/o/"+t},add:function(t){var e={file:t,total:t.size};this.queue.push(e),this.list.push(e),this._trySend()},addAll:function(e){var i=this;t.each(e,(function(t,e){i.add(e)}))},cancel:function(t){},stop:function(){if("stopped"!==this.state){this.state="stopped";var t=this._getSummary();this.events.trigger("finish",{files:t}),this.inProgress.splice(0,this.inProgress.length),this.queue.splice(0,this.queue.length),this.list.forEach((function(t){t.xhr&&t.xhr.abort("cancelled")})),this.list.splice(0,this.list.length)}},_send:function(e){var i=this;this.inProgress.push(e);var s=new FormData;s.append(n.name,""),s.append(n.name,e.file),t("<form>").attr("enctype","multipart/form-data").ajaxSubmit({type:"post",url:this.uploadUrl(),xhrFields:{withCredentials:!0},formData:s,beforeSend:function(t){e.xhr=t,i.events.trigger("before",{item:e})},uploadProgress:function(t,n,s,a){e.position=n,e.total=s,e.percentComplete=a;var r=_(i.list,"position"),o=_(i.list,"total"),c=Math.floor(_(i.list,"percentComplete")/i.list.length);i.events.trigger("progress",{item:e,all:{position:r,size:o,averagePercent:c}})},success:function(t){h(i.inProgress,e),e.status="success",i.events.trigger("complete:one",{file:e,response:t,url:i.fileUrl(t.data.file),url_original:i.fileUrlOriginal(t.data.file)}),i._trySend()},error:function(t,n){if("cancelled"===n)return i.events.trigger("cancel"),void i.stop();h(i.inProgress,e),e.status="error",i.events.trigger("error",{file:e,error:t}),i._trySend()}})},_trySend:function(){if(this.state="started",this.queue.length||this.inProgress.length||(this.events.trigger("complete:all"),this.stop()),this.inProgress.length<this.batchSize){var t=this.queue.shift();return t&&this._send(t),!0}},_getSummary:function(){return this.list.map((function(t){return{name:t.file.name,status:t.status}}))},fetchFileInfo:function(t){vo.ajax(null,Object(e.u)(t)+n.info,{file:t},(function(t){for(var e in t)t.hasOwnProperty(e)&&w(t[e])}))}};function b(t){if("avatar"===n.preset){var e=t[0];if(e){if(["image/gif","image/png","image/jpeg","image/bmp","image/webp"].indexOf(e.type)<0)return void vo.popup("Дозволено завантажувати тільки фотографії.")}}o.is(".i-effect-fade")?o.fadeIn("slow"):o.slideDown(),o.addClass("v-show"),a.prop("disabled",!0),f(0),d.addClass("uploading");var i=-1;if("number"==typeof n.maxFileUpload?i=n.maxFileUpload:"function"==typeof n.maxFileUpload&&(i=n.maxFileUpload()),"number"!=typeof i&&(i=-1),i>-1&&t.length>i){for(var s=[],r=0;r<i;r++)s.push(t[r]);t=s}y.addAll(t)}function w(e,i){var a=t.extend({},e,{file_url:y.fileUrl(e.file),file_url_original:y.fileUrlOriginal(e.file)}),r=v("custom"===n.preset?n.template||"":d.find(n.item).text()||n.tpl_presets[n.preset],a);i&&i.beforeAppend&&("function"==typeof i.beforeAppend?i.beforeAppend(r,e):"string"==typeof i.beforeAppend&&void 0!==window[i.beforeAppend]&&"function"==typeof window[i.beforeAppend]&&window[i.beforeAppend](r,e)),s.append(r)}y.events.on("before",(function(t,e){if("avatar"===n.preset){y.backup=s.html();var i=e.item.file,a=new FileReader,r=n.tpl_presets.avatar_preview;a.addEventListener("load",(function(){if(!e.item.loadingFinished){var t=a.result;s.empty(),g.clear();var n=window.URL||window.webkitURL,o=new Blob([t],{type:i.type}),c=n.createObjectURL(o);e.item.tempUrl=c;var l=v(r,{file_url:c});s.append(l)}})),a.readAsArrayBuffer(i)}})),y.events.on("progress",(function(t,e){f(e.all.averagePercent)})),y.events.on("complete:one",(function(t,e){if(n.multiple||(s.empty(),g.clear()),s.length){var i={beforeAppend:function(t,e){"avatar"===n.preset&&(t.find("img").add(t.filter("img")).on("load",(function(){d.find(".i-update-spinner").fadeOut()})),vo.ajax(null,"/profile/edit-avatar",{avatar:e.file}))}};n&&n.beforeAppend&&(i.beforeAppend=n.beforeAppend),w(e.response.data,i),d.find(".i-update-spinner").fadeIn()}g.add(e.response.data.file)})),y.events.on("complete:all",(function(){f(100)})),y.events.on("error",(function(t,e){var i;i=e.error.responseJSON?e.error.responseJSON.message:e.error.status+": "+e.error.statusText,vo.popup.error(i),"avatar"===n.preset&&s.html(y.backup)})),y.events.on("finish",(function(){var t=window.URL||window.webkitURL;y.list.forEach((function(e){e.tempUrl&&t.revokeObjectURL(e.tempUrl),e.loadingFinished=!0})),o.is(".i-effect-fade")?o.fadeOut("slow"):o.slideUp(),o.removeClass("v-show"),a.prop("disabled",!1),d.removeClass("uploading")})),r.change((function(){b(r[0].files),r.val("")})),a.click((function(){r.click()})),u.click((function(){y.stop()})),g.get()&&y.fetchFileInfo(g.get()),(m=a[0]).ondrop=function(t){m.classList.remove(n.dragOverClass),t.preventDefault();var e=t.dataTransfer,i=[];if(e.items)for(var s=0;s<e.items.length;s++)"file"===e.items[s].kind&&i.push(e.items[s].getAsFile());else for(s=0;s<e.files.length;s++)i.push(e.files[s]);i.length&&b(i)},m.ondragover=function(t){m.classList.add(n.dragOverClass),t.preventDefault()},m.ondragleave=function(){m.classList.remove(n.dragOverClass)},m.ondragend=function(t){m.classList.remove(n.dragOverClass);var e=t.dataTransfer;if(e.items)for(var i=0;i<e.items.length;i++)e.items.remove(i);else t.dataTransfer.clearData()},window.fileUploader=y},vo.initFileForm=function(e,i,n,s,a){var r=t(i);if(!r.data("i-file-form")){var o=["files","images","custom"].indexOf(n)>=0;r.fileForm({button:e,preset:n,multiple:o,template:s,accept:"image/gif, image/jpg, image/jpeg, image/png, image/bmp"}),r.data("i-file-form",!0),a&&e.click()}},vo.initFileFormOptions=function(e){var i=t(e.selector);i.data("i-file-form")||(e.multiple=["files","images","custom"].indexOf(e.preset)>=0,i.fileForm(e),i.data("i-file-form",!0),e.click&&e.element.click())}}).call(this,i(4))},81:function(t,e,i){(function(t){vo.upload={profile:{del:function(e){t(e).attr("src",vo.user_no_avatar),vo.ajax(null,"/profile/edit-avatar",{avatar:""})}},group:{VR_gallery:function(e,i,n){var s={selector:"#i-avatar",button:e,element:e,preset:"custom",multiple:!0,click:!0,maxFileUpload:function(){return i-t(".vr-image").length},template:n,accept:"image/gif, image/jpg, image/jpeg, image/png, image/bmp",beforeAppend:function(t,e){t.append('<input type="hidden" name="Album[upload_files][]" value="'+e.file+'">'),t.find("[data-delete]")[0].addEventListener("click",(function(t){vo.upload.group.controlUploadVisible(-1,i)})),vo.upload.group.controlUploadVisible(1,i)}};vo.initFileFormOptions(s)},controlUploadVisible:function(e,i){var n=t(".vr-image").length,s=t(".i-upload-button-album");if(n+e>=i)return s.hide(),void vo.popup("Максимальна кількість фото в одному альбомі "+i);"none"===s.css("display")&&s.show()},deleteImage:function(e,i){vo.dlg.confirm(null,"Видалити зображення","Ви впевнені, що хочете видалити фото?",(function(){vo.ajax(e,"/ext/group/album-delete-image",{id:i},(function(e){e.status&&"ok"===e.status&&(t(".vr-image-"+i).remove(),vo.upload.group.controlUploadVisible(-1))}))}))}}}}).call(this,i(4))},82:function(t,e,i){"use strict";(function(t){i(129),i(130),i(131);window.init_init_owl_carousel=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===i&&(i={margin:0,loop:!1,autoWidth:!0,nav:!0,items:5,responsive:{480:{items:1},600:{items:3},1e3:{items:5}}}),t(e).owlCarousel(i)}}).call(this,i(4))},820:function(t,e,i){"use strict";i.r(e);i(103),i(440)},83:function(t,e,i){"use strict";(function(t,e){var n=i(53);window.registrationForm=function(i,s){t((function(){e(i).each((function(){var t=e(this).data("messages");t||(t=new n.a({el:this,data:s&&s.data})),e(this).data("messages",t)}))}))}}).call(this,i(4),i(4))},84:function(t,e,i){(function(t){t.fn.schoolForm=function(e){return this.each((function(){var i=t(this);if(!i.data("school-form")){var n="person",s="school";e=t.extend({region:"",area:"",city:"",street:"",house:"",index:"",address:"",flat:"",school:"",schoolName:"",acStreet:"",acHouse:"",acIndex:"",mode:n,searchLocal:!0},e),i.data("school-form",!0);var a=w(e.region),r=w(e.area),o=w(e.city),c=w(e.street),l=w(e.house),u=w(e.index),d=w(e.school),p=w(e.address),v=w(e.flat),f=w(e.schoolName),h=w(e.acStreet),_=w(e.acHouse),m=w(e.acIndex),g=[{value:0,text:"..."}];P(c,h),P(l,_),P(u,m),a.change((function(){O(),this.value>0?I(this.value)?(e.mode===n&&x("street",{code:this.value},j(h,c,(function(t){b=t}))),e.mode===s&&T(this.value),C(o.prop("disabled",!0),[]),C(r.prop("disabled",!0),[]),r.prop("disabled",!0)):(o.prop("disabled",!1),r.prop("disabled",!1),x("area",{code:this.value},S(r)),x("city",{code:this.value},S(o))):(C(o.prop("disabled",!0),[]),C(r.prop("disabled",!0),[]))})),r.change((function(){O(),this.value>0?x("city",{code:this.value},S(o)):x("city",{code:a.val()},S(o))})),o.change((function(){O(),this.value>0&&(e.mode===n&&x("street",{code:this.value},j(h,c,(function(t){b=t}))),e.mode===s&&T(this.value))})),d.change((function(){this.value>0&&vo.ajax(null,"/ext/institutions/school-info",{code:this.value},(function(t){t&&(f.val(t.name),p.val(t.address),u.val(t.post_index))}))}));var y,b=[];c.length&&c[0].addEventListener("input",A),c.change(A),c.focus((function(){h.children().length&&h.show()})),l.focus((function(){_.children().length&&_.show()})),u.focus((function(){m.children().length&&m.show()})),i.click((function(e){var i=t(e.target);i.closest(c).length||h.hide(),i.closest(l).length||_.hide(),i.closest(u).length||m.hide()})),o.change(A),e.mode===s&&(o.val()>0&&(y=o.val()),I(a.val())&&(y=a.val()),y&&T(y))}function w(n){return e.searchLocal?i.find(n):t(n)}function C(e,i,n){var s=g;n&&(s=[{value:0,text:n}]);var a=t(e);a.empty().append(s.concat(i).map((function(e){return t("<option>").attr("value",e.value).text(e.text).prop("disabled",!!e.disabled)}))),a.val("0")}function k(e,i,n){e.empty().append(n.map((function(e){return t("<li>").text(e).click((function(){i.val(e),i.change(),i.is(c)&&h.hide(),i.is(l)&&_.hide(),i.is(u)&&m.hide()}))}))),i.is(":focus")&&e.show()}function x(t,e,i){if("/"===t[0])n=t;else var n="/ext/address/"+t;vo.ajax(null,n,e,(function(t){var e;if(t instanceof Array)e=t;else{for(var n in e=[],t)e.push({value:n,text:t[n]});e.sort((function(t,e){return t.text.localeCompare(e.text)}))}i(e)}))}function S(t,e){return function(i){C(t,i),C(e,[])}}function j(t,e,i){return function(n){k(t,e,n),i&&i(n)}}function P(t,e){t.focus((function(){e.show()})).blur((function(){setTimeout((function(){e.hide()}),200)})).each((function(){var t=e;this.addEventListener("input",function(t,e,i){var n,s,a,r,o;function c(){var l=Date.now()-r;l<e&&l>=0?n=setTimeout(c,e-l):(n=null,i||(o=t.apply(a,s),a=s=null))}null==e&&(e=100);var l=function(){a=this,s=arguments,r=Date.now();var l=i&&!n;return n||(n=setTimeout(c,e)),l&&(o=t.apply(a,s),a=s=null),o};return l.clear=function(){n&&(clearTimeout(n),n=null)},l.flush=function(){n&&(o=t.apply(a,s),a=s=null,clearTimeout(n),n=null)},l}((function(){var e=this.value.toLocaleLowerCase();t.children().filter((function(){return-1===this.textContent.toLocaleLowerCase().indexOf(e)})).hide(),t.children().filter((function(){return-1!==this.textContent.toLocaleLowerCase().indexOf(e)})).show()}),500))}))}function I(t){return["8000000000","8500000000"].indexOf(t)>=0}function O(){c.val(""),l.val(""),v.val(""),u.val(""),e.mode===s&&(p.val(""),f.val(""),C(d,[])),k(h,c,[]),k(_,l,[]),k(m,u,[])}function T(t){x("/ext/institutions/school",{code:t},(function(t){0===t.length?C(d,t,"Навчальний заклад не знайдено."):C(d,t)}))}function A(){var t=a.val(),e=I(t)?t:o.val(),i=c.val();-1!==b.indexOf(i)&&i&&e>0&&(x("house",{code:e,street:i},j(_,l)),x("post-code",{code:e,street:i},j(m,u)))}}))},window.init_schoolForm=function(e,i){return t(e).schoolForm(i)}}).call(this,i(4))},85:function(t,e,i){(function(t){t.fn.schoolFormSimple=function(e){return this.each((function(){var i=t(this);if(!i.data("school-form")){e=t.extend({region:"",area:"",city:"",school:"",searchLocal:!0,disableInputs:!1},e),i.data("school-form",!0);var n=l(e.region),s=l(e.area),a=l(e.city),r=l(e.school),o=e.form?l(e.form):i,c=[{value:0,text:"..."}];n.change((function(){f(),this.value>0?v(this.value)?(h(this.value),u(a.prop("disabled",!0),[]),u(s.prop("disabled",!0),[]),s.prop("disabled",!0)):(a.prop("disabled",!1),s.prop("disabled",!1),d("area",{code:this.value},p(s)),d("city",{code:this.value},p(a))):(u(a.prop("disabled",!0),[]),u(s.prop("disabled",!0),[]))})),s.change((function(){f(),this.value>0?d("city",{code:this.value},p(a)):d("city",{code:n.val()},p(a))})),a.change((function(){f(),this.value>0&&h(this.value)})),o.submit((function(){e.disableInputs&&(n.prop("disabled",!0),s.prop("disabled",!0),a.prop("disabled",!0))})),function(){if(e.data){var t=e.data.region,i=e.data.area,r=e.data.city,o=e.data.school;d("region",{},p(n,null,t)),v(t)?(h(t,o),u(a.prop("disabled",!0),[]),u(s.prop("disabled",!0),[])):(t&&t>0&&(d("area",{code:t},p(s,null,i)),(!i||i<1)&&d("city",{code:t},p(a,null,r))),i&&i>0&&d("city",{code:i},p(a,null,r)),r&&r>0&&h(r,o))}else a.val()>0&&(c=a.val()),v(n.val())&&(c=n.val()),c&&h(c),d("region",{},p(n));var c}()}function l(n){return e.searchLocal?i.find(n):t(n)}function u(e,i,n,s){var a=c;n&&(a=[{value:0,text:n}]);var r=t(e);r.empty().append(a.concat(i).map((function(e){return t("<option>").attr("value",e.value).text(e.text).prop("disabled",!!e.disabled)}))),s?r.val(s):r.val("0")}function d(t,e,i){var n;n="/"===t[0]?t:"/ext/address/"+t,vo.ajax(null,n,e,(function(t){var e;if(t instanceof Array)e=t;else{for(var n in e=[],t)t.hasOwnProperty(n)&&e.push({value:n,text:t[n]});e.sort((function(t,e){return t.text.localeCompare(e.text)}))}i(e)}))}function p(t,e,i){return function(n){u(t,n,null,i),e&&u(e,[])}}function v(t){return["8000000000","8500000000"].indexOf(t)>=0}function f(){u(r,[])}function h(t,e){d("/ext/institutions/school",{code:t},(function(t){0===t.length?u(r,t,"Навчальний заклад не знайдено.",e):u(r,t,null,e)}))}}))},window.init_schoolFormSimple=function(e,i){return t(e).schoolFormSimple(i)}}).call(this,i(4))},86:function(t,e,i){},87:function(t,e,i){(function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){"use strict";t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",(function(){i=!0}));return setTimeout((function(){i||t(n).trigger(t.support.transition.end)}),e),this},t((function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})}))}(t),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};function n(n){return this.each((function(){var s=t(this),a=s.data("bs.carousel"),r=t.extend({},e.DEFAULTS,s.data(),"object"==i(n)&&n),o="string"==typeof n?n:r.slide;a||s.data("bs.carousel",a=new e(this,r)),"number"==typeof n?a.to(n):o?a[o]():r.interval&&a.pause().cycle()}))}e.VERSION="3.3.7",e.TRANSITION_DURATION=600,e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},e.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},e.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var n=(i+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(n)},e.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",(function(){e.to(t)})):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){if(!this.sliding)return this.slide("next")},e.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},e.prototype.slide=function(i,n){var s=this.$element.find(".item.active"),a=n||this.getItemForDirection(i,s),r=this.interval,o="next"==i?"left":"right",c=this;if(a.hasClass("active"))return this.sliding=!1;var l=a[0],u=t.Event("slide.bs.carousel",{relatedTarget:l,direction:o});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(a)]);d&&d.addClass("active")}var p=t.Event("slid.bs.carousel",{relatedTarget:l,direction:o});return t.support.transition&&this.$element.hasClass("slide")?(a.addClass(i),a[0].offsetWidth,s.addClass(o),a.addClass(o),s.one("bsTransitionEnd",(function(){a.removeClass([i,o].join(" ")).addClass("active"),s.removeClass(["active",o].join(" ")),c.sliding=!1,setTimeout((function(){c.$element.trigger(p)}),0)})).emulateTransitionEnd(e.TRANSITION_DURATION)):(s.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(p)),r&&this.cycle(),this}};var s=t.fn.carousel;t.fn.carousel=n,t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=s,this};var a=function(e){var i,s=t(this),a=t(s.attr("data-target")||(i=s.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var r=t.extend({},a.data(),s.data()),o=s.attr("data-slide-to");o&&(r.interval=!1),n.call(a,r),o&&a.data("bs.carousel").to(o),e.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",a).on("click.bs.carousel.data-api","[data-slide-to]",a),t(window).on("load",(function(){t('[data-ride="carousel"]').each((function(){var e=t(this);n.call(e,e.data())}))}))}(t),window.init_bscarousel=function(t,i){return e(t).carousel(i)}}).call(this,i(4),i(4))},88:function(t,e,i){(function(t){t.fn.multiselect=function(e){e=t.extend({templateItem:"<li data-id='{{id}}'><a href='#' data-bind='click:delete'><i>x</i>{{name}}</a></li>",templateDropdownItem:"<li data-id='{{id}}' style='cursor: pointer; display:list-item; background: white'>{{name}}</li>",templateDropdownHeader:"<li class='v-cat-dropdown-name' style='display:list-item; background: white'><b>{{name}}</b></li>",templateDropdownNoItems:"<li style='display:list-item; background: white'><b>Нічого не знайдено</b></li>",select:"#tutor-subjectlist",data:null,maxItems:5},e);var i=/{{\s*(\w+)\s*}}/g;function n(t,e){return t.replace(i,(function(t,i){return e[i]}))}return this.each((function(){var i=t(this),s=i.find("ul"),a=t(e.select);a.length||(a=t("<select>",{name:"Tutor[subjectList][]",multiple:"multiple"}),i.after(a)),a.hide();var r=t("<li>",{class:"v-choosen-specs-add"}),o="+ Оберіть предмет",c=t("<input>",{css:{border:"none",outline:"none"},placeholder:o}).appendTo(r),l={},u={};if(e.data){p=function(e){var i=[];return t.each(e,(function(e,n){i.push({name:n.name,id:n.id}),n.items&&t.each(n.items,(function(t,e){i.push({name:e.name,id:e.id})}))})),i}(e.data);var d=a.children().map((function(){if(this.selected)return String(this.value)})).toArray();a.empty(),p.forEach((function(e){var i;e.id&&(d.indexOf(String(e.id))>=0&&(i="selected"),a.append(t("<option>",{value:e.id,text:e.name,selected:i})))}))}else{var p=[];a.children().each((function(){p.push({id:this.value,name:this.textContent})}))}var v=-1,f=t(e.templateDropdownNoItems),h=t("<ul>",{css:{position:"absolute",zIndex:100},class:"v-choosen-specs-dropdown"}).append(p.map((function(i){if(i.id)var s=t(n(e.templateDropdownItem,i)).click((function(){a.children(":selected").length<e.maxItems&&_(i),a.children(":selected").length===e.maxItems&&r.hide(),h.hide(),c.attr("placeholder",o).val("").change()}));else i.id=v--,i.isHeader=!0,s=t(n(e.templateDropdownHeader,i));return u[i.id]=s,s}))).append(f.hide());function _(i){if(!l[i.id]){var s=t(n(e.templateItem,i));s.find("[data-bind='click:delete']").click((function(){return m(i),!1})),r.before(s),l[i.id]=s,a.children('[value="'+i.id+'"]').prop("selected",!0),u[i.id]&&u[i.id].hide()}}function m(t){var e=l[t.id];e&&(e.remove(),l[t.id]=null,a.children('[value="'+t.id+'"]').prop("selected",!1),u[t.id]&&u[t.id].show(),r.show())}i.append(h),c.focus((function(){h.show(),c.attr("placeholder","")})).on("input keyup change",(function(){var t=c.val().trim().toLowerCase(),e=0;p.forEach((function(i){var n=u[i.id];if(n){var s=i.name.toLowerCase();!l[i.id]&&s.indexOf(t)>=0?(n.show(),e++):n.hide()}})),f.toggle(!e)})),t(document).click((function(e){t(e.target).closest(i).length||(h.hide(),c.attr("placeholder",o).val("").change())})),s.click((function(){c.focus()})),s.empty(),s.append(r),h.hide();var g=function(){a.children().each((function(){this.selected?_({id:this.value,name:this.textContent}):m({id:this.value,name:this.textContent})}))};a.change(g),g()}))}}).call(this,i(4))},89:function(t,e,i){"use strict";(function(t){var e=i(2),n=i(3),s=i(54),a=i(49);e.a.use(n.b),window.aa_createTestDesignerEmbed=function(t,i){new e.a({render:function(t){return t(s.a,{props:{code:i}})},el:t,store:a.a})},window.initTestEmbed=function(){for(var e=t("[data-test-embed]"),i=0,n=e.length;i<n;i++){var s=t(e[i]);if(s){var a=s.data("test-embed");if(a){var r=document.createElement("div");r.id="test-embed-"+a,s.html(r),window.aa_createTestDesignerEmbed("#"+r.id,a)}}}}}).call(this,i(4))},90:function(t,e,i){(function(t,e){t.fn.trackedYTVideo=function(e){var i,n={key:"yt.vo.tracker-"+(e=t.extend({timeTrackingPrecision:1e3,updateInterval:1e3,height:"360",width:"640",autoPlay:!1,loginHtml:'Будь ласка, <a href="/site/login">Увійдіть</a> або <a href="/site/registration">Зареєструйтесь</a>',isGuestAllowed:0,autoplayWhenVisible:0,autoplayWhenVisiblePercent:0,autoplayWhenVisibleDelay:0},e)).videoId,save:function(t){if(window.localStorage&&!e.videoViewEnd)try{window.localStorage.setItem(this.key,JSON.stringify({streaks:t}))}catch(t){localStorage.clear()}},load:function(){if(window.localStorage&&!e.videoViewEnd)try{var t=window.localStorage.getItem(this.key);t&&(t=JSON.parse(t),s.set(t.streaks||[]))}catch(t){console.error(t)}},clear:function(){window.localStorage&&window.localStorage.removeItem(this.key)}},s=function(){var t={intervalUpdateEnd:null,intervalUpdateTime:null,precisionEnd:e.timeTrackingPrecision,precisionTime:e.updateInterval,streaks:[],currentStreak:null};function s(e){t.streaks=e,t.currentStreak&&e.push(t.currentStreak)}function r(){t.intervalUpdateEnd||t.intervalUpdateTime||(t.intervalUpdateEnd=setInterval(o,e.timeTrackingPrecision),t.intervalUpdateTime=setInterval(c,e.updateInterval))}function o(){if(i&&i.getPlayerState)if(t.currentStreak)t.currentStreak.end=i.getCurrentTime();else switch(i.getPlayerState()){case YT.PlayerState.PLAYING:case YT.PlayerState.BUFFERING:t.startStreak();break;default:t.stopStreak()}}function c(){if(i&&i.getDuration){var t=u(d()).reduce((function(t,e){return t+e.end-e.start}),0),e=i.getDuration();!a&&t>.1*e&&p(),i.getPlayerState()===YT.PlayerState.PLAYING&&h()}}function l(){clearInterval(t.intervalUpdate),clearInterval(t.intervalTrack),t.intervalUpdate=t.intervalTrack=null,t.streaks=[],t.currentStreak=null}function u(t){return t.sort((function(t,e){return t.start-e.start})),t.reduce((function(t,e){if(!t.length)return[{start:e.start,end:e.end}];var i=t[t.length-1];return i.end>e.start?(i.end=Math.max(i.end,e.end),t):(t.push({start:e.start,end:e.end}),t)}),[])}function d(){return t.streaks}function v(){t.currentStreak=null}function f(){if(!t.currentStreak){var e=i.getCurrentTime();t.currentStreak={start:e,end:e},t.streaks.push(t.currentStreak)}}function h(){n.save(u(d()))}return t.start=r,t.stop=l,t.startStreak=f,t.stopStreak=v,t.reset=function(){l(),r()},t.set=s,t.save=h,t}(),a=!!e.videoViewEnd,r=t("<div>"),o=r[0];this.append(r),this.on("yt.play",(function(){i&&i.playVideo()})),this.on("yt.stop",(function(){i&&i.stopVideo()})),this.on("yt.reset",(function(){a=!1,e.videoViewEnd=!1,n.clear(),s.reset(),i&&i.seekTo(0)}));var c=this;function l(){n.load();var t=(i=new YT.Player(o,{height:e.height,width:e.width,videoId:e.videoId,events:{onReady:u,onStateChange:d},playerVars:e.playerVars})).getIframe();e.id&&(t.id=e.id),e.videoViewEnd||s.start()}function u(){c.trigger("yt-ready",{})}function d(){switch(s.save(),i.getPlayerState()){case YT.PlayerState.PLAYING:case YT.PlayerState.BUFFERING:if(!e.isGuestAllowed&&!vo.user_id)return vo.dlg.show(e.loginHtml),void i.stopVideo();s.startStreak();break;default:s.stopStreak()}}function p(){a=!0,vo.user_id&&e.reportUrl&&vo.ajax(null,e.reportUrl,e.reportData,(function(){e.videoViewEnd=!0,n.clear(),s.stop()}))}if(window.YT?YT.ready(l):function(){window.onYouTubeIframeAPIReady=function(){i||l()};var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}(),e.autoplayWhenVisible){var v=function n(){var s=t(window).scrollTop(),a=s+t(window).height(),r=c.offset().top,o=r+c.height(),l=Math.min(a,o)-Math.max(s,r);(l/c.height()*100>=e.autoplayWhenVisiblePercent||0===l&&0===c.height())&&(i&&i.playVideo?(i.playVideo(),t(window).off("scroll",n),c.off("yt-ready",n)):c.on("yt-ready",n))};t(window).scroll(v),v()}},vo.trackedYTVideo=function(t,i){e(t).trackedYTVideo(i)}}).call(this,i(4),i(4))},91:function(t,e,i){(function(t){window.publicationCalc=function(e){var i=t("#print_ver"),n=t("#print_copy"),s=t("#print_copy_span"),a=t("#price_total"),r=t(".i-cost-discount"),o=t("#price_print"),c=t("#price_copy"),l=t("#count_copy"),u=parseInt(e.price_print)||0,d=parseInt(e.price_copy)||0,p=parseInt(e.free_public)||0,v=n.val();function f(i){var n,s,v,f,h,_;if(e.print_pay?(f=0,h=i):h=i-(f=i>0?1:0),e.isLanding){var m=Math.max(t(".i-pub-material-checkbox").filter(":checked").length-p,0);_=parseInt(e.price_material)*m||0}else _=parseInt(e.cost_materials_all)||0;n=(v=d*h)+(s=u*f)+_,a.text(n),e.discountPercent&&r.text(Math.ceil(n-n*e.discountPercent/100)),o.text(s+" грн"),c.text(v+" грн"),l.text(vo.numerize(h,["{n} друкована копія","{n} друковані копії","{n} друкованих копій"]))}function h(){var t=n.val();(""===t||isNaN(+t)||t<0)&&(t=v),i.is(":checked")&&t<1&&(t=1),i.prop("checked",t>0),v=t,n.val(t),s.text(t),f(t)}function _(){f(n.val())}h(),n.on("change input",h),i.change((function(){var t=i.is(":checked")?1:0;n.val(t).trigger("change")})),window.print_plus=function(){var t=parseInt(n.val())||0;return n.val(t+1).trigger("change"),!1},window.print_min=function(){var t=parseInt(n.val())||0;return i.is(":checked")&&t<=1?t=1:t-=1,n.val(t).trigger("change"),!1},window.updatePrice=_,t(".i-pub-material-checkbox").on("change",(function(){var e=t(this);e.closest(".i-pub-material").toggleClass("active",e.is(":checked")),_()})),s.on("blur",(function(){n.val(s.text()).trigger("change")})),window.submitPublicationOrder=function(e,i){var s=t(".i-pub-material-checkbox").filter(":checked").map((function(){return t(this).attr("data-id")})).toArray(),a=n.val();(s.length||a>0)&&vo.ajax(i||null,e,{ids:s,print_copy:a}),s.length||vo.popup("Оберіть методичний матеріал для публікації в збірнику")}}}).call(this,i(4))},92:function(t,e,i){(function(t){window.orderPublicationCalc=function(e){var i=e.material_pay,n=e.print_pay,s=e.price,a=t("#print_ver"),r=t("#print_copy"),o=t("#print_copy_span"),c=t("#price_total"),l=t(".i-cost-discount"),u=t("#price_print"),d=t("#price_copy"),p=t("#count_copy"),v=parseInt(s.print)||0,f=parseInt(s.print_copy)||0,h=parseInt(i)||0;n&&r.val()<1&&(r.val(0),o.text(0),a.prop("checked",!1));var _=r.val();function m(){var t=r.val();(""===t||isNaN(+t)||t<0)&&(t=_),a.is(":checked")&&t<1&&(t=1),a.prop("checked",t>0),function(t){var i,s,a,r,o;n?(r=0,o=t):o=t-(r=t>0?1:0),i=(a=f*o)+(s=v*r)+h,c.text(i),e.discountPercent?l.text(Math.ceil(i*(100-e.discountPercent)/100)).parent().show():l.parent().hide(),u.text(s+" грн"),d.text(a+" грн"),p.text(vo.numerize(o,["{n} друкована копія","{n} друковані копії","{n} друкованих копій"]))}(t),_=t,r.val(t),o.text(t)}m(),r.on("change input",m),a.change((function(){var t=a.is(":checked")?1:0;r.val(t).trigger("change"),o.text(t)})),o.on("blur",(function(){r.val(o.text()).trigger("change")})),window.print_plus=function(){var t=parseInt(r.val())||0;return r.val(t+1).trigger("change"),o.text(t+1),!1},window.print_min=function(){var t=parseInt(r.val())||0;return a.is(":checked")&&t<=1?t=1:t-=1,r.val(t).trigger("change"),o.text(t),!1}}}).call(this,i(4))},93:function(t,e,i){"use strict";var n=i(29);i.n(n).a},94:function(t,e,i){"use strict";var n=i(30);i.n(n).a},95:function(t,e,i){(function(t){window.yii=function(t){var e={reloadableScripts:[],clickableSelector:'a, button, input[type="submit"], input[type="button"], input[type="reset"], input[type="image"]',changeableSelector:"select, input, textarea",getCsrfParam:function(){return t("meta[name=csrf-param]").attr("content")},getCsrfToken:function(){return t("meta[name=csrf-token]").attr("content")},setCsrfToken:function(e,i){t("meta[name=csrf-param]").attr("content",e),t("meta[name=csrf-token]").attr("content",i)},refreshCsrfToken:function(){var i=e.getCsrfToken();i&&t('form input[name="'+e.getCsrfParam()+'"]').val(i)},confirm:function(t,e,i){window.confirm(t)?!e||e():!i||i()},handleAction:function(i,n){var s,a=i.attr("data-form")?t("#"+i.attr("data-form")):i.closest("form"),r=!i.data("method")&&a?a.attr("method"):i.data("method"),o=i.attr("href"),c=o&&"#"!==o,l=i.data("params"),u=l&&t.isPlainObject(l),d=i.data("pjax"),p=void 0!==d&&0!==d&&t.support.pjax,v={};if(t.each(["submit","reset","elements","length","name","acceptCharset","action","enctype","method","target"],(function(t,e){u&&l.hasOwnProperty(e)&&console.error("Parameter name '"+e+"' conflicts with a same named form property. Please use another name.")})),p&&(void 0!==(s=i.data("pjax-container"))&&s.length||(s=i.closest("[data-pjax-container]").attr("id")?"#"+i.closest("[data-pjax-container]").attr("id"):""),s.length||(s="body"),v={container:s,push:!!i.data("pjax-push-state"),replace:!!i.data("pjax-replace-state"),scrollTo:i.data("pjax-scrollto"),pushRedirect:i.data("pjax-push-redirect"),replaceRedirect:i.data("pjax-replace-redirect"),skipOuterContainers:i.data("pjax-skip-outer-containers"),timeout:i.data("pjax-timeout"),originalEvent:n,originalTarget:i}),void 0!==r){var f,h,_=!a.length;if(_){c||(o=e.getCurrentUrl()),a=t("<form/>",{method:r,action:o});var m=i.attr("target");if(m&&a.attr("target",m),/(get|post)/i.test(r)||(a.append(t("<input/>",{name:"_method",value:r,type:"hidden"})),r="post",a.attr("method",r)),/post/i.test(r)){var g=e.getCsrfParam();g&&a.append(t("<input/>",{name:g,value:e.getCsrfToken(),type:"hidden"}))}a.hide().appendTo("body")}else f=a.attr("method"),a.attr("method",r),c&&(h=a.attr("action"),a.attr("action",o));var y=a.data("yiiActiveForm");y&&(y.submitObject=i),u&&t.each(l,(function(e,i){a.append(t("<input/>").attr({name:e,value:i,type:"hidden"}))})),p&&a.on("submit",(function(e){t.pjax.submit(e,v)})),a.trigger("submit"),t.when(a.data("yiiSubmitFinalizePromise")).done((function(){_?a.remove():(void 0!==h&&a.attr("action",h),a.attr("method",f),u&&t.each(l,(function(e){t('input[name="'+e+'"]',a).remove()})))}))}else c?p?t.pjax.click(n,v):window.location.assign(o):i.is(":submit")&&a.length&&(p&&a.on("submit",(function(e){t.pjax.submit(e,v)})),a.trigger("submit"))},getQueryParams:function(e){var i=e.indexOf("?");if(i<0)return{};for(var n=t.grep(e.substring(i+1).split("#")[0].split("&"),(function(t){return""!==t})),s={},a=0,r=n.length;a<r;a++){var o=n[a].split("="),c=decodeURIComponent(o[0].replace(/\+/g,"%20")),l=decodeURIComponent(o[1].replace(/\+/g,"%20"));c.length&&(void 0===s[c]?s[c]=l||"":(t.isArray(s[c])||(s[c]=[s[c]]),s[c].push(l||"")))}return s},initModule:function(i){(void 0===i.isActive||i.isActive)&&(t.isFunction(i.init)&&i.init(),t.each(i,(function(){t.isPlainObject(this)&&e.initModule(this)})))},init:function(){var s,a;t.ajaxPrefilter((function(t,i,n){!t.crossDomain&&e.getCsrfParam()&&n.setRequestHeader("X-CSRF-Token",e.getCsrfToken())})),e.refreshCsrfToken(),t(document).ajaxComplete((function(t,e){var i=e&&e.getResponseHeader("X-Redirect");i&&window.location.assign(i)})),s={},t("script[src]").each((function(){var t=n(this.src);s[t]=!0})),t.ajaxPrefilter("script",(function(t,e,a){if("jsonp"!=t.dataType){var r=n(t.url),o=!0===s[r]&&!i(r),c=void 0!==s[r]&&!0===s[r].xhrDone;o||c?a.abort():(void 0!==s[r]&&!0!==s[r]||(s[r]={xhrList:[],xhrDone:!1}),a.done((function(t,e,i){if(!0!==s[i.yiiUrl].xhrDone){s[i.yiiUrl].xhrDone=!0;for(var n=0,a=s[i.yiiUrl].xhrList.length;n<a;n++){var r=s[i.yiiUrl].xhrList[n];r&&r.readyState!==XMLHttpRequest.DONE&&r.abort()}s[i.yiiUrl]=!0}})).fail((function(t,e){if("abort"!==e){delete s[t.yiiUrl].xhrList[t.yiiIndex];for(var i=!0,n=0,a=s[t.yiiUrl].xhrList.length;n<a;n++)s[t.yiiUrl].xhrList[n]&&(i=!1);i&&delete s[t.yiiUrl]}})),a.yiiIndex=s[r].xhrList.length,a.yiiUrl=r,s[r].xhrList[a.yiiIndex]=a)}})),t(document).ajaxComplete((function(){var e=[];t("link[rel=stylesheet]").each((function(){var s=n(this.href);i(s)||(-1===t.inArray(s,e)?e.push(s):t(this).remove())}))})),a=function(i){var n=t(this),s=n.data("method"),a=n.data("confirm"),r=n.data("form");return void 0===s&&void 0===a&&void 0===r||(void 0!==a&&!1!==a&&""!==a?t.proxy(e.confirm,this)(a,(function(){e.handleAction(n,i)})):e.handleAction(n,i),i.stopImmediatePropagation(),!1)},t(document).on("click.yii",e.clickableSelector,a).on("change.yii",e.changeableSelector,a)},getBaseCurrentUrl:function(){return window.location.protocol+"//"+window.location.host},getCurrentUrl:function(){return window.location.href}};function i(t){for(var i=0;i<e.reloadableScripts.length;i++){var s=n(e.reloadableScripts[i]);if(!0===new RegExp("^"+(a=s,a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")).split("\\*").join(".+")+"$").test(t))return!0}var a;return!1}function n(t){return"/"===t.charAt(0)?e.getBaseCurrentUrl()+t:t}return e}(t),t((function(){window.yii.initModule(window.yii)}))}).call(this,i(4))},96:function(t,e,i){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){t.fn.yiiGridView=function(i){return r[i]?r[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==e(i)&&i?(t.error("Method "+i+" does not exist in jQuery.yiiGridView"),!1):r.init.apply(this,arguments)};var i={filterUrl:void 0,filterSelector:void 0,filterOnFocusOut:!0},n={},s={beforeFilter:"beforeFilter",afterFilter:"afterFilter"},a={},r={init:function(e){return this.each((function(){var s=t(this),a=t.extend({},i,e||{}),c=s.attr("id");void 0===n[c]&&(n[c]={}),n[c]=t.extend(n[c],{settings:a});var l=!1;o(s,"filter","change.yiiGridView keydown.yiiGridView",a.filterSelector,(function(t){if("keydown"===t.type){if(13!==t.keyCode)return;l=!0}else if(l)return void(l=!1);return!(!a.filterOnFocusOut&&"keydown"!==t.type)&&(r.applyFilter.apply(s),!1)}))}))},applyFilter:function(){var e=t(this),i=n[e.attr("id")].settings,a={};t.each(t(i.filterSelector).serializeArray(),(function(){this.name in a||(a[this.name]=[]),a[this.name].push(this.value)}));var r=Object.keys(a);t.each(yii.getQueryParams(i.filterUrl),(function(e,i){-1===r.indexOf(e)&&-1===r.indexOf(e.replace(/\[\d*\]$/,""))&&(t.isArray(i)||(i=[i]),e in a?t.each(i,(function(i,n){t.inArray(n,a[e])&&a[e].push(n)})):a[e]=i)}));var o=i.filterUrl.indexOf("?"),c=o<0?i.filterUrl:i.filterUrl.substring(0,o),l=i.filterUrl.indexOf("#");o>=0&&l>=0&&(c+=i.filterUrl.substring(l)),e.find("form.gridview-filter-form").remove();var u=t("<form/>",{action:c,method:"get",class:"gridview-filter-form",style:"display:none","data-pjax":""}).appendTo(e);t.each(a,(function(e,i){t.each(i,(function(i,n){u.append(t("<input/>").attr({type:"hidden",name:e,value:n}))}))}));var d=t.Event(s.beforeFilter);e.trigger(d),!1!==d.result&&(u.submit(),e.trigger(s.afterFilter))},setSelectionColumn:function(e){var i=t(this),s=t(this).attr("id");if(void 0===n[s]&&(n[s]={}),n[s].selectionColumn=e.name,e.multiple&&e.checkAll){var a="#"+s+" input[name='"+e.checkAll+"']",r=e.class?"input."+e.class:"input[name='"+e.name+"']",c="#"+s+" "+r+":enabled";o(i,"checkAllRows","click.yiiGridView",a,(function(){i.find(r+":enabled").prop("checked",this.checked).change()})),o(i,"checkRow","click.yiiGridView",c,(function(){var t=i.find(r).length==i.find(r+":checked").length;i.find("input[name='"+e.checkAll+"']").prop("checked",t).change()}))}},getSelectedRows:function(){var e=t(this),i=n[e.attr("id")],s=[];return i.selectionColumn&&e.find("input[name='"+i.selectionColumn+"']:checked").each((function(){s.push(t(this).parent().closest("tr").data("key"))})),s},destroy:function(){var e=[".yiiGridView",s.beforeFilter,s.afterFilter].join(" ");this.off(e);var i=t(this).attr("id");return t.each(a[i],(function(e,i){t(document).off(i.event,i.selector)})),delete n[i],this},data:function(){var e=t(this).attr("id");return n[e]}};function o(e,i,n,s,r){var o=e.attr("id"),c=a[o];if(void 0!==c&&void 0!==c[i]){var l=c[i];t(document).off(l.event,l.selector)}void 0===c&&(a[o]={}),t(document).on(n,s,r),a[o][i]={event:n,selector:s}}}(t)}).call(this,i(4))},97:function(t,e,i){"use strict";i(123),i(125),i(126),i(71),i(72),i(73),i(74),i(76),i(77);var n=i(2);n.a.directive("focus",{inserted:function(t){t.focus()}}),n.a.directive("nohref",{inserted:function(t){t.href="",t.style.cursor="pointer",t.addEventListener("click",(function(t){t.preventDefault()}))}}),n.a.directive("assets",{bind:function(t){var e=(vo.url_assets||"").split("?")[0];t.src=e+t.getAttribute("src")}});i(78),i(79),i(80),i(81);var s=i(69),a=i(70);!function(t){var e=t.document.documentElement;function i(){var i=e.clientHeight,n=t.innerHeight;return i<n?n:i}function n(){return t.pageYOffset||e.scrollTop}function r(t,e){var s=t.offsetHeight,a=n(),r=a+i(),o=function(t){var e=0,i=0;do{isNaN(t.offsetTop)||(e+=t.offsetTop),isNaN(t.offsetLeft)||(i+=t.offsetLeft)}while(t=t.offsetParent);return{top:e,left:i}}(t).top;return o+s*(e=e||0)<=r&&o+s-s*e>=a}function o(t,e){t&&(this.el=t,this.options=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}(this.defaults,e),this._init())}o.prototype={defaults:{minDuration:0,maxDuration:0,viewportFactor:0},_init:function(){this.items=Array.prototype.slice.call(this.el.querySelectorAll(".v-library-block")),this.itemsCount=this.items.length,this.itemsRenderedCount=0,this.didScroll=!1,this._checkWidth();var e=this;a(this.el,(function(){new s(e.el,{itemSelector:".v-library-block",transitionDuration:0,gutter:".gutter",percentPosition:!0,percentWidth:!0,horizontalOrder:!0}),e.items.forEach((function(t,i){r(t)&&(e._checkTotalRendered(),t.classList.add("shown"))})),t.addEventListener("scroll",(function(){e._onScrollFn()}),!1),t.addEventListener("resize",(function(){e._resizeHandler()}),!1)}))},_onScrollFn:function(){var t=this;this.didScroll||(this.didScroll=!0,setTimeout((function(){t._scrollPage()}),60))},_scrollPage:function(){var t=this;this.items.forEach((function(e,s){e.classList.contains("shown")||e.classList.contains("animate")||!r(e,t.options.viewportFactor)||setTimeout((function(){var s=n()+i()/2;if(t.el.style.WebkitPerspectiveOrigin="50% "+s+"px",t.el.style.MozPerspectiveOrigin="50% "+s+"px",t.el.style.perspectiveOrigin="50% "+s+"px",t._checkTotalRendered(),t.options.minDuration&&t.options.maxDuration){var a=Math.random()*(t.options.maxDuration-t.options.minDuration)+t.options.minDuration+"s";e.style.WebkitAnimationDuration=a,e.style.MozAnimationDuration=a,e.style.animationDuration=a}e.classList.add("animate")}),25)})),this.didScroll=!1},_resizeHandler:function(){if(!this._checkWidth()){var t=this;this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout((function(){t._scrollPage(),t.resizeTimeout=null}),1e3)}},_checkTotalRendered:function(){++this.itemsRenderedCount,this.itemsRenderedCount===this.itemsCount&&t.removeEventListener("scroll",this._onScrollFn)},_checkWidth:function(){if(t.innerWidth<=900)return this.items.forEach((function(t){t.classList.add("shown")})),!0}},t.AnimOnScroll=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".v-library-wrap";new o(document.querySelector(t),{minDuration:.7,maxDuration:1.2,viewportFactor:.2})}}(window);i(82),i(83),i(84),i(85),i(86),i(87),i(132),i(133);window.init_inputmask=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null!==i&&Inputmask.extendDefinitions(i),null!==n&&Inputmask.extendAliases(n);var s=document.getElementById(t);return Inputmask(e).mask(s)};i(65),i(66),i(88),i(89),i(90),i(91),i(92),i(63);var r=i(3),o=i(47);n.a.use(r.b),window.createLibraryBookAddWidget=function(t,e){new n.a({render:function(t){return t(o.a,{props:e})},el:t})};var c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"a-test-baza-oll"},[i("div",{staticClass:"a-test-baza"},[t.is_open?i("span",{staticClass:"a-test-b",on:{click:t.toggleOpen}},[i("i",{staticClass:"t-icon t-icon-minus-b"}),t._v(" Створити свій тест на базі цього або додати запитання до вже існуючого тесту")]):i("span",{staticClass:"a-test-b",on:{click:t.toggleOpen}},[i("i",{staticClass:"t-icon t-icon-plus-b"}),t._v(" Створити свій тест на базі цього або додати запитання до вже існуючого тесту")])]),t._v(" "),t.is_open?i("div",[i("div",{staticClass:"a-test-stvoriti-baza"},[i("div",{staticClass:"a-te-pitanie"},[t._v("\n                Оберіть запитання які Ви хочете використати:\n            ")]),t._v(" "),i("div",{staticClass:"a-te-pit-input"},t._l(t.testQuests,(function(e,n){return i("div",{staticClass:"a-te-in-obr"},[i("label",{staticClass:"v-number",attrs:{for:"vr-cp-q-"+e.id}},[i("input",{attrs:{id:"vr-cp-q-"+e.id,type:"checkbox"},domProps:{checked:t.checked_quests.indexOf(e.id)>=0},on:{change:function(i){return t.toggleCheckedQuest(e.id)}}}),t._v(" Запитання №"+t._s(n+1)+"\n                    ")]),t._v(" "),i("span",{staticStyle:{cursor:"pointer"},attrs:{title:"Натисніть щоб прокрути сторінку до запитання №"+(n+1)},on:{click:function(i){return t.scrollToQuest(e.id)}}},[i("i",{staticClass:"t-icon t-icon-searth"})])])})),0),t._v(" "),t.checked_quests.length?i("div",[i("span",{staticClass:"a-te-pitanie-obral"},[t._v("Ви обрали "),i("strong",[t._v(t._s(t.checked_quests.length))]),t._v(" "+t._s(t.plural(t.checked_quests.length,"запитання","запитання","запитань"))+"!")]),t._v(" "),!t.is_select_test_open||t.is_loading?i("div",[i("span",{staticClass:"a-te-pitanie-osnova"},[t._v("На основі них Ви можете:")]),t._v(" "),i("br"),t._v(" "),i("a",{staticClass:"a-test-but-stvorit",on:{click:function(e){return t.sendRequest(e)}}},[t._v("Створити тест")]),t._v(" або "),i("a",{staticClass:"a-test-but-stvorit",on:{click:function(e){return t.toggleSelectTest(e)}}},[t._v("Додати до тесту")])]):t._e()]):i("div",{staticClass:"a-te-pitanie"},[t._v("\n                Щоб продовжити Вам необхідно обрати запитання із запропонованих вище!\n            ")])]),t._v(" "),t.is_select_test_open&&!t.is_loading?i("div",[t.tests.length?i("div",{class:{"form-group a-form-g":!0,"has-error":t.is_error_msg}},[i("label",{attrs:{for:"CopyQuestSelect"}},[t._v("Оберіть тест:")]),t._v(" "),i("select",{staticClass:"form-control",attrs:{id:"CopyQuestSelect"},on:{change:function(e){return t.selectTargetTest(e)}}},[i("option",{attrs:{value:""}},[t._v("[...]")]),t._v(" "),t._l(t.tests,(function(e){return i("option",{domProps:{value:e.id,selected:t.id_test_target==e.id}},[t._v(t._s(e.title))])}))],2),t._v(" "),t.is_error_msg?i("div",{staticClass:"help-block"},[t._v("Будь ласка, оберіть тест щоб додати до нього запитання!")]):t._e(),t._v(" "),i("a",{staticClass:"a-test-but-stvorit",on:{click:function(e){return t.addToMyTest(e)}}},[t._v("Додати до тесту")]),t._v(" "),t.checked_quests.length?i("div",{staticClass:"a-te-pitanie"},[t._v("\n                    Якщо у Вас немає потрібного тесту Ви можете "),i("a",{staticClass:"a-test-but-stvorit",on:{click:function(e){return t.sendRequest(e)}}},[t._v("Створити тест")]),t._v(" на основі обраних запитань\n                ")]):i("div",{staticClass:"a-te-pitanie"},[t._v("\n                    Щоб продовжити Вам необхідно обрати запитання із запропонованих вище\n                ")])]):i("div",{staticClass:"a-te-pitanie"},[t._v("\n                У Вас немає жодного тесту. Пропонуємо Вам "),i("a",{staticClass:"a-test-but-stvorit",on:{click:function(e){return t.sendRequest(e)}}},[t._v("Створити тест")]),t._v(" на основі обраних запитань\n            ")])]):t._e()]):t._e()])};c._withStripped=!0;var l=i(1),u={name:"CopyQuests",mixins:[i(20).a],data:function(){return{is_error_msg:!1,is_loading:!1,is_select_test_open:!1,is_open:!1,checked_quests:[],id_test_target:null,tests:!1}},props:["test","testQuests"],methods:{toggleOpen:function(){Object(l.o)()&&(this.is_open=!this.is_open)},scrollToQuest:function(t){vo.scrollTo("#vr-quest-anchor-"+t)},toggleCheckedQuest:function(t){var e=this.checked_quests.indexOf(t);e>=0?this.checked_quests.splice(e,1):this.checked_quests.push(t)},toggleSelectTest:function(t){var e=this;this.is_select_test_open||!1!==this.tests||(this.is_loading=!0,new Promise((function(e){vo.ajax(t,"/ext/test/list",null,(function(t){e(t)}))})).then((function(t){e.$set(e.$data,"tests",t),e.is_loading=!1})));this.is_select_test_open=!this.is_select_test_open},selectTargetTest:function(t){this.id_test_target=t.target.value,this.is_error_msg=!1},addToMyTest:function(t){this.id_test_target?this.sendRequest(t):this.is_error_msg=!0},sendRequest:function(t){var e=this,i={id_test:this.test.id,id_test_target:this.id_test_target,quests:this.checked_quests};new Promise((function(e){vo.ajax(t,"/ext/test/copy",i,(function(t){e(t)}))})).then((function(i){var n=i.payload.url;vo.dlg.confirm(t,e.id_test_target?"Тест успішно створено":"Запитання успішно додано","Перейти на сторінку Вашого тесту?",(function(){location.href=n}))}))}},created:function(){var t=this;this.testQuests.forEach((function(e){t.checked_quests.push(e.id)}))}},d=i(0),p=Object(d.a)(u,c,[],!1,null,null,null);p.options.__file="js/modules/test-designer/copy-quests/components/CopyQuests.vue";var v=p.exports;function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}vo.test.init_quest_copy=function(t,e){"object"!==f(e)&&(e={}),new n.a({render:function(t){return t(v,{props:e})},el:t,components:{CopyQuests:v}})};var h=i(17);function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}vo.test.init_create_testing=function(t,e){"object"!==_(e)&&(e={}),new n.a({render:function(t){return t(h.a,{props:e})},el:t,components:{CreateTesting:h.a}})};var m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"t-teg-bloc-dostup"},[i("div",[i("input",{attrs:{type:"hidden",name:"News[tagIds]",value:""}}),t._v(" "),t._l(t.tags,(function(e){return t.selected.findIndex((function(t){return t==e.id}))>=0?i("input",{attrs:{type:"hidden",name:"News[tagIds][]",form:"blog-add-form"},domProps:{value:e.id}}):t._e()})),t._v(" "),t._l(t.tags,(function(e){return t.selected.findIndex((function(t){return t==e.id}))>=0?i("Tag",{key:e.id,attrs:{tag:e,mods:["edit","delete","unselect"]},on:{"select-tag":t.selectTag,"unselect-tag":t.unselectTag}}):t._e()})),t._v(" "),i("span",{staticClass:"t-teg-dodat",on:{click:t.addTag}},[t._v("+ додати тег")])],2)]),t._v(" "),t.is_tag_list_open?i("div",{staticClass:"t-teg-bloc"},[i("p",{staticClass:"t-blog-nazva"},[t._v("Обрати тег:")]),t._v(" "),i("div",{on:{drop:function(e){return t.drop(e)},dragover:function(e){return t.allowDrop(e)}}},[t._l(t.tags,(function(e){return-1===t.selected.findIndex((function(t){return t==e.id}))?i("Tag",{key:e.id,attrs:{tag:e,mods:["edit","delete","select","drag-and-drop"]},on:{"select-tag":t.selectTag,"unselect-tag":t.unselectTag}}):t._e()})),t._v(" "),i("Tag",{attrs:{mods:[],is_add_tag:!0,is_editing_open:t.selected.length>=t.tags.length},on:{"select-tag":t.selectTag,"unselect-tag":t.unselectTag,"cancel-edit":t.addTag}})],2)]):t._e()])};m._withStripped=!0;var g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"t-teg-bloc-nu"},[i("form",{attrs:{id:"vr-tag-editor-"+t.id}},[i("input",{attrs:{type:"hidden",name:"id"},domProps:{value:t.id}}),t._v(" "),i("input",{attrs:{type:"hidden",name:"NewsTag[style]"},domProps:{value:t.style}}),t._v(" "),i("input",{staticStyle:{width:"70%"},attrs:{type:"text",name:"NewsTag[title]",placeholder:"Вкажіть назву..."},domProps:{value:t.title},on:{input:t.updateTitle,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.clickSave(e)}}}),t._v(" "),i("span",{attrs:{title:"Задати стиль"},on:{click:t.openStyle}},[i("i",{staticClass:"b-icon b-icon-nastroika"})]),t._v(" "),i("span",{ref:"saveBtn",attrs:{title:"Зберегти"},on:{click:t.save}},[i("i",{staticClass:"b-icon b-icon-sohranit"})]),t._v(" "),i("span",{attrs:{title:"Скасувати"},on:{click:t.cancel}},[i("i",{staticClass:"b-icon b-icon-delet"})]),t._v(" "),t.is_style_open?i("TagStyle",{attrs:{active:t.style},on:{"set-style":t.setStyle}}):t._e()],1)])};g._withStripped=!0;var y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t-teg-vse-vibor"},[i("span",{class:{active:0===t.active,"t-style-0":!0},attrs:{"data-style":"0"},on:{click:t.setStyle}},[t._v(" Стиль №0 ")]),t._v(" "),i("span",{class:{active:1===t.active,"t-style-1":!0},attrs:{"data-style":"1"},on:{click:t.setStyle}},[t._v(" Стиль №1 ")]),t._v(" "),i("span",{class:{active:2===t.active,"t-style-2":!0},attrs:{"data-style":"2"},on:{click:t.setStyle}},[t._v(" Стиль №2 ")]),t._v(" "),i("span",{class:{active:3===t.active,"t-style-3":!0},attrs:{"data-style":"3"},on:{click:t.setStyle}},[t._v(" Стиль №3 ")]),t._v(" "),i("span",{class:{active:4===t.active,"t-style-4":!0},attrs:{"data-style":"4"},on:{click:t.setStyle}},[t._v(" Стиль №4 ")]),t._v(" "),i("span",{class:{active:5===t.active,"t-style-5":!0},attrs:{"data-style":"5"},on:{click:t.setStyle}},[t._v(" Стиль №5 ")]),t._v(" "),i("span",{class:{active:6===t.active,"t-style-6":!0},attrs:{"data-style":"6"},on:{click:t.setStyle}},[t._v(" Стиль №6 ")]),t._v(" "),i("span",{class:{active:7===t.active,"t-style-7":!0},attrs:{"data-style":"7"},on:{click:t.setStyle}},[t._v(" Стиль №7 ")]),t._v(" "),i("span",{class:{active:8===t.active,"t-style-8":!0},attrs:{"data-style":"8"},on:{click:t.setStyle}},[t._v(" Стиль №8 ")]),t._v(" "),i("span",{class:{active:9===t.active,"t-style-9":!0},attrs:{"data-style":"9"},on:{click:t.setStyle}},[t._v(" Стиль №9 ")]),t._v(" "),i("span",{class:{active:10===t.active,"t-style-10":!0},attrs:{"data-style":"10"},on:{click:t.setStyle}},[t._v(" Стиль №10 ")]),t._v(" "),i("span",{class:{active:11===t.active,"t-style-11":!0},attrs:{"data-style":"11"},on:{click:t.setStyle}},[t._v(" Стиль №11 ")]),t._v(" "),i("span",{class:{active:12===t.active,"t-style-12":!0},attrs:{"data-style":"12"},on:{click:t.setStyle}},[t._v(" Стиль №12 ")])])};y._withStripped=!0;var b={name:"TagStyle",props:["active"],methods:{setStyle:function(t){this.$emit("set-style",parseInt(t.target.getAttribute("data-style")))}}},w=Object(d.a)(b,y,[],!1,null,null,null);function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}w.options.__file="js/modules/news-tag/components/tag-style.vue";var k={name:"TagEditor",components:{TagStyle:w.exports},props:["tag"],data:function(){return{id:"",style:0,title:"",is_save_start:!1,is_style_open:!1}},methods:{save:function(t){var e=this;"object"===C(t)&&t.preventDefault(),this.is_save_start||(this.is_save_start=!0,this.$store.dispatch("saveTag",{event:null,formData:"#vr-tag-editor-"+this.id}).then((function(t){e.$emit("saved",t.id)}),(function(){})).finally((function(){e.is_save_start=!1})))},cancel:function(){this.$emit("cancel-edit")},setStyle:function(t){this.style=t,this.is_style_open=!1,this.$emit("set-style",this.style)},openStyle:function(){this.is_style_open=!this.is_style_open},updateTitle:function(t){this.title=t.target.value},clickSave:function(t){t.preventDefault(),this.$refs.saveBtn.click()},loadFromTag:function(t){this.id=t?t.id:"",this.title=t?this.tag.title:"",this.style=t?this.tag.style:0}},watch:{tag:function(t){this.loadFromTag(t)}},created:function(){this.loadFromTag(this.tag)}},x=Object(d.a)(k,g,[],!1,null,null,null);x.options.__file="js/modules/news-tag/components/tag-editor.vue";var S=x.exports,j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{class:[this.tag?"vr-tag":"t-teg-stvor",t.className],attrs:{draggable:void 0!==t.mods&&t.mods.indexOf("drag-and-drop")>=0,"data-key":t.tag?t.tag.id:0},on:{dragstart:function(e){return t.drag(e)}}},[t.is_editing?i("TagEditor",{attrs:{tag:t.tag},on:{saved:t.saved,"cancel-edit":t.cancelEdit,"set-style":t.setStyle}}):t.is_add_tag?i("span",{on:{click:t.editTag}},[t._v("+ створити тег")]):i("span",[t._v("\n        "+t._s(t.tag.title)+"\n        "),void 0!==t.mods&&t.mods.indexOf("edit")>=0?i("span",{staticClass:"vr-el",attrs:{title:"Редагувати"},on:{click:t.editTag}},[i("i",{staticClass:"b-icon b-icon-redactor"})]):t._e(),t._v(" "),void 0!==t.mods&&t.mods.indexOf("delete")>=0?i("span",{staticClass:"vr-el",attrs:{title:"Видалити"},on:{click:t.deleteTag}},[i("i",{staticClass:"b-icon b-icon-delet"})]):t._e(),t._v(" "),void 0!==t.mods&&t.mods.indexOf("select")>=0?i("span",{staticClass:"vr-el",attrs:{title:"Обрати"},on:{click:function(e){return t.$emit("select-tag",t.tag.id)}}},[i("i",{staticClass:"b-icon b-icon-dodat"})]):t._e(),t._v(" "),void 0!==t.mods&&t.mods.indexOf("unselect")>=0?i("span",{staticClass:"vr-el",attrs:{title:"Прибрати"},on:{click:function(e){return t.$emit("unselect-tag",t.tag.id)}}},[i("i",{staticClass:"b-icon b-icon-otnat"})]):t._e()])],1)};j._withStripped=!0;var P={name:"Tag",props:["tag","mods","is_add_tag","is_editing_open"],components:{TagEditor:S},data:function(){return{style:0,is_editing:!1}},computed:{className:function(){return this.tag||this.is_editing?"t-style-"+this.style:""}},methods:{drag:function(t){t.dataTransfer.setData("text",this.tag.id)},editTag:function(){this.is_editing=!0},setStyle:function(t){this.style=t},saved:function(t){this.is_editing=!1,this.is_add_tag&&this.$emit("select-tag",t)},cancelEdit:function(){this.is_editing=!1,this.is_editing_open&&this.$emit("cancel-edit")},deleteTag:function(){var t=this;vo.dlg.confirm(null,"Необхідно підтвердження","Тег буде видалено назавжди з усіх записів! Ви впевнені?",(function(){t.$store.dispatch("deleteTag",t.tag.id)}))}},created:function(){this.is_editing_open&&this.editTag(),this.tag&&(this.style=this.tag.style)}},I=Object(d.a)(P,j,[],!1,null,null,null);function O(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function T(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?O(Object(i),!0).forEach((function(e){A(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):O(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function A(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}I.options.__file="js/modules/news-tag/components/tag.vue";var $={name:"NewsTagWidget",components:{TagEditor:S,Tag:I.exports},data:function(){return{tag_id_edit:0,is_tag_list_open:!1}},computed:T(T({},Object(r.d)(["tags","selected"])),{},{activeTag:function(){var t=this;return this.tags.find((function(e){return e.id==t.tag_id_edit}))}}),methods:{editTag:function(t){(t=parseInt(t))==this.tag_id_edit?this.tag_id_edit=0:this.tag_id_edit=t},addTag:function(){this.is_tag_list_open=!this.is_tag_list_open},selectTag:function(t){var e=this;this.$store.dispatch("select",{event:null,tag_id:t}).then((function(){e.is_tag_list_open=!1}))},unselectTag:function(t){this.$store.dispatch("unselect",{event:null,tag_id:t})},drop:function(t){t.preventDefault();var e=t.dataTransfer.getData("text"),i=t.target.closest(".vr-tag");if(i){var n=i.getAttribute("data-key"),s=this.tags.findIndex((function(t){return t.id==e})),a=this.tags.findIndex((function(t){return t.id==n}));s!==a&&-1!==s&&-1!==a&&this.$store.dispatch("dragAndDrop",{source:{id:e,index:s},target:{id:n,index:a}})}},allowDrop:function(t){t.target.closest(".vr-tag")&&t.preventDefault()}}},E=Object(d.a)($,m,[],!1,null,null,null);E.options.__file="js/modules/news-tag/widget-select/components/index.vue";var L=E.exports;i(64);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.a.use(r.b);var q=new r.b.Store({strict:!1,state:{id_blog:null,selected:[],tags:[]},mutations:{init:function(t,e){"object"===D(e)&&("id_blog"in e&&(t.id_blog=e.id_blog),"selected"in e&&(t.selected=e.selected))},setTags:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.tags=e},update:function(t,e){var i=t.tags.findIndex((function(t){return t.id==e.id}));-1===i?t.tags.push(e):t.tags.splice(i,1,e)},select:function(t,e){var i=e;"object"!==D(i)&&(i=[i]),i.forEach((function(e){-1===t.selected.findIndex((function(t){return t==e}))&&t.selected.push(e)}))},unselect:function(t,e){var i=e;"object"!==D(i)&&(i=[i]),i.forEach((function(e){var i=t.selected.findIndex((function(t){return t==e}));i>=0&&t.selected.splice(i,1)}))},deleteTag:function(t,e){var i;(i=t.selected.findIndex((function(t){return t==e})))>=0&&t.selected.splice(i,1),(i=t.tags.findIndex((function(t){return t.id==e})))>=0&&t.tags.splice(i,1)}},actions:{setTags:function(t,e){var i=t.commit;return new Promise((function(t,e){vo.ajax(event,"/ext/tag/news-tag-list",null,(function(e){"object"===D(e)&&"tags"in e&&i("setTags",e.tags),t()}))}))},saveTag:function(t,e){var i=t.commit,n=e.event,s=e.formData;return new Promise((function(t,e){vo.ajax(n,"/ext/tag/news-tag-update",s,(function(n){"object"===D(n)&&"newsTag"in n?(i("update",n.newsTag),t(n.newsTag)):e("Data load error!")}))}))},deleteTag:function(t,e){var i=t.commit;return new Promise((function(t,n){vo.ajax(event,"/ext/tag/news-tag-delete",{id:e},(function(s){"object"===D(s)&&"status"in s?(i("deleteTag",e),t()):n("Data load error!")}))}))},select:function(t,e){var i=this,n=t.commit,s=e.event,a=e.tag_id;return this.state.id_blog?new Promise((function(t,e){vo.ajax(s,"/ext/tag/news-tag-select",{id:i.state.id_blog,id_tag:a},(function(i){"object"===D(i)&&"status"in i?(n("select",a),t()):e("Data load error!")}))})):new Promise((function(t,e){n("select",a),t()}))},unselect:function(t,e){var i=this,n=t.commit,s=e.event,a=e.tag_id;return this.state.id_blog?new Promise((function(t,e){vo.ajax(s,"/ext/tag/news-tag-unselect",{id:i.state.id_blog,id_tag:a},(function(i){"object"===D(i)&&"status"in i?(n("unselect",a),t()):e("Data load error!")}))})):new Promise((function(t,e){n("unselect",a),t()}))},dragAndDrop:function(t,e){var i=t.commit;return new Promise((function(t,n){vo.ajax(event,"/ext/tag/news-tag-drag-and-drop",e,(function(e){"object"===D(e)&&"tags"in e&&i("setTags",e.tags),t()}))}))}}});n.a.use(r.b),window.createNewsTagWidgetSelect=function(t,e){q.commit("init",e),q.dispatch("setTags"),new n.a({render:function(t){return t(L)},el:t,store:q})};var N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"t-teg-bloc-dostup",staticStyle:{"margin-bottom":"10px"}},[i("div",[i("input",{attrs:{type:"hidden",name:t.input_name,value:"",form:t.form_id}}),t._v(" "),t._l(t.tags,(function(e){return t.selected.findIndex((function(t){return t==e.id}))>=0?i("input",{attrs:{type:"hidden",name:t.input_name+"[]",form:t.form_id},domProps:{value:e.id}}):t._e()})),t._v(" "),t._l(t.tags,(function(e){return t.selected.findIndex((function(t){return t==e.id}))>=0?i("Tag",{key:e.id,attrs:{tag:e,mods:["edit","delete","unselect"]},on:{"select-tag":t.selectTag,"unselect-tag":t.unselectTag}}):t._e()})),t._v(" "),i("span",{staticClass:"t-teg-dodat",on:{click:t.addTag}},[t._v("+ додати тег")])],2)]),t._v(" "),t.is_tag_list_open?i("div",{staticClass:"t-teg-bloc"},[i("p",{staticClass:"t-blog-nazva"},[t._v("Обрати тег:")]),t._v(" "),i("div",{on:{drop:function(e){return t.drop(e)},dragover:function(e){return t.allowDrop(e)}}},[t._l(t.tags,(function(e){return-1===t.selected.findIndex((function(t){return t==e.id}))?i("Tag",{key:e.id,attrs:{tag:e,mods:["edit","delete","select","drag-and-drop"]},on:{"select-tag":t.selectTag,"unselect-tag":t.unselectTag}}):t._e()})),t._v(" "),i("Tag",{attrs:{mods:[],is_add_tag:!0,is_editing_open:t.selected.length>=t.tags.length},on:{"select-tag":t.selectTag,"unselect-tag":t.unselectTag,"cancel-edit":t.addTag}})],2)]):t._e()])};N._withStripped=!0;var B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"t-teg-bloc-nu"},[i("form",{attrs:{id:"vr-tag-editor-"+t.id}},[i("input",{attrs:{type:"hidden",name:"id"},domProps:{value:t.id}}),t._v(" "),i("input",{attrs:{type:"hidden",name:"Tag[obj_type]"},domProps:{value:t.obj_data.obj_type}}),t._v(" "),i("input",{attrs:{type:"hidden",name:"Tag[obj_id]"},domProps:{value:t.obj_data.obj_id}}),t._v(" "),i("input",{attrs:{type:"hidden",name:"Tag[obj_sub_id]"},domProps:{value:t.obj_data.obj_sub_id}}),t._v(" "),i("input",{attrs:{type:"hidden",name:"Tag[style]"},domProps:{value:t.style}}),t._v(" "),i("input",{staticStyle:{width:"70%"},attrs:{type:"text",name:"Tag[title]",placeholder:"Вкажіть назву..."},domProps:{value:t.title},on:{input:t.updateTitle,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.clickSave(e)}}}),t._v(" "),i("span",{attrs:{title:"Задати стиль"},on:{click:t.openStyle}},[i("i",{staticClass:"b-icon b-icon-nastroika"})]),t._v(" "),i("span",{ref:"saveBtn",attrs:{title:"Зберегти"},on:{click:t.save}},[i("i",{staticClass:"b-icon b-icon-sohranit"})]),t._v(" "),i("span",{attrs:{title:"Скасувати"},on:{click:t.cancel}},[i("i",{staticClass:"b-icon b-icon-delet"})]),t._v(" "),t.is_style_open?i("TagStyle",{attrs:{active:t.style},on:{"set-style":t.setStyle}}):t._e()],1)])};B._withStripped=!0;var M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t-teg-vse-vibor"},[i("span",{class:{active:0===t.active,"t-style-0":!0},attrs:{"data-style":"0"},on:{click:t.setStyle}},[t._v(" Стиль №0 ")]),t._v(" "),i("span",{class:{active:1===t.active,"t-style-1":!0},attrs:{"data-style":"1"},on:{click:t.setStyle}},[t._v(" Стиль №1 ")]),t._v(" "),i("span",{class:{active:2===t.active,"t-style-2":!0},attrs:{"data-style":"2"},on:{click:t.setStyle}},[t._v(" Стиль №2 ")]),t._v(" "),i("span",{class:{active:3===t.active,"t-style-3":!0},attrs:{"data-style":"3"},on:{click:t.setStyle}},[t._v(" Стиль №3 ")]),t._v(" "),i("span",{class:{active:4===t.active,"t-style-4":!0},attrs:{"data-style":"4"},on:{click:t.setStyle}},[t._v(" Стиль №4 ")]),t._v(" "),i("span",{class:{active:5===t.active,"t-style-5":!0},attrs:{"data-style":"5"},on:{click:t.setStyle}},[t._v(" Стиль №5 ")]),t._v(" "),i("span",{class:{active:6===t.active,"t-style-6":!0},attrs:{"data-style":"6"},on:{click:t.setStyle}},[t._v(" Стиль №6 ")]),t._v(" "),i("span",{class:{active:7===t.active,"t-style-7":!0},attrs:{"data-style":"7"},on:{click:t.setStyle}},[t._v(" Стиль №7 ")]),t._v(" "),i("span",{class:{active:8===t.active,"t-style-8":!0},attrs:{"data-style":"8"},on:{click:t.setStyle}},[t._v(" Стиль №8 ")]),t._v(" "),i("span",{class:{active:9===t.active,"t-style-9":!0},attrs:{"data-style":"9"},on:{click:t.setStyle}},[t._v(" Стиль №9 ")]),t._v(" "),i("span",{class:{active:10===t.active,"t-style-10":!0},attrs:{"data-style":"10"},on:{click:t.setStyle}},[t._v(" Стиль №10 ")]),t._v(" "),i("span",{class:{active:11===t.active,"t-style-11":!0},attrs:{"data-style":"11"},on:{click:t.setStyle}},[t._v(" Стиль №11 ")]),t._v(" "),i("span",{class:{active:12===t.active,"t-style-12":!0},attrs:{"data-style":"12"},on:{click:t.setStyle}},[t._v(" Стиль №12 ")])])};M._withStripped=!0;var U={name:"TagStyle",props:["active"],methods:{setStyle:function(t){this.$emit("set-style",parseInt(t.target.getAttribute("data-style")))}}},F=Object(d.a)(U,M,[],!1,null,null,null);function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function z(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}F.options.__file="js/modules/tag/components/tag-style.vue";var Q={name:"TagEditor",components:{TagStyle:F.exports},props:["tag"],data:function(){return{id:"",style:0,title:"",is_save_start:!1,is_style_open:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?H(Object(i),!0).forEach((function(e){z(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):H(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(r.d)(["obj_data"])),methods:{save:function(t){var e=this;"object"===R(t)&&t.preventDefault(),this.is_save_start||(this.is_save_start=!0,this.$store.dispatch("saveTag",{event:null,formData:"#vr-tag-editor-"+this.id}).then((function(t){e.$emit("saved",t.id)}),(function(){})).finally((function(){e.is_save_start=!1})))},cancel:function(){this.$emit("cancel-edit")},setStyle:function(t){this.style=t,this.is_style_open=!1,this.$emit("set-style",this.style)},openStyle:function(){this.is_style_open=!this.is_style_open},updateTitle:function(t){this.title=t.target.value},clickSave:function(t){t.preventDefault(),this.$refs.saveBtn.click()},loadFromTag:function(t){this.id=t?t.id:"",this.title=t?this.tag.title:"",this.style=t?this.tag.style:0}},watch:{tag:function(t){this.loadFromTag(t)}},created:function(){this.loadFromTag(this.tag)}},W=Object(d.a)(Q,B,[],!1,null,null,null);W.options.__file="js/modules/tag/components/tag-editor.vue";var V=W.exports,J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{class:[this.tag?"vr-tag":"t-teg-stvor",t.className],attrs:{draggable:void 0!==t.mods&&t.mods.indexOf("drag-and-drop")>=0,"data-key":t.tag?t.tag.id:0},on:{dragstart:function(e){return t.drag(e)}}},[t.is_editing?i("TagEditor",{attrs:{tag:t.tag},on:{saved:t.saved,"cancel-edit":t.cancelEdit,"set-style":t.setStyle}}):t.is_add_tag?i("span",{on:{click:t.editTag}},[t._v("+ створити тег")]):i("span",[t._v("\n        "+t._s(t.tag.title)+"\n        "),void 0!==t.mods&&t.mods.indexOf("edit")>=0?i("span",{staticClass:"vr-el",attrs:{title:"Редагувати"},on:{click:t.editTag}},[i("i",{staticClass:"b-icon b-icon-redactor"})]):t._e(),t._v(" "),void 0!==t.mods&&t.mods.indexOf("delete")>=0?i("span",{staticClass:"vr-el",attrs:{title:"Видалити"},on:{click:t.deleteTag}},[i("i",{staticClass:"b-icon b-icon-delet"})]):t._e(),t._v(" "),void 0!==t.mods&&t.mods.indexOf("select")>=0?i("span",{staticClass:"vr-el",attrs:{title:"Обрати"},on:{click:function(e){return t.$emit("select-tag",t.tag.id)}}},[i("i",{staticClass:"b-icon b-icon-dodat"})]):t._e(),t._v(" "),void 0!==t.mods&&t.mods.indexOf("unselect")>=0?i("span",{staticClass:"vr-el",attrs:{title:"Прибрати"},on:{click:function(e){return t.$emit("unselect-tag",t.tag.id)}}},[i("i",{staticClass:"b-icon b-icon-otnat"})]):t._e()])],1)};J._withStripped=!0;var G={name:"Tag",props:["tag","mods","is_add_tag","is_editing_open"],components:{TagEditor:V},data:function(){return{style:0,is_editing:!1}},computed:{className:function(){return this.tag||this.is_editing?"t-style-"+this.style:""}},methods:{drag:function(t){t.dataTransfer.setData("text",this.tag.id)},editTag:function(){this.is_editing=!0},setStyle:function(t){this.style=t},saved:function(t){this.is_editing=!1,this.is_add_tag&&this.$emit("select-tag",t)},cancelEdit:function(){this.is_editing=!1,this.is_editing_open&&this.$emit("cancel-edit")},deleteTag:function(){var t=this;vo.dlg.confirm(null,"Необхідно підтвердження","Тег буде видалено назавжди з усіх записів! Ви впевнені?",(function(){t.$store.dispatch("deleteTag",t.tag.id)}))}},created:function(){this.is_editing_open&&this.editTag(),this.tag&&(this.style=this.tag.style)}},Y=Object(d.a)(G,J,[],!1,null,null,null);function K(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function X(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?K(Object(i),!0).forEach((function(e){Z(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):K(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Z(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Y.options.__file="js/modules/tag/components/tag.vue";var tt={name:"TagWidget",components:{TagEditor:V,Tag:Y.exports},data:function(){return{tag_id_edit:0,is_tag_list_open:!1}},computed:X(X({},Object(r.d)(["tags","selected","input_name","form_id"])),{},{activeTag:function(){var t=this;return this.tags.find((function(e){return e.id==t.tag_id_edit}))}}),methods:{editTag:function(t){(t=parseInt(t))==this.tag_id_edit?this.tag_id_edit=0:this.tag_id_edit=t},addTag:function(){Object(l.o)(!0)&&(this.is_tag_list_open=!this.is_tag_list_open)},selectTag:function(t){var e=this;this.$store.dispatch("select",{event:null,tag_id:t}).then((function(){e.is_tag_list_open=!1}))},unselectTag:function(t){this.$store.dispatch("unselect",{event:null,tag_id:t})},drop:function(t){t.preventDefault();var e=t.dataTransfer.getData("text"),i=t.target.closest(".vr-tag");if(i){var n=i.getAttribute("data-key"),s=this.tags.findIndex((function(t){return t.id==e})),a=this.tags.findIndex((function(t){return t.id==n}));s!==a&&-1!==s&&-1!==a&&this.$store.dispatch("dragAndDrop",{source:{id:e,index:s},target:{id:n,index:a}})}},allowDrop:function(t){t.target.closest(".vr-tag")&&t.preventDefault()}}},et=Object(d.a)(tt,N,[],!1,null,null,null);et.options.__file="js/modules/tag/widget-select/components/widget.vue";var it=et.exports;function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.a.use(r.b);var st=new r.b.Store({strict:!1,state:{input_name:"id_tag[]",form_id:"",active_obj_data:{},obj_data:{},selected:[],tags:[]},mutations:{init:function(t,e){"object"===nt(e)&&("obj_data"in e&&(t.obj_data=e.obj_data),"active_obj_data"in e&&(t.active_obj_data=e.active_obj_data),"selected"in e&&(t.selected=e.selected),"input_name"in e&&(t.input_name=e.input_name),"form_id"in e&&(t.form_id=e.form_id))},setTags:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.tags=e},update:function(t,e){var i=t.tags.findIndex((function(t){return t.id==e.id}));-1===i?t.tags.push(e):t.tags.splice(i,1,e)},select:function(t,e){var i=e;"object"!==nt(i)&&(i=[i]),i.forEach((function(e){-1===t.selected.findIndex((function(t){return t==e}))&&t.selected.push(e)}))},unselect:function(t,e){var i=e;"object"!==nt(i)&&(i=[i]),i.forEach((function(e){var i=t.selected.findIndex((function(t){return t==e}));i>=0&&t.selected.splice(i,1)}))},deleteTag:function(t,e){var i;(i=t.selected.findIndex((function(t){return t==e})))>=0&&t.selected.splice(i,1),(i=t.tags.findIndex((function(t){return t.id==e})))>=0&&t.tags.splice(i,1)}},actions:{setTags:function(t){var e=this,i=t.commit;return new Promise((function(t,n){vo.ajax(event,"/ext/tag/tag-list",{obj_data:e.state.obj_data},(function(e){"object"===nt(e)&&"tags"in e&&i("setTags",e.tags),t()}))}))},saveTag:function(t,e){var i=t.commit,n=e.event,s=e.formData;return new Promise((function(t,e){vo.ajax(n,"/ext/tag/tag-update",s,(function(n){"object"===nt(n)&&"tag"in n?(i("update",n.tag),t(n.tag)):e("Data load error!")}))}))},deleteTag:function(t,e){var i=t.commit;return new Promise((function(t,n){vo.ajax(event,"/ext/tag/tag-delete",{id:e},(function(s){"object"===nt(s)&&"status"in s?(i("deleteTag",e),t()):n("Data load error!")}))}))},select:function(t,e){var i=this,n=t.commit,s=e.event,a=e.tag_id;return Object.keys(this.state.active_obj_data).length?new Promise((function(t,e){vo.ajax(s,"/ext/tag/tag-select",{active_obj_data:i.state.active_obj_data,id_tag:a},(function(i){"object"===nt(i)&&"status"in i?(n("select",a),t()):e("Data load error!")}))})):new Promise((function(t,e){n("select",a),t()}))},unselect:function(t,e){var i=this,n=t.commit,s=e.event,a=e.tag_id;return Object.keys(this.state.active_obj_data).length?new Promise((function(t,e){vo.ajax(s,"/ext/tag/tag-unselect",{active_obj_data:i.state.active_obj_data,id_tag:a},(function(i){"object"===nt(i)&&"status"in i?(n("unselect",a),t()):e("Data load error!")}))})):new Promise((function(t,e){n("unselect",a),t()}))},dragAndDrop:function(t,e){var i=t.commit;return new Promise((function(t,n){vo.ajax(event,"/ext/tag/tag-drag-and-drop",e,(function(e){"object"===nt(e)&&"tags"in e&&i("setTags",e.tags),t()}))}))}}});n.a.use(r.b),window.createTagWidgetSelect=function(t,e){st.commit("init",e),st.dispatch("setTags").then((function(t){})),new n.a({render:function(t){return t(it)},el:t,store:st})};var at=i(16),rt=i(22);n.a.use(r.b);var ot=new r.b.Store({strict:!1,modules:{Category:rt.a}});"widgets"in vo||(vo.widgets={}),vo.widgets.setCategory=function(t,e){new n.a({el:t,render:function(t){return t(at.a,{props:e})},store:ot})};var ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n-wraper-modal n-wraper-modal-lessons"},[i("h3",{staticClass:"n-modal-h3"},[i("i",{staticClass:"n-lessons-icon"}),t._v(" Призначити урок "),t.checkedAccesses.length?i("span",[t._v("для "+t._s(t._f("plural")(t.checkedAccesses.length,["{n} учня","{n} учнів","{n} учнів"])))]):i("span",[t._v("для класу")])]),t._v(" "),i("div",{staticClass:"n-j-modal-btn-closed",on:{click:function(e){return t.$emit("close")}}},[i("span",[t._v("+")])]),t._v(" "),t.pupil_class_init||t.lesson_init?t.pupilClass?t.lesson?i("v-select-lesson-options",{attrs:{lesson:t.lesson,"pupil-class":t.pupilClass,"hidden-inputs":{access:t.checkedAccesses,id_task_parent:t.id_task_parent,id_journal:t.id_journal}},on:{"select-lesson":function(e){t.lesson=e}}}):i("v-select-lesson",{attrs:{id_category:t.id_category,class_int:t.pupilClass.class},on:{"select-lesson":function(e){t.lesson=e}}}):i("v-select-class",{on:{"select-class":function(e){t.pupilClass=e}}}):i("Preloader")],1)};ct._withStripped=!0;var lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-class-manager-pt"},[t._m(0),t._v(" "),i("div",{staticClass:"v-class-manager-list"},[i("ul",t._l(t.pupilClasses,(function(e){return i("li",{key:e.id,on:{click:function(i){return t.$emit("select-class",e)}}},[i("div",{staticClass:"v-class-manager-text"},[i("span",{staticClass:"n-j-modal-klas-span-bold"},[t._v(t._s(t._f("classTitle")(e.class,!1)))]),t._v(" "),i("span",{staticClass:"v-class-manager-text-count"},[t._v("\n                        "+t._s("("+e.title+")")+" - "),parseInt(e.cnt_pupil)?i("span",[t._v(t._s(t._f("plural")(parseInt(e.cnt_pupil),["{n} учень","{n} учня","{n} учнів"])))]):i("span",[t._v("учні відсутні")])])])])})),0)])])};lt._withStripped=!0;var ut=i(13),dt={name:"v-select-class",filters:{yearTitle:ut.b,classTitle:ut.a,plural:l.r},computed:{pupilClasses:function(){return this.$store.state.PupilClass.dataProvider.data}},created:function(){this.$store.dispatch("PupilClass/fetchAll",{year:vo.active_year})}},pt=Object(d.a)(dt,lt,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n-modal-bold-text"},[i("p",[t._v("\n            Оберіть один з уже створених класів або\n        ")]),t._v(" "),i("a",{attrs:{href:"/profile/class-manager?journal=1"}},[t._v("створіть новий")])])}],!1,null,"ff4d2502",null);pt.options.__file="js/modules/journal/widgets/components/v-select-class.vue";var vt=pt.exports,ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"n-modal-lessons-wrap-header"},[t._m(0),t._v(" "),i("div",{class:["n-modal-filter",t.show_filter?"active":""]},[i("div",{staticClass:"n-modal-filter-top-wrap"},[i("div",{staticClass:"n-modal-item-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.title,expression:"filter.title"}],attrs:{type:"text",autocomplete:"off",placeholder:"Введіть назву..."},domProps:{value:t.filter.title},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetchLessons()},input:function(e){e.target.composing||t.$set(t.filter,"title",e.target.value)}}}),t._v(" "),i("button",{on:{click:function(e){return t.fetchLessons()}}},[i("i")])]),t._v(" "),i("div",{staticClass:"n-modal-item-btn"},[t.show_filter?i("a",{staticClass:"n-closed-span",on:{click:function(e){t.show_filter=!1}}},[t._v("Закрити фільтр "),i("i")]):i("a",{staticClass:"n-open-span",on:{click:function(e){t.show_filter=!0}}},[t._v("Відкрити фільтр "),i("i")])])]),t._v(" "),i("div",{staticClass:"n-modal-filter-bottom-wrap"},[i("div",{staticClass:"n-modal-select-wrap"},[i("div",{staticClass:"n-modal-select-item"},[i("i",{staticClass:"n-arrow-modal-select"}),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.searchClassInt,expression:"searchClassInt"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.searchClassInt=e.target.multiple?i:i[0]}}},[i("option",{domProps:{value:""}},[t._v("Обрати клас")]),t._v(" "),t._l([-2,-1,1,2,3,4,5,6,7,8,9,10,11,12,13],(function(e){return i("option",{domProps:{value:e}},[t._v("\n                    "+t._s(t._f("classIntTitle")(e)))])}))],2)]),t._v(" "),i("div",{staticClass:"n-modal-select-item n-modal-select-item-none-icon"},[i("SetCategory",{attrs:{label:!1,"is-search-mode":!0,"value-id":t.searchIdCategory},on:{"select-category":function(e){t.searchIdCategory=e}}})],1)]),t._v(" "),t.isSearch?i("div",{staticClass:"n-modal-clear-filter-wrap"},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:t.clearSearch}},[t._v("Очистити фільтр "),i("i",[t._v("+")])])]):t._e()])]),t._v(" "),i("div",{staticClass:"n-triangle"})]),t._v(" "),i("div",{staticClass:"n-modal-con-home-work n-new-modal-padding"},[i("div",{staticClass:"n-j-wraper-home-work"},[t._l(t.lessons,(function(e){return i("v-select-lesson-item",{key:e.id,attrs:{lesson:e},on:{"select-lesson":function(i){return t.$emit("select-lesson",e)}}})})),t._v(" "),t.lessons.length?t._e():i("div",{staticClass:"n-modal-bold-text"},[i("p",[t._v("\n                    Уроків по заданим фільтрам не знайдено.\n                ")]),t._v(" "),i("a",{attrs:{href:t.createLink}},[t._v("\n                    Створити новий урок\n                ")])])],2),t._v(" "),t.page&&t.page<t.pageCount?i("div",{staticClass:"n-modal-wrap-h-w-btn"},[i("a",{staticClass:"n-modal-blue-btn"},[t._v("Показати ще")])]):t._e()])])};ft._withStripped=!0;var ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n-j-home-work-item"},[i("div",{staticClass:"n-j-con-name-time-h-w"},[i("div",{staticClass:"n-j-col-name-h-w"},[i("i"),i("span",{staticClass:"n-j-class-h-w"},[t._v(t._s(t.category(t.lesson.id_category)?t.category(t.lesson.id_category).title:"-"))])]),t._v(" "),i("div",{staticClass:"n-j-col-time-h-w"},[i("span",{staticClass:"n-j-name-time"},[t._v(t._s(t._f("dateShort")(t.lesson.created_at,"-")))])])]),t._v(" "),i("div",{staticClass:"n-j-name-shablon"},[t._v("\n        "+t._s(t.lesson.title)+"\n    ")]),t._v(" "),i("div",{staticClass:"n-j-info-shablon"},[i("p",{staticClass:"n-j-klas-h-v"},[i("span",{staticClass:"n-j-bold-info"},[t._v("Клас:")]),t._v(" "),i("span",{staticClass:"n-j-content-category"},t._l(t.bitToClassArray(t.lesson.class_bit),(function(e,n){return i("span",[t._v(t._s(t._f("classIntTitle")(e,"-й"))),n!=t.bitToClassArray(t.lesson.class_bit).length-1?i("span",[t._v(", ")]):t._e()])})),0)]),t._v(" "),i("p",{staticClass:"n-j-number-of-blocks"},[i("span",{staticClass:"n-j-bold-info"},[t._v("К-сть блоків:")]),t._v(" "),i("span",{staticClass:"n-j-content-category"},[t._v(t._s(t.lesson.count_block||0))])]),t._v(" "),i("p",{staticClass:"n-j-mandatory-blocks-h-v"},[i("span",{staticClass:"n-j-bold-info"},[t._v("Обов'язкових до виконання:")]),t._v(" "),i("span",{staticClass:"n-j-content-category"},[t._v(t._s(t.lesson.count_required||0))])])]),t._v(" "),t.selectDisabled?i("div",{staticClass:"n-j-con-btn-h-w"},[t._m(0)]):i("div",{staticClass:"n-j-con-btn-h-w"},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-j-btn-review n-j-btn-mobile",on:{click:function(e){return t.$emit("select-lesson")}}},[t._v("\n            Обрати цей урок\n        ")])])])};ht._withStripped=!0;var _t=i(15),mt={name:"v-select-lesson-item",props:["lesson","selectDisabled"],filters:{dateShort:_t.b,classIntTitle:l.d},computed:{category:function(){var t=this;return function(e){return t.$store.getters["Category/oneById"](e)}},bitToClassArray:function(){return function(t){return Object(l.b)(t)}}},methods:{}},gt=Object(d.a)(mt,ht,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"n-j-btn-review n-j-btn-mobile"},[t._v("\n            Ви обрали цей урок "),i("i",[t._v("✓")])])}],!1,null,"f6e5c162",null);gt.options.__file="js/modules/journal/widgets/components/v-select-lesson-item.vue";var yt=gt.exports,bt={name:"v-select-lesson",filters:{classIntTitle:l.d},components:{SetCategory:at.a,vSelectLessonItem:yt},props:["id_category","class_int"],data:function(){return{filter:{title:"",id_category:"",class_int:"",show_mode:""},show_filter:!1}},computed:{createLink:function(){return"/lesson/designer?"+Object(l.z)(this.filter)},searchIdCategory:{get:function(){return this.filter.id_category},set:function(t){this.filter.id_category!=t&&(this.filter.id_category=t,this.fetchLessons())}},searchClassInt:{get:function(){return this.filter.class_int},set:function(t){this.filter.class_int=t,this.fetchLessons()}},searchShowMode:{get:function(){return this.filter.show_mode},set:function(t){this.filter.show_mode=t,this.fetchLessons()}},lessons:function(){return this.$store.state.Lesson.dataProvider.models},isSearch:function(){var t=!1;for(var e in this.filter)if(this.filter[e]){t=!0;break}return t},page:function(){return this.$store.state.Lesson.dataProvider.page},pageCount:function(){return this.$store.state.Lesson.dataProvider.pageCount}},methods:{fetchLessons:function(){this.$store.dispatch("Lesson/fetchAll",JSON.parse(JSON.stringify(this.filter)))},clearSearch:function(){for(var t in this.filter)"show_mode"!==t&&(this.filter[t]="");this.fetchLessons()}},created:function(){this.filter.class_int=this.class_int?parseInt(this.class_int):"",this.filter.id_category=this.id_category?parseInt(this.id_category):"",this.show_filter=this.isSearch,this.fetchLessons()}},wt=Object(d.a)(bt,ft,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n-modal-bold-text"},[i("p",[t._v("\n            Оберіть один з уже створених уроків або\n          ")]),t._v(" "),i("a",{attrs:{href:"/lesson/designer"}},[t._v("створіть новий")])])}],!1,null,"5df12441",null);wt.options.__file="js/modules/journal/widgets/components/v-select-lesson.vue";var Ct=wt.exports,kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"n-modal-bold-text n-new-modal-padding n-header-link"},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){return t.$emit("select-lesson",null)}}},[i("i",{staticClass:"n-modal-arrow-rolback"}),t._v(" Повернутися до вибору уроків\n        ")]),t._v(" "),i("div",{staticClass:"n-triangle"})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.prev_config,expression:"!prev_config"}],staticClass:"n-modal-con-home-work n-new-modal-padding"},[i("div",{staticClass:"n-j-wraper-home-work n-modal-iner-wrap-h-w"},[i("v-select-lesson-item",{attrs:{lesson:t.lesson,"select-disabled":!0}}),t._v(" "),i("div",{staticClass:"n-j-home-work-item n-j-home-work-item-setings"},[i("form",{attrs:{id:"vr-lesson-config-create"}},[i("button",{staticStyle:{display:"none"},attrs:{type:"submit",disabled:"disabled"}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.confirm,expression:"confirm"}],attrs:{type:"hidden",name:"confirm"},domProps:{value:t.confirm},on:{input:function(e){e.target.composing||(t.confirm=e.target.value)}}}),t._v(" "),i("input",{attrs:{type:"hidden",name:"LessonConfig[id_lesson]"},domProps:{value:t.lesson.id}}),t._v(" "),i("input",{attrs:{type:"hidden",name:"LessonConfig[id_pupil_class]"},domProps:{value:t.pupilClass.id}}),t._v(" "),t._l(t.hiddenInputs,(function(t,e){return i("input",{attrs:{type:"hidden",name:e},domProps:{value:t}})})),t._v(" "),i("div",{staticClass:"n-j-name-shablon"},[t._v("\n                        Вкажіть налаштування:\n                    ")]),t._v(" "),i("div",{staticClass:"n-modal-sistem-rating"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.markSystem,expression:"markSystem"}],attrs:{id:"vr-create-testing-3-mark_system",name:"LessonConfig[mark_system]"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.markSystem=e.target.multiple?i:i[0]}}},[i("option",{domProps:{value:0}},[t._v("Система оцінювання")]),t._v(" "),i("option",{domProps:{value:1}},[t._v("Для учнів (12 балів)")]),t._v(" "),i("option",{domProps:{value:2}},[t._v("Для дошкільнят (без оцінок)")]),t._v(" "),i("option",{domProps:{value:3}},[t._v("Для студентів (100 балів, ECTS)")])]),t._v(" "),i("div",{staticClass:"n-sistem-rating-select-group"},[i("div",{staticClass:"n-select-rating-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.maxMark,expression:"maxMark"}],attrs:{type:"text",id:"vr-create-testing-3-max_mark",name:"LessonConfig[max_mark]",autocomplete:"off",placeholder:"Максимальний бал"},domProps:{value:t.maxMark},on:{input:function(e){e.target.composing||(t.maxMark=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"n-select-rating-item"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.minMark,expression:"minMark"}],attrs:{type:"text",id:"vr-create-testing-3-min_mark",name:"LessonConfig[min_mark]",autocomplete:"off",placeholder:"Мінімальний бал зарахування"},domProps:{value:t.minMark},on:{input:function(e){e.target.composing||(t.minMark=e.target.value)}}})])]),t._v(" "),[2,3].indexOf(t.markSystem)>=0?i("div",[2===t.markSystem?i("p",{staticClass:"a-inform-otsinka"},[t._v('* учням в кінці буде показано текстову оцінку "Ти можеш краще!", "Ти йдеш до успіху!", "Це тріумф!"')]):t._e(),t._v(" "),3===t.markSystem?i("p",{staticClass:"a-inform-otsinka"},[t._v("* учням в кінці буде показано кількість набраних балів та оцінку ECTS")]):t._e()]):t._e()]),t._v(" "),i("div",{staticClass:"n-modal-add-sert"},[i("div",{staticClass:"n-modal-con-lable"},[i("input",{attrs:{type:"hidden",name:"LessonConfig[option_bit]",value:"0"}}),t._v(" "),i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.is_cert,expression:"is_cert"}],attrs:{type:"checkbox",name:"LessonConfig[option_bit]",value:"1"},domProps:{checked:Array.isArray(t.is_cert)?t._i(t.is_cert,"1")>-1:t.is_cert},on:{change:function(e){var i=t.is_cert,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=t._i(i,"1");n.checked?a<0&&(t.is_cert=i.concat(["1"])):a>-1&&(t.is_cert=i.slice(0,a).concat(i.slice(a+1)))}else t.is_cert=s}}}),t._v(" "),i("p",[t._v("Видати сертифікат після проходження")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.is_cert,expression:"is_cert"}],staticClass:"n-modal-kode-sert"},[i("input",{attrs:{type:"text",autocomplete:"off",name:"LessonConfig[id_cert_tpl]",placeholder:"Код шаблона сертифікату..."}})])]),t._v(" "),i("div",{staticClass:"n-j-con-btn-h-w"},[i("a",{staticClass:"n-j-btn-review n-j-btn-mobile",on:{click:function(e){return t.saveConfig()}}},[t._v("\n                            Призначити цей урок\n                        ")])])],2)])],1)]),t._v(" "),t.prev_config?i("div",{staticClass:"n-j-modal-last-step-wrap"},[i("div",{staticClass:"n-j-modal-last-step-top-con"},[i("span",{staticClass:"n-j-modal-klas-span-light"},[t._v("Ви вже призначали урок ")]),i("span",{staticClass:"n-j-modal-klas-span-bold"},[t._v("«"+t._s(t.lesson.title)+"» ")]),t._v(" "),i("span",{staticClass:"n-j-modal-klas-span-light"},[t._v("класу")]),t._v(" "),i("span",{staticClass:"n-j-modal-klas-span-bold"},[t._v("«"+t._s(t._f("classTitle")(t.pupilClass.class,!1))+" "+t._s("("+t.pupilClass.title+")")+"»")]),t._v("\n            "+t._s(t._f("dateStandard0")(t.prev_config.created_at))+"\n            "),i("span",{staticClass:"n-j-modal-klas-span-light"},[t._v("(перейти до "),i("a",{attrs:{href:"/lesson/journal/"+t.pupilClass.id+"/"+t.lesson.id_category}},[t._v("журналу")]),t._v(")")])]),t._v(" "),i("div",{staticClass:"n-j-btn-group-modal"},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-j-modal-btn-issue-tasks n-j-modal-btn-blue",on:{click:function(e){return t.$emit("select-lesson",null)}}},[t._v("Обрати інший урок")]),t._v(" "),i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-j-modal-btn-issue-tasks",on:{click:t.saveConfig}},[t._v("Призначити ще раз")])])]):t._e()])};kt._withStripped=!0;var xt={name:"v-select-lesson-options",props:["lesson","pupilClass","hiddenInputs"],components:{vSelectLessonItem:yt},filters:{classTitle:ut.a,dateStandard0:_t.d},data:function(){return{prev_config:null,confirm:0,_mark_system:1,_max_mark:12,_min_mark:3,is_cert:!1}},computed:{markSystem:{get:function(){return this.$data._mark_system},set:function(t){this.$data._mark_system=t,this.refreshMarks()}},minMark:{get:function(){return this.$data._min_mark},set:function(t){this.$data._min_mark=t,((t=parseInt(t))<0||Number.isNaN(t))&&(t=0),t>this.maxMark&&(t=this.maxMark),this.$data._min_mark=t}},maxMark:{get:function(){return this.$data._max_mark},set:function(t){this.$data._max_mark=t,((t=parseInt(t))<0||Number.isNaN(t))&&(t=0),this.$data._max_mark=t,this.$data._mark_system=0}}},methods:{refreshMarks:function(){0===this.$data._mark_system&&(this.$data._max_mark="",this.$data._min_mark=""),1===this.$data._mark_system&&(this.$data._max_mark=12,this.$data._min_mark=3),2===this.$data._mark_system&&(this.$data._max_mark=12,this.$data._min_mark=3),3===this.$data._mark_system&&(this.$data._max_mark=100,this.$data._min_mark=60)},saveConfig:function(t){var e=this;vo.ajax(t,"/ext/journal/set-lesson","#vr-lesson-config-create",(function(t){"confirm"in t?(e.confirm=1,e.prev_config=t.config):"task"in t&&(window.location.href="/lesson/journal/".concat(e.pupilClass.id,"/").concat(t.task.id_journal||""))}))}}},St=Object(d.a)(xt,kt,[],!1,null,"3fdd8492",null);St.options.__file="js/modules/journal/widgets/components/v-select-lesson-options.vue";var jt=St.exports,Pt=i(8);function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ot={name:"set-lesson-app",components:{vSelectClass:vt,vSelectLesson:Ct,vSelectLessonOptions:jt,Preloader:Pt.a},props:["id_lesson","id_pupil_class","id_category","id_journal","accesses","id_task_parent"],filters:{plural:l.r},data:function(){return{pupil_class_init:!1,lesson_init:!1,pupilClass:null,lesson:null}},computed:{checkedAccesses:function(){return this.accesses&&"object"===It(this.accesses)?this.accesses:[]}},methods:{},created:function(){var t=this;this.id_pupil_class?this.$store.dispatch("PupilClass/getOne",this.id_pupil_class).then((function(e){t.pupilClass=e})).finally((function(){t.pupil_class_init=!0})):this.pupil_class_init=!0,this.id_lesson?this.$store.dispatch("Lesson/getOne",this.id_lesson).then((function(e){t.lesson=e})).finally((function(){t.lesson_init=!0})):this.lesson_init=!0}},Tt=Object(d.a)(Ot,ct,[],!1,null,"9acfa862",null);Tt.options.__file="js/modules/journal/widgets/SetLessonApp.vue";var At=Tt.exports,$t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n-wraper-modal n-wraper-modal-test-olimp"},[i("h3",{staticClass:"n-modal-h3"},[i("i"),t._v("Провести олімпіаду "),t.checkedAccesses.length?i("span",[t._v("для "+t._s(t._f("plural")(t.checkedAccesses.length,["{n} учня","{n} учнів","{n} учнів"])))]):i("span",[t._v("для класу")])]),t._v(" "),i("div",{staticClass:"n-j-modal-btn-closed",on:{click:t.close}},[i("span",[t._v("+")])]),t._v(" "),t.pupil_class_init||t.olp_series_init?i("div",[i("div",[i("div",{staticClass:"n-j-modal-refactor-wrap n-j-modal-refactor-wrap-previous-step"},[t.pupilClass?i("div",{class:{"n-j-title-modal-con":!0}},[i("p",[i("span",{staticClass:"n-j-modal-klas-span-bold"},[t._v(t._s(t._f("classTitle")(t.pupilClass.class,!1)))]),t._v(" "),i("span",{staticClass:"v-class-manager-text-count"},[t._v(t._s("("+t.pupilClass.title+")")+" - "+t._s(parseInt(t.pupilClass.cnt_pupil)>0?t.plural(t.pupilClass.cnt_pupil):"учні відсутні"))]),t._v(" "),i("a",{staticClass:"a-pointer-class",on:{click:function(e){t.pupilClass=null}}},[i("i",{staticClass:"n-j-refactor-icon-modal"})])])]):t._e(),t._v(" "),t.olpSeries?i("div",{class:{"n-j-title-modal-con":!0}},[i("p",[i("span",{staticClass:"n-j-modal-klas-span-bold"},[t._v(t._s(t.olpSeries.title))]),t._v(" "),i("span",{staticClass:"v-class-manager-text-count"},[t._v("("+t._s(t._f("olympTypeString")(t.olpSeries.type))+")")]),t._v(" "),i("a",{staticClass:"a-pointer-class",on:{click:function(e){t.olpSeries=null}}},[i("i",{staticClass:"n-j-refactor-icon-modal"})])])]):t._e(),t._v(" "),i("div",{staticClass:"n-triangle"})]),t._v(" "),i("div",{staticClass:"n-j-modal-refactor-wrap"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.pupilClass&&!t.olpSeries,expression:"pupilClass && !olpSeries"}],class:{"n-modal-bold-text":!0}},[i("p",[t._v("Оберіть олімпіаду")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.pupilClass&&t.olpSeries,expression:"pupilClass && olpSeries"}],class:{"n-j-title-modal-con":!0}},[i("p",[t._v("Оберіть предмет(и)")])]),t._v(" "),t.pupilClass?t.olpSeries?t.olpSeries.olpSubjects.length>1?i("v-select-olp-subject",{attrs:{class_int:t.pupilClass.class,olpSeries:t.olpSeries},on:{"select-subjects":t.selectSubjects}}):t._e():i("v-select-olp-series",{attrs:{models:t.models},on:{"select-olp-series":t.selectOlpSeries}}):i("v-select-class",{on:{"select-class":function(e){t.pupilClass=e}}})],1),t._v(" "),t.is_saving?i("Preloader"):i("div",{staticClass:"n-j-btn-group-modal"},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],staticClass:"n-j-modal-btn-return",on:{click:t.goBackClick}},[t._v("<  "+t._s(t.pupilClass?"Повернутися на попередній крок":"Згорнути вікно"))]),t._v(" "),i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],class:{"n-j-modal-btn-issue-tasks":!0,"n-j-modal-btn-issue-tasks-disable":!t.canCreate},on:{click:t.createTask}},[t._v("Провести олімпіаду")])])],1)]):i("Preloader")],1)};$t._withStripped=!0;var Et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n-modal-olimp-wrap"},t._l(t.models,(function(e){return e.olpSubjects.length>0?i("div",{staticClass:"n-modal-olimp-item",on:{click:function(i){return t.$emit("select-olp-series",e)}}},[e.fb_img?i("img",{attrs:{src:t._f("fileUrl")(e.fb_img,300,200),alt:""}}):t._e(),t._v(" "),i("div",{staticClass:"n-modal-wrap-content-olimp"},[i("div",{staticClass:"n-modal-content-olimp"},[i("p",{staticClass:"n-olimp-title"},[t._v("\n                    "+t._s(t._f("olympTypeString")(e.type))+":\n                ")]),t._v(" "),i("p",{staticClass:"n-olimp-title"},[t._v("\n                    "+t._s(e.title)+"\n                ")]),t._v(" "),i("p",{staticClass:"n-olimp-text"},[t._v("\n                    "+t._s(e.olpSubjects.length)+" "+t._s(t._f("plural")(e.olpSubjects.length,["предмет","предмета","предметів"]))+"\n                ")])])])]):t._e()})),0)};Et._withStripped=!0;var Lt={name:"v-select-olp-series",props:{models:{type:Array,default:[]}},components:{Preloader:Pt.a},filters:{fileUrl:l.g,plural:l.r,olympTypeString:l.p}},Dt=Object(d.a)(Lt,Et,[],!1,null,"7b61e54c",null);Dt.options.__file="js/modules/journal/widgets/components/v-select-olp-series.vue";var qt=Dt.exports,Nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.olpSubjects,(function(e){return i("div",{staticClass:"v-class-manager-pt v-class-manager-pt-non-pad"},[i("div",{},[i("div",{staticClass:"v-class-manager-list"},[i("ul",[i("li",{staticClass:"n-li-modal-flex",on:{click:function(i){t.selected=e.id}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedSubjects,expression:"selectedSubjects"}],staticClass:"n-modal-img-olimp",attrs:{type:"checkbox",id:"olp-subject-"+e.id},domProps:{value:e.id,checked:Array.isArray(t.selectedSubjects)?t._i(t.selectedSubjects,e.id)>-1:t.selectedSubjects},on:{click:function(i){i.stopPropagation(),t.selected=e.id},change:function(i){var n=t.selectedSubjects,s=i.target,a=!!s.checked;if(Array.isArray(n)){var r=e.id,o=t._i(n,r);s.checked?o<0&&(t.selectedSubjects=n.concat([r])):o>-1&&(t.selectedSubjects=n.slice(0,o).concat(n.slice(o+1)))}else t.selectedSubjects=a}}}),t._v(" "),e.fb_img?i("div",{staticClass:"n-modal-img-olimp"},[i("img",{attrs:{src:t._f("fileUrl")(e.fb_img,80,45),alt:""}})]):t._e(),t._v(" "),i("div",{},[t._v("\n                            "+t._s(e.title)+"\n                        ")])])])])])])})),0)};Nt._withStripped=!0;var Bt={name:"v-select-olp-subject",props:["class_int","olpSeries"],data:function(){return{selectedSubjects:[]}},filters:{fileUrl:l.g},computed:{olpSubjects:function(){var t=this;return this.olpSeries.olpSubjects.filter((function(e){return!t.class_int||e.classArr.indexOf(t.class_int)>=0}))},selected:{get:function(){return this.selectedSubjects},set:function(t){var e=this.selectedSubjects.indexOf(t);e>=0?this.selectedSubjects.splice(e,1):this.selectedSubjects.push(t)}}},watch:{selectedSubjects:function(t,e){this.$emit("select-subjects",JSON.parse(JSON.stringify(t)))}}},Mt=(i(93),Object(d.a)(Bt,Nt,[],!1,null,"4f9fc94e",null));Mt.options.__file="js/modules/journal/widgets/components/v-select-olp-subject.vue";var Ut=Mt.exports;function Ft(t){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Rt={name:"SetOlpApp",components:{Preloader:Pt.a,vSelectClass:vt,vSelectOlpSeries:qt,vSelectOlpSubject:Ut},filters:{classTitle:ut.a,dateStandard0:_t.d,olympTypeString:l.p,plural:l.r},props:["id_olp_series","id_pupil_class","accesses","id_task_parent"],data:function(){return{olpSeriesList:[],is_saving:!1,pupil_class_init:!1,olp_series_init:!1,pupilClass:null,olpSeries:null,selectedSubjects:[]}},computed:{canCreate:function(){return this.pupilClass&&this.olpSeries&&this.selectedSubjects.length},models:function(){var t=this,e=this.olpSeriesList.map((function(e){return e.olpSubjects=e.olpSubjects.filter((function(e){return!t.pupilClass||!t.pupilClass.class||e.classArr.findIndex((function(e){return e==t.pupilClass.class}))>=0})),e}));return e.filter((function(t){return t.olpSubjects.length>0}))},checkedAccesses:function(){return this.accesses&&"object"===Ft(this.accesses)?this.accesses:[]}},methods:{selectOlpSeries:function(t){this.olpSeries=t,this.olpSeries&&1===this.olpSeries.olpSubjects.length&&(this.selectedSubjects.push(this.olpSeries.olpSubjects[0].id),this.createTask(null))},selectSubjects:function(t){this.selectedSubjects=t},plural:function(t){return Object(l.r)(t,["{n} учень","{n} учня","{n} учнів"])},close:function(){vo.dlg.hide()},goBackClick:function(){return this.olpSeries?this.olpSeries=null:this.pupilClass?this.pupilClass=null:this.close()},createTask:function(t){var e=this;if(!this.canCreate)return vo.popup("Виконайте усі необхідні кроки");this.is_saving=!0,vo.ajax(null,"/ext/journal/set-olp",{id_pupil_class:this.pupilClass.id,id_olp_subject:this.selectedSubjects,id_olp_series:this.olpSeries.id,access:this.checkedAccesses,id_task_parent:this.id_task_parent},(function(t){return"id_journal"in t&&t.id_journal?window.location="/lesson/journal/".concat(e.pupilClass.id,"/").concat(t.id_journal):"data"in t?window.location="/lesson/journal/".concat(e.pupilClass.id):void setTimeout((function(){e.is_saving=!1}),800)}))},initPupilClass:function(){var t=this,e=new Promise((function(t){t(null)}));return this.id_pupil_class&&(e=this.$store.dispatch("PupilClass/getOne",this.id_pupil_class)),e.then((function(e){t.pupilClass=e,t.pupil_class_init=!0}))}},created:function(){var t=this;this.initPupilClass().then((function(){t.$store.dispatch("OlpSeries/fetchAll").then((function(e){t.olpSeriesList=e})).finally((function(){t.id_olp_series&&t.pupilClass&&(t.olpSeries=t.models.find((function(e){return e.id==t.id_olp_series}))||null),t.olp_series_init=!0}))}))}},Ht=Object(d.a)(Rt,$t,[],!1,null,"dc4cad50",null);Ht.options.__file="js/modules/journal/widgets/SetOlpApp.vue";var zt=Ht.exports,Qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n-wraper-modal n-wraper-modal-test"},[i("h3",{staticClass:"n-modal-h3"},[i("i"),t._v("Призначити тест "),t.checkedAccesses.length?i("span",[t._v("для "+t._s(t._f("plural")(t.checkedAccesses.length,["{n} учня","{n} учнів","{n} учнів"])))]):i("span",[t._v("для класу")])]),t._v(" "),i("div",{staticClass:"n-j-modal-btn-closed",on:{click:function(e){return t.$emit("close")}}},[i("span",[t._v("+")])]),t._v(" "),t.pupil_class_init||t.test_init?t.pupilClass?t.test?i("create-testing",{ref:"createTesting",attrs:{id_widget:"select",is_journal:!0,id_test:t.test.id,config:{},hiddenInputs:{id_pupil_class:t.pupilClass.id,access:t.checkedAccesses,id_task_parent:t.id_task_parent,id_journal:t.id_journal}}}):i("v-select-test",{attrs:{class_int:t.pupilClass.class,id_category:t.id_category},on:{"select-test":t.selectTest}}):i("v-select-class",{on:{"select-class":function(e){t.pupilClass=e}}}):i("Preloader"),t._v(" "),t.canCreate?i("div",{staticClass:"n-j-btn-group-modal"},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],class:{"n-j-modal-btn-issue-tasks":!0},on:{click:t.createTask}},[t._v("Призначити тест")])]):t._e()],1)};function Wt(t){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Qt._withStripped=!0;var Vt={name:"set-lesson-app",components:{vSelectClass:vt,vSelectTest:i(42).a,CreateTesting:h.a,Preloader:Pt.a},props:["id_pupil_class","id_test","id_category","class_bit","accesses","id_journal","id_task_parent"],filters:{plural:l.r},data:function(){return{pupil_class_init:!1,test_init:!1,pupilClass:null,test:null}},computed:{canCreate:function(){return this.pupilClass&&this.test},checkedAccesses:function(){return this.accesses&&"object"===Wt(this.accesses)?this.accesses:[]}},methods:{selectTest:function(t){this.test=t},createTask:function(){var t=this;if(!this.canCreate)return vo.popup("Виконайте усі кроки");vo.ajax(null,"/ext/journal/set-test","#"+this.$refs.createTesting.formId(),(function(e){"task"in e&&(window.location.href="/lesson/journal/".concat(t.pupilClass.id,"/").concat(e.task.id_journal||""))}))}},created:function(){var t=this;this.id_pupil_class?this.$store.dispatch("PupilClass/getOne",this.id_pupil_class).then((function(e){t.pupilClass=e})).finally((function(){t.pupil_class_init=!0})):this.pupil_class_init=!0,this.id_lesson?this.$store.dispatch("Lesson/getOne",this.id_lesson).then((function(e){t.test=lesson})).finally((function(){t.test_init=!0})):this.test_init=!0}},Jt=Object(d.a)(Vt,Qt,[],!1,null,"c092c296",null);Jt.options.__file="js/modules/journal/widgets/SetTestApp.vue";var Gt=Jt.exports,Yt={strict:!1,namespaced:!0,state:{dataProvider:{page:null,pageCount:null,pageSize:null,count:null,totalCount:null,data:[]}},getters:{},mutations:{fetchAll:function(t,e){t.dataProvider.page=e.page,t.dataProvider.pageCount=e.pageCount,t.dataProvider.pageSize=e.pageSize,t.dataProvider.count=e.count,t.dataProvider.totalCount=e.totalCount,t.dataProvider.data=e.data}},actions:{fetchAll:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i,n){vo.ajax(null,"/ext/pupil-class/all",e,(function(e){if(e&&"data"in e)return t.commit("fetchAll",e),i();n(e)}))}))},getOne:function(t,e){return new Promise((function(t,i){vo.ajax(null,"/ext/pupil-class/one",{id:e},(function(e){if(e&&"data"in e)return t(e.data);i(e)}))}))}}},Kt={strict:!1,namespaced:!0,state:{dataProvider:{page:null,pageCount:null,pageSize:null,count:null,totalCount:null,models:[]}},getters:{},mutations:{fetchAll:function(t,e){t.dataProvider.page=e.pagination.page,t.dataProvider.pageCount=e.pagination.pageCount,t.dataProvider.pageSize=e.pagination.pageSize,t.dataProvider.count=e.count,t.dataProvider.totalCount=e.totalCount,t.dataProvider.models=e.models}},actions:{fetchAll:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i,n){vo.ajax(null,"/ext/lesson/list",e,(function(e){if(e&&"dataProvider"in e)return t.commit("fetchAll",e.dataProvider),i();n(e)}))}))},getOne:function(t,e){return new Promise((function(t,i){vo.ajax(null,"/ext/lesson/lesson-init",{id:e},(function(e){if(e&&"lesson"in e)return t(e.lesson);i(e)}))}))}}},Xt={strict:!1,namespaced:!0,state:{},getters:{},mutations:{},actions:{fetchAll:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(t,i){vo.ajax(null,"/ext/olymp/all",e,(function(e){if(e&&"dataProvider"in e)return t(e.dataProvider.models);i(e)}))}))},getOne:function(t,e){return new Promise((function(t,i){vo.ajax(null,"/ext/olymp/one",{id:e},(function(e){if(e&&"olpSeries"in e)return t(e.olpSeries);i(e)}))}))}}};n.a.use(r.b);var Zt=new r.b.Store({strict:!1,modules:{PupilClass:Yt,Lesson:Kt,Category:rt.a,OlpSeries:Xt}});"journal"in vo||(vo.journal={}),vo.journal.setLesson=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{class:"n-j-dialog-modal"};Object(l.v)(At,{propsData:t,store:Zt},e)},vo.journal.setOlp=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{class:"n-j-dialog-modal"};Object(l.v)(zt,{propsData:t,store:Zt},e)},vo.journal.setTest=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{class:"n-j-dialog-modal"};Object(l.v)(Gt,{propsData:t,store:Zt},e)};var te=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.is_load?i("span",{staticClass:"v-bar"}):i("div",{staticClass:"n-modal-plus"},[t._m(0),t._v(" "),i("div",{staticClass:"n-bonus-flex-wrap"},[i("div",{staticClass:"n-bonus-item"},[i("p",[t._v("\n        Вже конвертовано:"),i("span",{staticClass:"n-modal-title-small"},[i("b",[t._v(t._s(t.account.payout))]),t._v(" "+t._s(t.bonusStr(t.account.payout))+" із "),i("b",[t._v(t._s(t.account.total))])])]),t._v(" "),t.account.wait?i("p",[t._v("\n        Очікує на конвертацію:"),i("span",{staticClass:"n-modal-title-small"},[i("b",[t._v(t._s(t.account.wait))]),t._v(" "+t._s(t.bonusStr(t.account.wait)))])]):t._e(),t._v(" "),i("p",[t._v("\n        Доступно для конвертації:"),i("span",{staticClass:"n-modal-title-small"},[i("b",[t._v(t._s(t.account.available))]),t._v(" "+t._s(t.bonusStr(t.account.available)))])]),t._v(" "),i("p",[t._v("\n        Вкажіть кількість бонусів, які Ви бажаєте конвертувати\n      ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.transfer,expression:"transfer",modifiers:{number:!0}}],attrs:{type:"text"},domProps:{value:t.transfer},on:{input:function(e){e.target.composing||(t.transfer=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t._v(" "),i("div")]),t._v(" "),t._m(1),t._v(" "),i("div",{staticClass:"n-block-modal-sale",class:{active:10===t.type}},[i("div",{staticClass:"n-top-block-sale"},[i("p",{staticClass:"n-top-block-title"},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){t.type=10}}},[10===t.type?i("span",[t._v("✔")]):t._e(),t._v(" Покупки на Всеосвіті")])])]),t._v(" "),i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:10===t.type,expression:"type===10"}]},[i("div",{staticClass:"n-top-block-sale"},[i("p",{staticClass:"n-top-block-sub-title"},[t._v("Буде конвертовано: "),i("span",{staticClass:"n-top-blog-green-span"},[t._v(t._s(t.transfer)+" "+t._s(t.bonusStr(t.transfer)))])]),t._v(" "),i("p",{staticClass:"n-top-block-sub-title"},[t._v("Зараховано на внутрішній рахунок: "),i("span",{staticClass:"n-top-blog-green-span"},[t._v(t._s(t.transfer)+" грн")])])]),t._v(" "),i("div",{staticClass:"n-bottom-block-sale"},[i("p",{staticClass:"n-bottom-block-sub-title"},[t._v("Бонуси буде переведено на Ваш внутрішній рахунок на Всеосвіті, після чого вони стануть доступні під час\n            оформлення замовлень.")]),t._v(" "),i("p",{staticClass:"n-bottom-block-sub-title"},[t._v("Ви зможете оплатити цими коштами до 100% вартості будь-яких товарів та послуг на Всеосвіті, включаючи фізичні\n            товари (товари, які доставляються поштою). Кошти на внутрішньому рахунку ніколи не сгорають, проте їх не можна\n            передати іншим користувачам.")]),t._v(" "),i("p",{staticClass:"n-bottom-block-sub-title"},[t._v("З коштів переведених на внутрішній рахунок податок не утримується")])])])])],1),t._v(" "),i("div",{staticClass:"n-block-modal-sale",class:{active:20===t.type}},[i("div",{staticClass:"n-top-block-sale"},[i("p",{staticClass:"n-top-block-title"},[i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){t.type=20}}},[20===t.type?i("span",[t._v("✔")]):t._e(),t._v(" Кошти на картку")])])]),t._v(" "),i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:20===t.type,expression:"type===20"}]},[i("div",{staticClass:"n-top-block-sale"},[t.is_active_card?t._e():i("p",{staticClass:"n-top-block-sub-title"},[i("span",{staticClass:"n-top-blog-red-span"},[t._v("(потрібна верифікація)")])]),t._v(" "),t.transfer<100?[i("p",{staticClass:"n-top-block-sub-title"},[t._v("Мінімальна сума конвертації: "),i("span",{staticClass:"n-top-blog-green-span"},[t._v("100 грн")])])]:[i("p",{staticClass:"n-top-block-sub-title"},[t._v("Буде конвертовано: "),i("span",{staticClass:"n-top-blog-green-span"},[t._v(t._s(t.transfer)+" "+t._s(t.bonusStr(t.transfer)))])]),t._v(" "),i("p",{staticClass:"n-top-block-sub-title"},[t._v("Зараховано на Вашу картку: "),i("span",{staticClass:"n-top-blog-green-span"},[t._v(t._s(t.transferCard)+" грн")])]),t._v(" "),i("p",{staticClass:"n-top-block-sub-title"},[t._v("Утримано податків: "),i("span",{staticClass:"n-top-blog-green-span"},[t._v(t._s(t.transferCardTax)+" грн")])])]],2),t._v(" "),i("div",{staticClass:"n-bottom-block-sale"},[i("p",{staticClass:"n-bottom-block-sub-title"},[t._v("Бонуси буде конвертовано у гривні та переведено на картковий рахунок будь-якого банку в Україні..")]),t._v(" "),i("p",{staticClass:"n-bottom-block-sub-title"},[t._v("Зверніть увагу, що під час переведення коштів з них буде утримано 18% податку на дохід фізичних осіб та 1,5%\n            військового збору")])])])])],1),t._v(" "),i("div",{staticClass:"n-modal-plus-btn-con"},[i("button",{on:{click:function(e){return t.submit()}}},[t._v(t._s(t.labelSubmit))])])])};te._withStripped=!0;var ee={name:"plus-transfer",data:function(){return{is_load:!0,account:null,is_active_card:0,_transfer:0,_type:0}},computed:{type:{set:function(t){this.$data._type=t===this.$data._type?0:t},get:function(){return this.$data._type}},transfer:{set:function(t){this.$data._transfer=t>this.account.available?this.account.available:t},get:function(){return this.$data._transfer}},transferCard:{get:function(){return Math.floor(80.5*this.transfer)/100}},transferCardTax:{get:function(){return Math.ceil(19.5*this.transfer)/100}},labelSubmit:{get:function(){return 20!==this.type||this.is_active_card?"Конвертувати":"Пройти веріфікацію"}}},created:function(){var t=this;vo.ajax(null,"/ext/profile/plus-transfer-init",{},(function(e){"data"in e?(t.is_load=!1,t.account=e.data.account,t.is_active_card=e.data.is_active_card):reject(e)}))},methods:{bonusStr:function(t){return Object(l.r)(t,["бонус","бонуси","бонусів"])},submit:function(){var t=this;20!==this.type||this.is_active_card?this.type?this.transfer?this.transfer>this.account.available?vo.popup("Для конвертації доступно ".concat(this.account.available," ").concat(this.bonusStr(this.account.available))):vo.dlg.confirm(null,"Конвертація бонусів","На Ваш внутрішній рахунок буде конвертовано ".concat(this.transfer," ").concat(this.bonusStr(this.transfer)),(function(){t.is_load=!0,vo.ajax(null,"/ext/profile/plus-transfer-confirm",{transfer:t.transfer,type:t.type},(function(e){t.is_load=!1}))})):vo.popup("Вкажіть кількість бонусів, яку Ви бажаєте конвертувати"):vo.popup("Оберіть спосіб конвертації бонусів"):aa_DlgPlusTransferActivation()}}},ie=(i(94),Object(d.a)(ee,te,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n-modal-title-wrap"},[i("span",{staticClass:"n-modal-title"},[t._v("Конвертація бонусів")]),t._v(" "),i("span",{staticClass:"n-modal-title-small"},[t._v("Курс:(1 бонус = 1 грн)")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n-bonus-flex-wrap"},[i("div",{staticClass:"n-bonus-item"},[i("p",[t._v("\n        Оберіть спосіб конвертації бонусів\n      ")])])])}],!1,null,"74a65c35",null));ie.options.__file="js/modules/plus/transfer/components/transfer.vue";var ne=ie.exports,se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n-modal-plus"},[t._m(0),t._v(" "),i("p",{staticClass:"n-bottom-block-sub-title"},[t._v("Компанія Всеосвіта веде свою діяльність абсолютно офіційно та сплачує всі податки,\n    тож для того щоб активувати функцію конвертації бонусів у гривні та мати можливість переводити кошти на Ваш картковий рахунок,\n    Вам необхідно сформувати пакет документів та підписати його електронним підписом, або надіслати нам по пошті із особистим підписом\n  ")]),t._v(" "),i("p",{staticClass:"n-top-block-sub-title"},[t.step>1?i("span",[t._v("✔")]):t._e(),i("b",[t._v("Крок 1")]),t._v(" Ознайомтесь із положенням про партнерську програму "),t.step>1?i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){t.step=1}}},[i("small",[t._v("[редагувати]")])]):t._e()]),t._v(" "),1===t.step?[i("div",{staticClass:"v-input-block"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.accept,expression:"accept"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.accept)?t._i(t.accept,null)>-1:t.accept},on:{change:function(e){var i=t.accept,n=e.target,s=!!n.checked;if(Array.isArray(i)){var a=t._i(i,null);n.checked?a<0&&(t.accept=i.concat([null])):a>-1&&(t.accept=i.slice(0,a).concat(i.slice(a+1)))}else t.accept=s}}}),t._v(" Я ознайомився з положенням "),i("a",{attrs:{href:"/site/doc/plus",target:"_blank"}},[t._v("https://vseosvita.ua/site/doc/plus")])])]),t._v(" "),i("div",{staticClass:"v-align-center n-m-bottom"},[i("a",{staticClass:"v-blue-button v-green-button",attrs:{href:"javascript:void(0);"},on:{click:t.submitStep1}},[t._v("Наступний крок")])])]:t._e(),t._v(" "),i("p",{staticClass:"n-top-block-sub-title"},[t.step>2?i("span",[t._v("✔")]):t._e(),i("b",[t._v("Крок 2")]),t._v(" Заповніть форму та сформуйте заяву "),t.step>2?i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){t.step=2}}},[i("small",[t._v("[редагувати]")])]):t._e()]),t._v(" "),2===t.step?[i("div",{staticClass:"v-input-block"},[i("label",[t._v("Прізвище Ім'я Побатькові")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.full_name,expression:"full_name"}],attrs:{type:"text"},domProps:{value:t.full_name},on:{input:function(e){e.target.composing||(t.full_name=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"v-input-block"},[i("label",[t._v("Адреса місця проживання")]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.address_1,expression:"address_1"}],attrs:{rows:"3"},domProps:{value:t.address_1},on:{input:function(e){e.target.composing||(t.address_1=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"v-input-block"},[i("label",[t._v("Адреса місця реєстрації "),t.address_1&&t.address_2!==t.address_1?i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){t.address_2=t.address_1}}},[i("small",[t._v("[копіювати з попереднього]")])]):t._e()]),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.address_2,expression:"address_2"}],attrs:{rows:"3"},domProps:{value:t.address_2},on:{input:function(e){e.target.composing||(t.address_2=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"v-input-block"},[i("label",[t._v("Документ, що посвідчує Вашу особу")]),t._v(" "),i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.passport_type,expression:"passport_type"}],attrs:{type:"radio"},domProps:{value:1,checked:t._q(t.passport_type,1)},on:{change:function(e){t.passport_type=1}}}),t._v(" Паспорта громадянина України у вигляді книжки")]),t._v(" "),i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.passport_type,expression:"passport_type"}],attrs:{type:"radio"},domProps:{value:2,checked:t._q(t.passport_type,2)},on:{change:function(e){t.passport_type=2}}}),t._v(" Паспорта громадянина України у вигляді ID картки")]),t._v(" "),i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.passport_type,expression:"passport_type"}],attrs:{type:"radio"},domProps:{value:3,checked:t._q(t.passport_type,3)},on:{change:function(e){t.passport_type=3}}}),t._v(" Інший документ, що посвідчує особу")])]),t._v(" "),i("div",{staticClass:"v-input-block"},[i("label",[t._v("Наявність у Вас ідентифікаційного номеру")]),t._v(" "),i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ipn_type,expression:"ipn_type"}],attrs:{type:"radio"},domProps:{value:1,checked:t._q(t.ipn_type,1)},on:{change:function(e){t.ipn_type=1}}}),t._v(" Так, я маю ідентифікаційной номер")]),t._v(" "),i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.ipn_type,expression:"ipn_type"}],attrs:{type:"radio"},domProps:{value:2,checked:t._q(t.ipn_type,2)},on:{change:function(e){t.ipn_type=2}}}),t._v(" Ні, я не маю ідентифікаційного номеру")])]),t._v(" "),i("div",{staticClass:"v-input-block"},[1===t.ipn_type?i("label",[t._v("РНОКПП (ідентифікаційний код)")]):2===t.ipn_type?i("label",[t._v("Серія та номер паспорту, ким виданий, дата видачі")]):i("label",[t._v("РНОКПП (ідентифікаційний код) або серія та номер паспорту, ким виданий, дата видачі")]),t._v(" "),1===t.ipn_type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.ipn,expression:"ipn"}],attrs:{type:"text"},domProps:{value:t.ipn},on:{input:function(e){e.target.composing||(t.ipn=e.target.value)}}}):i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ipn,expression:"ipn"}],attrs:{rows:"3"},domProps:{value:t.ipn},on:{input:function(e){e.target.composing||(t.ipn=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"v-input-block"},[i("label",[t._v("Адреса електронної пошти")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"v-input-block"},[i("label",[t._v("Мобільний телефон")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"v-input-block"},[i("label",[t._v("Банківський рахунок у форматі IBAN")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.iban,expression:"iban"}],attrs:{type:"text"},domProps:{value:t.iban},on:{input:function(e){e.target.composing||(t.iban=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"v-input-block"},[i("label",[t._v("Назва банку")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.bank,expression:"bank"}],attrs:{type:"text"},domProps:{value:t.bank},on:{input:function(e){e.target.composing||(t.bank=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"v-input-block"},[i("label",[t._v("Код банку (МФО)")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.mfo,expression:"mfo"}],attrs:{type:"text"},domProps:{value:t.mfo},on:{input:function(e){e.target.composing||(t.mfo=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"v-align-center n-m-bottom"},[i("a",{staticClass:"v-blue-button v-green-button",attrs:{href:"javascript:void(0);"},on:{click:t.submitStep2}},[t._v("Наступний крок")])])]:t._e(),t._v(" "),i("p",{staticClass:"n-top-block-sub-title"},[t.step>3?i("span",[t._v("✔")]):t._e(),i("b",[t._v("Крок 3")]),t._v(" Обрати спосіб підписання заяви "),t.step>3?i("a",{directives:[{name:"nohref",rawName:"v-nohref"}],on:{click:function(e){t.step=3}}},[i("small",[t._v("[редагувати]")])]):t._e()]),t._v(" "),3===t.step?[i("div",{staticClass:"v-input-block"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.sign_type,expression:"sign_type"}],attrs:{type:"radio"},domProps:{value:1,checked:t._q(t.sign_type,1)},on:{change:function(e){t.sign_type=1}}}),t._v(" Підписати електронним підписом")]),t._v(" "),i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.sign_type,expression:"sign_type"}],attrs:{type:"radio"},domProps:{value:2,checked:t._q(t.sign_type,2)},on:{change:function(e){t.sign_type=2}}}),t._v(" Підписати особисто та надіслати поштою")])]),t._v(" "),i("div",{staticClass:"v-align-center n-m-bottom"},[i("a",{staticClass:"v-blue-button v-green-button",attrs:{href:"javascript:void(0);"},on:{click:t.submitStep3}},[t._v("Наступний крок")])])]:t._e(),t._v(" "),4===t.step||5===t.step?[1===t.sign_type?i("div",[i("p",{staticClass:"n-top-block-sub-title"},[t._v("Інструкція:")]),t._v(" "),t._m(1),t._v(" "),1===t.passport_type?i("p",[i("b",[t._v("Копії сторінок паспорту")]),t._v(" на яких зазначена інформація про: ПІБ, дата народження, дата видачі та орган видачі, серія та номер паспорту, місця проживання або місце перебування"),2===t.ipn_type?[t._v(", та сторінки з проставлено відмітку про відмову від отримання ідентифікаційного номеру")]:t._e(),t._v("; "),1===t.ipn_type?[i("b",[t._v("копію довідки")]),t._v(" про присвоєння реєстраційного номеру облікової картки платника податків")]:t._e()],2):t._e(),t._v(" "),2===t.passport_type?i("p",[i("b",[t._v("Копію ID картки")]),t._v(" з обох сторін на якій наявна інформація про: ПІБ; дату народження; дату видачі та орган видачі; номер ID-картки; "),1===t.ipn_type?[t._v("ідентифікаційний номер")]:[t._v("відмітка про відмову в отриманні ідентифікаційного номеру")],t._v("; "),i("b",[t._v("копію довідки")]),t._v(" про реєстрацію місця проживання, або "),i("b",[t._v("копію витягу")]),t._v(" з єдиного державного демографічного реєстру щодо реєстрації місця проживання;")],2):t._e(),t._v(" "),3===t.passport_type?i("p",[i("b",[t._v("Копію всіх сторінок")]),t._v(" відповідного документу що посвідчує особу на яких наявна інформація про: ПІБ; дата видачі та орган видачі,  дату народження; місце проживання або місце перебування фізичної особи - резидента України (місце проживання або місце тимчасового перебування фізичної особи - нерезидента в Україні.);")]):t._e(),t._v(" "),t.attachments.length?i("div",t._l(t.attachments,(function(e){return i("div",{staticClass:"v-file-upload-block"},[i("i",{staticClass:"v-success-icon"},[t._v("✔")]),t._v("Файл, "),i("a",{attrs:{href:t.fileUrlProtected(e.file),target:"_blank"}},[t._v(t._s(e.file_src))]),t._v(" "),i("a",{staticClass:"v-delete-btn",on:{click:function(i){return t.removeAttachment(e)}}},[t._v("x")])])})),0):t._e(),t._v(" "),i("div",{staticClass:"upload"},[i("button",{staticClass:"v-border-upload i-upload-buttonw1",attrs:{type:"button"},on:{click:t.attachFile}},[i("i",[t._v("+")]),t._v("Обрати зображення на вашому ПК")])]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),i("div",{staticClass:"v-align-center n-m-bottom"},[i("a",{staticClass:"v-blue-button v-green-button",attrs:{href:"javascript:void(0);"},on:{click:t.submitStep4}},[t._v("Надіслати заявку")])])]):t._e(),t._v(" "),2===t.sign_type?i("div",[i("p",{staticClass:"n-top-block-sub-title"},[t._v("Інструкція:")]),t._v(" "),t._m(4),t._v(" "),1===t.passport_type?i("p",[i("b",[t._v("2.")]),t._v(" Додайте до заяви "),i("b",[t._v("копії сторінок паспорту")]),t._v(" на яких зазначена інформація про: ПІБ, дата народження, дата видачі та орган видачі, серія та номер паспорту, місця проживання або місце перебування"),2===t.ipn_type?[t._v(", та сторінки з проставлено відмітку про відмову від отримання ідентифікаційного номеру")]:t._e(),t._v("; "),1===t.ipn_type?[i("b",[t._v("копію довідки")]),t._v(" про присвоєння реєстраційного номеру облікової картки платника податків")]:t._e()],2):t._e(),t._v(" "),2===t.passport_type?i("p",[i("b",[t._v("2.")]),t._v(" Додайте до заяви "),i("b",[t._v("копію ID картки")]),t._v(" з обох сторін на якій наявна інформація про: ПІБ; дату народження; дату видачі та орган видачі; номер ID-картки; "),1===t.ipn_type?[t._v("ідентифікаційний номер")]:[t._v("відмітка про відмову в отриманні ідентифікаційного номеру")],t._v("; "),i("b",[t._v("копію довідки")]),t._v(" про реєстрацію місця проживання, або "),i("b",[t._v("копію витягу")]),t._v(" з єдиного державного демографічного реєстру щодо реєстрації місця проживання;")],2):t._e(),t._v(" "),3===t.passport_type?i("p",[i("b",[t._v("2.")]),t._v(" Додайте до заяви "),i("b",[t._v("копію всіх сторінок")]),t._v(" відповідного документу що посвідчує особу на яких наявна інформація про: ПІБ; дата видачі та орган видачі,  дату народження; місце проживання або місце перебування фізичної особи - резидента України (місце проживання або місце тимчасового перебування фізичної особи - нерезидента в Україні.);")]):t._e(),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),i("div",{staticClass:"v-align-center n-m-bottom"},[i("a",{staticClass:"v-blue-button v-green-button",attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.$emit("close")}}},[t._v("Завершити")])])]):t._e()]:t._e()],2)};function ae(t){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}se._withStripped=!0;var re={name:"transfer-activation",computed:{},data:function(){return{step:1,accept:!1,full_name:"",address_1:"",address_2:"",ipn:"",email:"",phone:"",iban:"",bank:"",mfo:"",sign_type:0,passport_type:0,ipn_type:0,attachments:[]}},methods:{submitStep1:function(){this.accept?(this.step=2,this.save()):vo.popup("Вам необхідно ознайомитись із положенням про партнерську програму")},submitStep2:function(){var t=[];this.full_name||t.push("Прізвище Ім'я Побатькові"),this.address_1||t.push("Адреса місця проживання"),this.address_2||t.push("Адреса місця реєстрації"),this.passport_type||t.push("Документ, що посвідчує Вашу особу"),this.ipn_type||t.push("Наявність у Вас ідентифікаційного номеру"),this.ipn||t.push(1===this.ipn_type?"РНОКПП (ідентифікаційний код)":2===this.ipn_type?"Серія та номер паспорту, ким виданий, дата видачі":"РНОКПП (ідентифікаційний код) або серія та номер паспорту, ким виданий, дата видачі"),this.email||t.push("Адреса електронної пошти"),this.phone||t.push("Мобільний телефон"),this.iban||t.push("Банківський рахунок у форматі IBAN"),this.bank||t.push("Назва банку"),this.mfo||t.push("Код банку (МФО)"),t.length?vo.popup("<b>Вам необхідно вказати наступні дані:</b><br >"+t.join("<br />")):(this.step=3,this.save())},submitStep3:function(){this.sign_type?(this.step=4,this.save()):vo.popup("Вам необхідно обрати спосіб підписання документів")},submitStep4:function(){this.attachments.length<3?vo.popup("Вам необхідно прикріпити скани всіх документів"):(this.step=5,this.save())},updateData:function(t){var e=this;t&&Object.keys(this.$data).forEach((function(i){if(i in t)switch(ae(e.$data[i])){case"number":n.a.set(e.$data,i,Number(t[i]));break;case"boolean":n.a.set(e.$data,i,"string"==typeof t[i]?"true"===t[i]:Boolean(t[i]));break;default:"attachments"!==i||t[i]||console.log(i,t[i]),n.a.set(e.$data,i,"attachments"!==i||t[i]?t[i]:[])}}))},save:function(){var t=this;vo.ajax(null,"/ext/profile/plus-activation-init",{data:this.$data},(function(e){"data"in e&&t.updateData(e.data)}))},attachFile:function(){var t=this,e=document.createElement("input");e.type="file",e.accept="image/x-png,image/gif,image/jpeg",e.multiple=!0,e.onchange=function(){t.uploadFiles(e.files)},e.click()},removeAttachment:function(t){var e=this.attachments.indexOf(t);e>=0&&this.attachments.splice(e,1)},uploadFile:function(t){var e=this;return new Promise((function(i,n){Object(l.y)({file:t,is_protected:1},{success:function(t){var n=t.data;e.attachments.push(n),i(n)},error:function(t){n(t)},uploadProgress:function(t,i,n,s){e.uploadProgress=s}})}))},uploadFiles:function(t){for(var e=this,i=Array.prototype.slice.apply(t),n=Promise.resolve(),s=function(t){n=n.then((function(){return e.uploadFile(i[t])}))},a=0;a<i.length;++a)s(a);n.catch((function(t){return Object(l.w)(t)}))},fileUrlProtected:function(t){return Object(l.i)(t)}},created:function(){var t=this;vo.ajax(null,"/ext/profile/plus-activation-init",{},(function(e){"data"in e?t.updateData(e.data):reject(e)}))}},oe=Object(d.a)(re,se,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n-modal-title-wrap"},[i("span",{staticClass:"n-modal-title"},[t._v("Активація виведення коштів на картку")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("b",[t._v("1.")]),t._v(" Відскануйте або сфотографуйте наступні документи та прикріпить їх на цій сторінці:")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("b",[t._v("2.")]),t._v(" Після отримання заявки, протягом одного робочого дня, на Вашу електронну пошту буде надіслане запрошення для підписання пакету документів у сервісі "),i("b",[t._v("https://paperless.com.ua/")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("b",[t._v("3.")]),t._v(" Після підписання Вами документів електронним підписом, протягом одного робочого дня, Вам буде активовано можливість отримувати кошти на Ваш картковий рахунок, про що Вас буде додатково проінформовано на електронну пошту.")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("b",[t._v("1.")]),t._v(" Завантажте сгенеровану заяву, роздрукуйте та підпишить "),i("a",{attrs:{href:"/profile/download-tpl-by-type/?type=12",target:"_blank"}},[t._v("[завантажити]")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("b",[t._v("Важливо!")]),t._v(" Всі копії документів засвідчити підписом, як такі, що відповідають оригіналу, приклад: "),i("i",[t._v("«Згідно з оригіналом» ПІБ, підпис Користувача сайту, дата")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("b",[t._v("3.")]),t._v(" Надішліть пакет документів поштою на адресу: 04080, м. Київ, вул. Кирилівська, будинок 82, офіс 256, ТОВ «ВСЕОСВІТА»;")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("b",[t._v("4.")]),t._v(" Після отримання Ваших документів, протягом одного робочого дня, Вам буде активовано можливість отримувати кошти на Ваш картковий рахунок, про що Вас буде додатково проінформовано на електронну пошту.")])}],!1,null,"710e9360",null);oe.options.__file="js/modules/plus/transfer/components/activation.vue";var ce=oe.exports;window.aa_DlgPlusTransfer=function(){Object(l.v)(ne)},window.aa_DlgPlusTransferActivation=function(){Object(l.v)(ce)};var le=i(32);"widgets"in vo||(vo.widgets={}),vo.widgets.selectCity=function(t,e){new n.a({el:t,render:function(t){return t(le.a,{props:e})}})};i(95),i(96);var ue=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-city-widget"},[i("input",{staticClass:"rk-user-location__input",attrs:{type:"hidden",id:t.inputId,name:t.inputName}}),t._v(" "),t.isLocationLoaded?i("div",[i("div",{staticClass:"v-city-widget-input",class:{"v-city-widget-input-open":t.selectsShowed}},[i("a",{staticClass:"v-city-widget-input-title",attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.toggleShowSelects(e)}}},[t._v("\n                "+t._s(t.locationText||"Оберіть місто зі списку або скористайтесь фільтрами")+"\n            ")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.selectsShowed,expression:"selectsShowed"}],staticClass:"v-city-widget-show-on-modile"},[i("select",{attrs:{id:"rk-choose-region-mobile-"+t.inputId},on:{input:function(e){return t.chooseRegion(e,e.target.value)}}},[i("option",{attrs:{value:"Оберіть область"}},[t._v("Оберіть область")]),t._v(" "),t._l(t.locations.regions,(function(e){return i("option",{domProps:{value:e[0]}},[t._v(t._s(e[1]))])}))],2),t._v(" "),i("select",{attrs:{id:"rk-choose-area-mobile-"+t.inputId},on:{input:function(e){return t.chooseArea(e,e.target.value)}}},[i("option",{attrs:{value:"Оберіть район"}},[t._v("Оберіть район")]),t._v(" "),t._l(t.locations.areas,(function(e,n){return i("option",{domProps:{value:n}},[t._v(t._s(e))])}))],2),t._v(" "),i("select",{attrs:{id:"rk-choose-location-mobile-"+t.inputId},on:{change:function(e){return t.chooseLocation(e,e.target.value)}}},[i("option",{attrs:{value:"Оберіть населений пункт"}},[t._v("Оберіть населений пункт")]),t._v(" "),t._l(t.locations.cities,(function(e){return i("option",{domProps:{value:e[0]}},[t._v(t._s(e[1]))])}))],2)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.selectsShowed,expression:"selectsShowed"}],staticClass:"v-city-widget-dropdown",staticStyle:{display:"none"}},[i("div",{staticClass:"v-city-widget-dropdown-block",class:{"v-city-widget-dropdown-block-choosen":t.regionChosen,"v-city-widget-dropdown-block-active":!t.regionChosen}},[i("div",{staticClass:"v-city-widget-dropdown-block-title"},[t._v("Оберіть область")]),t._v(" "),i("div",{staticClass:"v-city-widget-dropdown-list"},[i("ul",{staticClass:"v-city-widget-dropdown-list-city"},t._l(t.locations.regions,(function(e){return i("li",{class:{active:e[1]===t.selectedRegion}},[i("a",{attrs:{href:"javascript:void(0);"},on:{click:function(i){return t.chooseRegion(i,e[0])}}},[t._v(t._s(e[1]))])])})),0)])]),t._v(" "),i("div",{staticClass:"v-city-widget-dropdown-block",class:{"v-city-widget-dropdown-block-unactive":!t.regionChosen,"v-city-widget-dropdown-block-active":!t.areaChosen,"v-city-widget-dropdown-block-choosen":t.areaChosen}},[i("div",{staticClass:"v-city-widget-dropdown-block-title"},[t._v("Оберіть район")]),t._v(" "),t.regionChosen?i("div",{staticClass:"v-city-widget-dropdown-list"},[i("ul",{staticClass:"v-city-widget-dropdown-list-city"},t._l(t.locations.areas,(function(e,n){return i("li",{class:{active:e===t.selectedArea}},[i("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return e.preventDefault(),t.chooseArea(e,n)}}},[t._v(t._s(e))])])})),0)]):i("div",{staticClass:"v-city-widget-dropdown-block-sub-title"},[t._v("Спочатку потрібно обрати область")])]),t._v(" "),i("div",{staticClass:"v-city-widget-dropdown-block v-city-widget-dropdown-block-last"},[i("div",{staticClass:"v-city-widget-dropdown-block-last-top"},[i("div",{staticClass:"v-city-widget-dropdown-list"},[i("ul",{staticClass:"v-city-widget-dropdown-list-city-last"},t._l(t.locations.cities,(function(e){return i("li",{class:{active:e[1]===t.selectedArea}},[i("a",{attrs:{href:"javascript:void(0);"},on:{click:function(i){return i.preventDefault(),t.chooseLocation(i,e[0])}}},[t._v(t._s(e[1]))])])})),0)])])])])]):i("div",[t._v("Йде завантаження...")])])};ue._withStripped=!0;var de={name:"select-city",props:["inputId","inputName","inputValue","inputLabel"],data:function(){return{hiddenInput:null,locationText:"",locationValue:"",isLocationLoaded:!1,selectsShowed:!1,locations:{regions:{},areas:{},cities:{},initialCities:{}},loadedLocations:{},regionChosen:!1,selectedRegion:"",areaChosen:!1,selectedArea:""}},methods:{fetchData:function(t){var e=this;return t||(t={type_step:1}),new Promise((function(i){vo.ajax(null,"/ext/address/locality",t,(function(n){n.cities&&(t.code||(e.locations.regions=n.regions?n.regions:{}),3!==t.type_step&&n.areas&&(e.locations.areas=n.areas),e.locations.cities=n.cities),i(n)}))}))},toggleShowSelects:function(t){this.selectsShowed=!this.selectsShowed,this.selectsShowed&&this.cityChosen&&this.locations.initialCities&&(this.locations.cities=this.locations.initialCities,this.regionChosen=!1,this.selectedRegion="",this.areaChosen=!1,this.selectedArea="",this.cityChosen=""),document.getElementById("rk-choose-region-mobile-"+this.inputId).value="Оберіть область",document.getElementById("rk-choose-area-mobile-"+this.inputId).value="Оберіть район",document.getElementById("rk-choose-location-mobile-"+this.inputId).value="Оберіть населений пункт"},chooseRegion:function(t,e){var i=this;if(e){var n="A"===t.target.nodeName?t.target.innerHTML:t.target.value;if(n!==this.selectedRegion&&!this.loadedLocations[n])return"Оберіть область"===e?(this.regionChosen=!1,this.selectedRegion="",void(this.locations.initialCities&&(this.locations.cities=this.locations.initialCities))):void this.fetchData({code:e,type_step:2}).then((function(t){i.loadedLocations[n]={areas:{list:t.areas},cities:t.cities},i.regionChosen=!0,i.selectedRegion=n,i.selectedArea=""}));n===this.selectedRegion?this.regionChosen=!this.regionChosen:(this.selectedRegion=n,this.locations.areas=this.loadedLocations[n].areas.list,this.regionChosen=!0),this.locations.cities=this.regionChosen&&this.loadedLocations[n]?this.loadedLocations[n].cities:this.locations.initialCities,this.areaChosen=!1}},chooseArea:function(t,e){var i=this;if(e){var n="A"===t.target.nodeName?t.target.innerHTML:t.target.value,s=this.loadedLocations[this.selectedRegion];if(n!==this.selectedArea&&!s.areas[n])return"Оберіть район"===e?(this.areaChosen=!1,this.selectedArea="",void(this.locations.cities=s.cities)):void this.fetchData({code:e,type_step:3}).then((function(e){s.areas[n]=e.cities,i.areaChosen=!0,i.selectedArea="A"===t.target.nodeName?n:i.locations.regions[n]}));n===this.selectedArea?this.areaChosen=!this.areaChosen:(this.selectedArea=n,this.locations.cities=s.areas[n],this.areaChosen=!0),this.locations.cities=this.areaChosen&&s.areas[n]?s.areas[n]:s.cities}},chooseLocation:function(t,e){var i=this;this.locationValue&&this.locationValue===e?this.selectsShowed=!1:this.fetchData({code:e,is_get_info:!0}).then((function(t){i.locationText=[t.region,t.area,t.city].filter((function(t){return!!t})).join(", "),i.locationValue=e,i.selectsShowed=!1,i.$emit("select-city-selected",i.locationValue,i.locationText);var n=document.querySelector("#".concat(i.inputId,".rk-user-location__input"));n&&(n.value=i.locationValue,n.dispatchEvent(new CustomEvent("select_location")))}))},setLocations:function(t){this.locations=t,this.locations.initialCities=t.cities,this.isLocationLoaded=!0},setEvent:function(){try{new CustomEvent("IE has CustomEvent, but doesn't support constructor")}catch(t){window.CustomEvent=function(t,e){var i;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},(i=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i},CustomEvent.prototype=Object.create(window.Event.prototype)}}},mounted:function(){this.$nextTick((function(){var t=this;this.locationText=this.inputLabel?this.inputLabel:"",this.locationValue=this.inputValue?this.inputValue:"",this.setEvent();var e=document.querySelector("#".concat(this.inputId,".rk-user-location__input"));(e&&(e.value=this.locationValue),window.hasOwnProperty("LocationsFromServer"))?this.setLocations(window.LocationsFromServer):new Promise((function(t){vo.ajax(null,"/ext/address/locality",{type_step:1},(function(e){var i=Object.assign(e);t(i)}))})).then((function(e){return t.setLocations(e)}));this.$emit("select-city-initialized")}))}},pe=Object(d.a)(de,ue,[],!1,null,null,null);pe.options.__file="js/components/SelectCity.vue";var ve=pe.exports;window.aa_createSelectCityWidget=function(t,e){t&&null!==document.getElementById(t)&&new n.a({el:"#"+t,render:function(t){return t(ve,{props:e})},components:{SelectCity:ve}})};var fe=i(31);window.SchoolStreetSelect=fe.a},99:function(t,e){var i,n;i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],i=0,n=0;i<t.length;i++,n+=8)e[n>>>5]|=t[i]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],i=0;i<32*t.length;i+=8)e.push(t[i>>>5]>>>24-i%32&255);return e},bytesToHex:function(t){for(var e=[],i=0;i<t.length;i++)e.push((t[i]>>>4).toString(16)),e.push((15&t[i]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],i=0;i<t.length;i+=2)e.push(parseInt(t.substr(i,2),16));return e},bytesToBase64:function(t){for(var e=[],n=0;n<t.length;n+=3)for(var s=t[n]<<16|t[n+1]<<8|t[n+2],a=0;a<4;a++)8*n+6*a<=8*t.length?e.push(i.charAt(s>>>6*(3-a)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],n=0,s=0;n<t.length;s=++n%4)0!=s&&e.push((i.indexOf(t.charAt(n-1))&Math.pow(2,-2*s+8)-1)<<2*s|i.indexOf(t.charAt(n))>>>6-2*s);return e}},t.exports=n}},[[820,106,0,1]]]);